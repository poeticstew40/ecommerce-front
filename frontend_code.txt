--- FILE: C:\Workspace\ecommerce-front\src\admin\layouts\AdminLayout.jsx ---
import { Link, Outlet, useNavigate, useParams, useLocation } from "react-router-dom";
import { useState, useEffect } from "react";
import { useAuth } from "../../tienda/contexts/AuthContext";
import "../styles/AdminLayout.css";

/**
 * Layout del panel administrativo (VENDEDORES)
 * * Proporciona la estructura base con sidebar y navbar
 * para todas las pÃ¡ginas del panel de administraciÃ³n
 */
function AdminLayout() {
    const { usuario, logout, tiendaUsuario } = useAuth();
    const { nombreTienda } = useParams();
    const location = useLocation();
    const navigate = useNavigate();
    
    // Obtener el nombreTienda de los params o de la tienda del usuario
    const tiendaActual = nombreTienda ||
    tiendaUsuario?.nombreUrl || tiendaUsuario?.nombreTienda || 'tienda';

    // Estado para controlar si el menÃº de productos estÃ¡ abierto
    const [productosMenuAbierto, setProductosMenuAbierto] = useState(false);
    
    // Verificar si estamos en alguna ruta de productos
    useEffect(() => {
        const rutaActual = location.pathname;
        const estaEnProductos = rutaActual.includes('/productos/crear') || rutaActual.includes('/productos/editar');
        setProductosMenuAbierto(estaEnProductos);
    }, [location.pathname]);
    
    const handleLogout = () => {
        logout();
        navigate("/login");
    };

    return (
        <div className="admin-layout">
            {/* Sidebar */}
            <aside className="admin-sidebar">
                <div className="admin-sidebar-header">
                    <h2 className="admin-sidebar-title">
                        Panel Vendedor
                    </h2>
                </div>

                <nav className="admin-sidebar-nav">
                    <Link 
                        to={`/admin/${tiendaActual}/dashboard`}
                        className="admin-sidebar-link"
                    >
                        ðŸ“Š Dashboard
                    </Link>
             
                    <Link 
                        to={`/admin/${tiendaActual}/configuracion`}
                        className="admin-sidebar-link"
                    >
                        ðŸª Mi Tienda
                    </Link>

                    {/* SUBMENU PRODUCTOS */}
                    <div className="admin-sidebar-submenu">
                        <div 
                            className="admin-sidebar-submenu-title"
                            onClick={() => setProductosMenuAbierto(!productosMenuAbierto)}
                            style={{ cursor: 'pointer' }}
                        >
                            ðŸ“¦ Productos {productosMenuAbierto ? 'â–¼' : 'â–¶'}
                        </div>
                        <div 
                            className={`admin-sidebar-submenu-items ${productosMenuAbierto ? 'open' : 'closed'}`}
                        >
                            <Link 
                                to={`/admin/${tiendaActual}/productos/crear`}
                                className="admin-sidebar-link admin-sidebar-sublink"
                                onClick={() => setProductosMenuAbierto(true)}
                            >
                                âž• Crear Productos
                            </Link>
                            <Link 
                                to={`/admin/${tiendaActual}/productos/editar`}
                                className="admin-sidebar-link admin-sidebar-sublink"
                                onClick={() => setProductosMenuAbierto(true)}
                            >
                                âœï¸ Editar Productos
                            </Link>
                        </div>
                    </div>

                    <Link 
                        to={`/admin/${tiendaActual}/categorias`}
                        className="admin-sidebar-link"
                    >
                        ðŸ“‚ CategorÃ­as
                    </Link>

                    {/* SECCIÃ“N DE VENTAS (Lo que me compran a mÃ­) */}
                    <div style={{ margin: '10px 0', borderTop: '1px solid rgba(255,255,255,0.1)' }}></div>
                    <Link 
                        to={`/admin/${tiendaActual}/pedidos`}
                        className="admin-sidebar-link"
                        style={{ color: '#81ecec' }}
                    >
                        ðŸ“¤ Mis Ventas
                    </Link>

                    {/* SECCIÃ“N PERSONAL (Lo que yo compro y seguridad) */}
                    <div style={{ margin: '10px 0', borderTop: '1px solid rgba(255,255,255,0.1)' }}></div>
                    
                    <Link 
                        to="/perfil/compras"
                        className="admin-sidebar-link"
                        style={{ color: '#fab1a0' }} 
                    >
                        ðŸ“¥ Mis Compras
                    </Link>

                    <Link 
                        to={`/admin/${tiendaActual}/seguridad`}
                        className="admin-sidebar-link"
                    >
                        ðŸ”’ Seguridad
                    </Link>
                </nav>

                <div className="admin-sidebar-footer">
                    {usuario && (
                        <div className="admin-sidebar-footer-user">
                            <div className="admin-sidebar-footer-user-info">
                                <span className="admin-sidebar-footer-user-name">
                                    {usuario.nombre} {usuario.apellido}
                                </span>
                                {usuario.emailVerificado !== undefined && (
                                    <span 
                                        className={`admin-sidebar-footer-user-icon ${usuario.emailVerificado ? "verified" : "unverified"}`}
                                        title={usuario.emailVerificado ? "Email Verificado" : "Email No Verificado"}
                                    >
                                        {usuario.emailVerificado ? "âœ“" : "âš ï¸"}
                                    </span>
                                )}
                            </div>
  
                            <button
                                onClick={handleLogout}
                                className="admin-sidebar-footer-logout"
                            >
                                Cerrar SesiÃ³n
                            </button>
                     
                            <button
                                onClick={() => navigate("/")}
                                className="btn-landing-link"
                            >
                                Volver al Landing
                            </button>
                        </div>
                    )}
                </div>
            </aside>

            {/* Contenido principal */}
            <div className="admin-content">
                {/* Navbar superior */}
                <header className="admin-header">
                    <h1 className="admin-header-title">
                        GestiÃ³n de Tienda
                    </h1>
                    {tiendaUsuario?.nombreUrl && (
                        <Link 
                            to={`/tienda/${tiendaUsuario.nombreUrl}/home`} 
                            className="btn-tienda-link"
                        >
                            Ir a la tienda
                        </Link>
                    )}
                </header>

                {/* Contenido de la pÃ¡gina */}
                <main className="admin-main">
                    <Outlet />
                </main>
            </div>
        </div>
    );
}

export default AdminLayout;
--- FILE: C:\Workspace\ecommerce-front\src\admin\pages\AdminCategorias.jsx ---
import { useState, useEffect, useCallback } from "react";
import { useNavigate, useParams } from "react-router-dom";
import { useAuth } from "../../tienda/contexts/AuthContext";
import { getCategoriasByTienda, createCategoria, updateCategoria, deleteCategoria } from "../../tienda/services/categorias";
import { getProductosByCategoria } from "../../tienda/services/productos";
import { useNotifications } from "../../contexts/NotificationContext";
import "../styles/AdminCategorias.css";

/**
 * PÃ¡gina de gestiÃ³n de categorÃ­as
 * * Permite crear y editar categorÃ­as para la tienda del vendedor autenticado
 * - LÃ­mite de 5 categorÃ­as personalizadas (sin contar "otros")
 * - CategorÃ­a "otros" se crea automÃ¡ticamente y no se puede editar/eliminar
 */
function AdminCategorias() {
    const { usuario, tiendaUsuario, loading: authLoading, isAuthenticated } = useAuth();
    const { nombreTienda } = useParams();
    const navigate = useNavigate();
    const { success: showSuccess, error: showError } = useNotifications();
    const [loading, setLoading] = useState(false);
    const [cargandoCategorias, setCargandoCategorias] = useState(true);
    const [categorias, setCategorias] = useState([]);
    const [categoriaOtros, setCategoriaOtros] = useState(null);
    // Estados del formulario
    const [nombre, setNombre] = useState("");
    const [editandoId, setEditandoId] = useState(null);
    const [nombreEditando, setNombreEditando] = useState("");
    
    // Redirigir si no estÃ¡ autenticado o si aÃºn estÃ¡ cargando
    useEffect(() => {
        if (!authLoading && !isAuthenticated) {
            navigate("/login");
        }
    }, [authLoading, isAuthenticated, navigate]);

    // FunciÃ³n para cargar categorÃ­as (extraÃ­da para poder reutilizarla)
    const cargarCategorias = useCallback(async () => {
        if (!tiendaUsuario?.nombreUrl) {
            setCargandoCategorias(false);
            return;
        }

        try {
            setCargandoCategorias(true);
            // NOTA: El backend ahora trae TODAS las categorÃ­as (eliminaciÃ³n fÃ­sica)
            const categoriasData = await getCategoriasByTienda(tiendaUsuario.nombreUrl);
            
            // Separar "otros" de las demÃ¡s categorÃ­as
            const otros = categoriasData.find(cat => cat.nombre.toLowerCase() === "otros");
            const otrasCategorias = categoriasData.filter(cat => cat.nombre.toLowerCase() !== "otros");
            
            setCategoriaOtros(otros || null);
            setCategorias(otrasCategorias);
            
            // Si no existe "otros", crearla automÃ¡ticamente
            if (!otros) {
                try {
                    const otrosCreada = await createCategoria(tiendaUsuario.nombreUrl, { nombre: "Otros" });
                    setCategoriaOtros(otrosCreada);
                } catch (error) {
                    console.error("Error creando categorÃ­a 'Otros':", error);
                    // Si falla, continuar sin ella (se crearÃ¡ en el prÃ³ximo intento)
                }
            }
        } catch (error) {
            console.error("Error cargando categorÃ­as:", error);
            showError("Error", "No se pudieron cargar las categorÃ­as.");
        } finally {
            setCargandoCategorias(false);
        }
    }, [tiendaUsuario?.nombreUrl, showError]);

    // Cargar categorÃ­as de la tienda y asegurar que existe "otros"
    useEffect(() => {
        if (tiendaUsuario?.nombreUrl) {
            cargarCategorias();
        }
    }, [tiendaUsuario?.nombreUrl, cargarCategorias]);

    const guardarCategoria = async (nombreAUsar = null) => {
        // Usar el nombre proporcionado o el del estado
        const nombreFinal = nombreAUsar !== null ? nombreAUsar : nombre;
        
        if (!nombreFinal.trim()) {
            showError("Error", "El nombre de la categorÃ­a es obligatorio");
            return;
        }

        // Validar que no sea "otros" (reservado)
        if (nombreFinal.trim().toLowerCase() === "otros") {
            showError("Error", "El nombre 'Otros' estÃ¡ reservado y se crea automÃ¡ticamente");
            return;
        }

        // Validar lÃ­mite de 5 categorÃ­as (sin contar "otros")
        if (categorias.length >= 5 && !editandoId) {
            showError("Error", "Has alcanzado el lÃ­mite de 5 categorÃ­as personalizadas. Edita o elimina una existente para crear una nueva.");
            return;
        }

        // Validar que no exista otra categorÃ­a con el mismo nombre (la API lo harÃ¡, pero la validaciÃ³n local es Ãºtil)
        if (editandoId) {
            // Si estamos editando, verificar si el nombre cambiÃ³
            const categoriaOriginal = categorias.find(cat => cat.id === editandoId);
            const nombreCambio = categoriaOriginal && categoriaOriginal.nombre.toLowerCase() !== nombreFinal.trim().toLowerCase();
            
            // Solo validar duplicados si el nombre cambiÃ³
            if (nombreCambio) {
                const nombreNormalizado = nombreFinal.trim().toLowerCase();
                const existe = categorias.some(cat => 
                    cat.nombre.toLowerCase() === nombreNormalizado && cat.id !== editandoId
                );
                if (existe) {
                    showError("Error", "Ya existe una categorÃ­a con ese nombre");
                    return;
                }
            }
        } else {
            // Si estamos creando, siempre validar duplicados
            const nombreNormalizado = nombreFinal.trim().toLowerCase();
            const existe = categorias.some(cat => 
                cat.nombre.toLowerCase() === nombreNormalizado
            );
            if (existe) {
                showError("Error", "Ya existe una categorÃ­a con ese nombre");
                return;
            }
        }

        if (!tiendaUsuario?.nombreUrl) {
            showError("Error", "No se pudo obtener la informaciÃ³n de la tienda.");
            return;
        }

        setLoading(true);
        try {
            if (editandoId) {
                // Editar categorÃ­a existente
                console.log("Actualizando categorÃ­a:", { id: editandoId, nombre: nombreFinal.trim(), nombreTienda: tiendaUsuario.nombreUrl });
                const categoriaActualizada = await updateCategoria(tiendaUsuario.nombreUrl, editandoId, {
                    nombre: nombreFinal.trim()
                });
                console.log("CategorÃ­a actualizada desde servidor:", categoriaActualizada);
                
                // Recargar categorÃ­as desde el servidor para asegurar datos actualizados
                await cargarCategorias();
                showSuccess("CategorÃ­a Actualizada", `La categorÃ­a "${categoriaActualizada.nombre}" ha sido actualizada exitosamente`);
            } else {
                // Crear nueva categorÃ­a
                await createCategoria(tiendaUsuario.nombreUrl, {
                    nombre: nombreFinal.trim()
                });
                // Recargar categorÃ­as desde el servidor
                await cargarCategorias();
                showSuccess("CategorÃ­a Creada", `La categorÃ­a ha sido creada exitosamente`);
            }

            // Limpiar formulario
            setNombre("");
            setEditandoId(null);
            setNombreEditando("");
        } catch (error) {
            console.error("Error al guardar categorÃ­a:", error);
            console.error("Detalles del error:", {
                status: error.response?.status,
                statusText: error.response?.statusText,
                data: error.response?.data,
                message: error.message,
                request: error.config
            
            });
            
            let mensajeError = "Error al guardar la categorÃ­a. Intenta nuevamente.";
            if (error.response?.status === 400) {
                mensajeError = error.response?.data?.message || "Los datos enviados no son vÃ¡lidos.";
            } else if (error.response?.status === 403) {
                mensajeError = "No tienes permisos para realizar esta acciÃ³n. Verifica que seas el dueÃ±o de la tienda.";
            } else if (error.response?.status === 404) {
                mensajeError = "La categorÃ­a no fue encontrada. Puede haber sido eliminada.";
            } else if (error.response?.data?.message) {
                mensajeError = error.response.data.message;
            } else if (error.message) {
                mensajeError = error.message;
            }
            
            showError("Error al guardar categorÃ­a", mensajeError);
        } finally {
            setLoading(false);
        }
    };

    const handleSubmit = async (e) => {
        e.preventDefault();
        await guardarCategoria();
    };

    const iniciarEdicion = (categoria) => {
        setEditandoId(categoria.id);
        setNombreEditando(categoria.nombre);
        setNombre(categoria.nombre);
    };

    const cancelarEdicion = () => {
        setEditandoId(null);
        setNombreEditando("");
        setNombre("");
    };

    const eliminarCategoria = async (categoriaId, nombreCategoria) => {
        if (!tiendaUsuario?.nombreUrl) {
            showError("Error", "No se pudo obtener la informaciÃ³n de la tienda.");
            return;
        }

        setLoading(true);
        try {
            // **IMPORTANTE: En el nuevo diseÃ±o, la API ya se encarga de:
            // 1. Reasignar productos a "Otros".
            // 2. Realizar la eliminaciÃ³n fÃ­sica (liberando el nombre).**
            
            if (!window.confirm(`Â¿EstÃ¡s seguro de que deseas ELIMINAR la categorÃ­a "${nombreCategoria}"? Todos los productos asociados serÃ¡n movidos a "Otros". Esta acciÃ³n es permanente y libera el nombre para su reutilizaciÃ³n.`)) {
                setLoading(false);
                return;
            }

            await deleteCategoria(tiendaUsuario.nombreUrl, categoriaId);
            // Recargar categorÃ­as desde el servidor
            await cargarCategorias();
            showSuccess("CategorÃ­a Eliminada", `La categorÃ­a "${nombreCategoria}" ha sido eliminada exitosamente y sus productos reasignados a "Otros".`);
        } catch (error) {
            console.error("Error al eliminar categorÃ­a:", error);
            console.error("Detalles del error:", {
                status: error.response?.status,
                statusText: error.response?.statusText,
                data: error.response?.data,
                message: error.message,
                request: error.config
            
            });
            
            let mensajeError = "Error al eliminar la categorÃ­a. Intenta nuevamente.";
            if (error.response?.status === 403) {
                mensajeError = "No tienes permisos para realizar esta acciÃ³n. Verifica que seas el dueÃ±o de la tienda.";
            } else if (error.response?.status === 404) {
                mensajeError = "La categorÃ­a no fue encontrada. Puede haber sido eliminada.";
            } else if (error.response?.status === 500) {
                const serverMessage = error.response?.data?.message || error.response?.data?.error || "";
                mensajeError = `Error del servidor: ${serverMessage || "OcurriÃ³ un error inesperado. Contacta al administrador."}`;
            } else if (error.response?.data?.message) {
                mensajeError = error.response.data.message;
            } else if (error.message) {
                mensajeError = error.message;
            }
            
            showError("Error al eliminar categorÃ­a", mensajeError);
        } finally {
            setLoading(false);
        }
    };

    // Mostrar carga mientras se obtiene el usuario
    if (authLoading) {
        return (
            <div className="categorias-loading">
                <div className="categorias-loading-content">
                    <div className="categorias-loading-title">
                        Cargando...
                    </div>
                    <div className="categorias-loading-text">
                        Obteniendo informaciÃ³n del usuario
                    </div>
               </div>
            </div>
        );
    }

    // Si no hay usuario despuÃ©s de cargar, mostrar error
    if (!usuario || !usuario.dni) {
        return (
            <div className="categorias-error">
                <h2 className="categorias-error-title">
                    Error
                </h2>
    
                <div className="categorias-error-container">
                    <div className="categorias-error-alert">
                        <strong>No se pudo obtener la informaciÃ³n del usuario.</strong>
                        <br />
          
                        <small className="categorias-error-text">
                            Por favor, inicia sesiÃ³n nuevamente.
                        </small>
                    </div>
         
                    <div className="categorias-error-actions">
                        <button
                            onClick={() => {
                                localStorage.clear();
  
                                navigate("/login");
                            }}
                            className="categorias-error-btn categorias-error-btn-primary"
             
                            >
                            Ir a Iniciar SesiÃ³n
                        </button>
                    </div>
              
                </div>
            </div>
        );
    }

    // Si no hay tienda, mostrar mensaje
    if (!tiendaUsuario) {
        return (
            <div className="categorias-error">
                <h2 className="categorias-error-title">
                    Tienda no encontrada
                </h2>
       
                <div className="categorias-error-container">
                    <div className="categorias-error-alert">
                        <strong>No tienes una tienda asociada.</strong>
                        <br />
                
                        <small className="categorias-error-text">
                            Debes crear una tienda antes de poder agregar categorÃ­as.
                        </small>
                    </div>
           
                    <div className="categorias-error-actions">
                        <button
                            onClick={() => {
                                const tiendaActual = nombreTienda || "tienda";
                                navigate(`/admin/${tiendaActual}/configuracion`);
                            }}
                            className="categorias-error-btn categorias-error-btn-primary"
                        >
                            Crear Mi Tienda
                 
                        </button>
                    </div>
                </div>
            </div>
        );
    }

    const categoriasPersonalizadas = categorias.filter(cat => cat.nombre.toLowerCase() !== "otros");
    const puedeCrear = categoriasPersonalizadas.length < 5;
    
    return (
        <div className="categorias-container">
            <h2 className="categorias-title">
                GestiÃ³n de CategorÃ­as
            </h2>

            {cargandoCategorias ? (
                <div className="categorias-loading-categorias">
                
                    Cargando categorÃ­as...
                </div>
            ) : (
                <>
                    {/* Formulario de crear/editar */}
                    <div className="categorias-form-container">
    
                        <h3 className="categorias-subtitle">
                            {editandoId ? "Editar CategorÃ­a" : "Crear Nueva CategorÃ­a"}
                        </h3>
                    
                        <form onSubmit={handleSubmit} className="categorias-form">
                            <div className="categorias-form-group">
                                <label className="categorias-label">
                                
                                    Nombre de la CategorÃ­a *
                                </label>
                                <input
                            
                                    type="text"
                                    value={nombre}
                                    onChange={(e) => setNombre(e.target.value)}
                  
                                    placeholder="Ej: Herramientas"
                                    required
                                    disabled={loading || (!puedeCrear && !editandoId)}
                                    className="categorias-input"
                                    maxLength={100}
                          
                                    />
                                <small className="categorias-help-text">
                                    {editandoId 
                        
                                        ? "Modifica el nombre de la categorÃ­a. Los productos con esta categorÃ­a se actualizarÃ¡n automÃ¡ticamente."
                                        : `Puedes crear hasta 5 categorÃ­as personalizadas. (${categoriasPersonalizadas.length}/5)`
                                    }
                                </small>
                         
                                {!puedeCrear && !editandoId && (
                                    <div className="categorias-alert categorias-alert-warning">
                                        Has alcanzado el lÃ­mite de 5 categorÃ­as. Edita o elimina una existente para crear una nueva.
                                    </div>
                                )}
                            
                            </div>

                            <div className="categorias-form-actions">
                                {editandoId ?
                                (
                                    <>
                                        <button
                        
                                            type="submit"
                                            disabled={loading}
                                    
                                            className="categorias-btn categorias-btn-submit"
                                        >
                                            {loading ? "Actualizando..." : "Actualizar CategorÃ­a"}
  
                                        </button>
                                        <button
                      
                                            type="button"
                                            onClick={cancelarEdicion}
                                  
                                            disabled={loading}
                                            className="categorias-btn categorias-btn-cancel"
                                        >
     
                                            Cancelar
                                        </button>
                     
                                </>
                                ) : (
                                    <button
               
                                        type="submit"
                                        disabled={loading || !puedeCrear}
                                        className="categorias-btn categorias-btn-submit"
                                    >
                       
                                        {loading ? "Creando..." : "Crear CategorÃ­a"}
                                    </button>
                                )}
                            </div>
 
                        </form>
                    </div>

                    {/* Lista de categorÃ­as */}
                    <div className="categorias-list-container">
            
                        <h3 className="categorias-subtitle">
                            CategorÃ­as Existentes
                        </h3>
                        
          
                        {/* CategorÃ­a "Otros" (especial) */}
                        {categoriaOtros && (
                            <div className="categorias-item categorias-item-otros">
                          
                                <div className="categorias-item-info">
                                    <span className="categorias-item-nombre">{categoriaOtros.nombre}</span>
                                    <span className="categorias-item-badge">AutomÃ¡tica</span>
                   
                                </div>
                                <div className="categorias-item-actions">
                                    <span className="categorias-item-locked">No editable</span>
                
                                </div>
                            </div>
                        )}

                        {/* CategorÃ­as personalizadas */}
     
                        {categoriasPersonalizadas.length === 0 ?
                        (
                            <div className="categorias-empty">
                                <p>No hay categorÃ­as personalizadas. Crea tu primera categorÃ­a arriba.</p>
                            </div>
   
                        ) : (
                            categoriasPersonalizadas.map((categoria) => (
                                <div key={categoria.id} className="categorias-item">
             
                                    <div className="categorias-item-info">
                                        <span className="categorias-item-nombre">
                                   
                                            {editandoId === categoria.id ? (
                                                <input
                                       
                                                    type="text"
                                                    value={nombreEditando}
                                   
                                                    onChange={(e) => setNombreEditando(e.target.value)}
                                                    className="categorias-edit-input"
                             
                                                    onKeyPress={(e) => {
                                                        if (e.key === 'Enter') {
               
                                                            e.preventDefault();
                                                            guardarCategoria(nombreEditando);
                                                        }
                                                    }}
                                               
                                                />
                                            ) : (
                                                categoria.nombre
     
                                            )}
                                        </span>
                     
                                    </div>
                                    <div className="categorias-item-actions">
                                        {editandoId === categoria.id ?
                                        (
                                            <>
                                                <button
        
                                                    onClick={async () => {
                                                     
                                                        await guardarCategoria(nombreEditando);
                                                    }}
                                            
                                                    disabled={loading}
                                                    className="categorias-btn-icon categorias-btn-save"
                                       
                                                    title="Guardar"
                                                >
                                       
                                                    âœ“
                                                </button>
                                       
                                                <button
                                                    onClick={cancelarEdicion}
                                       
                                                    disabled={loading}
                                                    className="categorias-btn-icon categorias-btn-cancel"
                                  
                                                    title="Cancelar"
                                                >
                                  
                                                    Ã—
                                                </button>
                                  
                                            </>
                                        ) : (
                                            <>
    
                                                <button
                                                    onClick={() => iniciarEdicion(categoria)}
  
                                                    disabled={loading || editandoId !== null}
                                                    className="categorias-btn categorias-btn-edit"
                                             
                                                    >
                                                    Editar
                                             
                                                    </button>
                                                <button
                                                 
                                                    onClick={() => eliminarCategoria(categoria.id, categoria.nombre)}
                                                    disabled={loading || editandoId !== null}
                                                    className="categorias-btn categorias-btn-delete"
                                             
                                                    style={{ marginLeft: '10px', backgroundColor: '#dc3545', color: 'white' }}
                                                >
                                      
                                                    Eliminar
                                                </button>
                                      
                                            </>
                                        )}
                                    </div>
                  
                                </div>
                            ))
                        )}
                    </div>

              
                    <div className="categorias-info">
                        <p><strong>Nota:</strong> Al eliminar una categorÃ­a, sus productos se reasignan automÃ¡ticamente a la categorÃ­a "Otros". El nombre queda libre para crear una nueva categorÃ­a.</p>
                    </div>
                </>
            )}
  
        </div>
    );
}

export default AdminCategorias;
--- FILE: C:\Workspace\ecommerce-front\src\admin\pages\AdminConfiguracion.jsx ---
import { useState, useEffect } from "react";
import { useNavigate, useParams } from "react-router-dom";
import { useAuth } from "../../tienda/contexts/AuthContext";
import { createTienda, updateTienda } from "../../tienda/services/tiendas";
import NotificationModal from "../../components/NotificationModal.jsx";
import "../styles/AdminConfiguracion.css";

/**
 * PÃ¡gina de configuraciÃ³n de tienda
 * * Permite crear o editar la tienda del vendedor autenticado
 */
function AdminConfiguracion() {
    const { usuario, tiendaUsuario, setTiendaUsuario, loading: authLoading, isAuthenticated } = useAuth();
    const { nombreTienda } = useParams();
    const navigate = useNavigate();
    
    const [loading, setLoading] = useState(false);
    const [error, setError] = useState(null);
    const [success, setSuccess] = useState(false);
    
    // Estado para el modal de notificaciÃ³n
    const [notification, setNotification] = useState({
        isOpen: false,
        type: 'info',
        title: '',
        message: ''
    });

    // Estados del formulario
    const [nombreFantasia, setNombreFantasia] = useState("");
    const [nombreUrl, setNombreUrl] = useState("");
    const [descripcion, setDescripcion] = useState("");
    // AÃ‘ADIDO: Estado para el costo de envÃ­o
    const [costoEnvio, setCostoEnvio] = useState(0);

    // Estados de Logo
    const [logo, setLogo] = useState(null);
    const [logoPreview, setLogoPreview] = useState(null);

    // Estados de Banners (Nuevo soporte mÃºltiple)
    const [bannersExistentes, setBannersExistentes] = useState([]);
    const [nuevosBanners, setNuevosBanners] = useState([]);
    const [nuevosBannersPreview, setNuevosBannersPreview] = useState([]);
    
    const isEditMode = !!tiendaUsuario;

    // Redirigir si no estÃ¡ autenticado o si aÃºn estÃ¡ cargando
    useEffect(() => {
        if (!authLoading && !isAuthenticated) {
            navigate("/login");
        }
    }, [authLoading, isAuthenticated, navigate]);

    // Cargar datos de la tienda si estÃ¡ en modo ediciÃ³n
    useEffect(() => {
        if (isEditMode && tiendaUsuario) {
            setNombreFantasia(tiendaUsuario.nombreFantasia || ""); // AÃ‘ADIDO: Cargar nombre de la tienda
            setNombreUrl(tiendaUsuario.nombreUrl || ""); // AÃ‘ADIDO: Cargar nombre de URL
            setDescripcion(tiendaUsuario.descripcion || ""); // AÃ‘ADIDO: Cargar descripciÃ³n
            setCostoEnvio(tiendaUsuario.costoEnvio || 0);  // AÃ‘ADIDO: Cargar costo de envÃ­o
            if (tiendaUsuario.logo) { // AÃ‘ADIDO: Cargar logo
                setLogoPreview(tiendaUsuario.logo);
            }
            // Cargar banners existentes
            if (tiendaUsuario.banners && Array.isArray(tiendaUsuario.banners)) {
                setBannersExistentes(tiendaUsuario.banners);
            }
        }
    }, [isEditMode, tiendaUsuario]);

    // Generar nombreUrl automÃ¡ticamente desde nombreFantasia
    const handleNombreFantasiaChange = (e) => {
        const value = e.target.value;
        setNombreFantasia(value);
        
        // Generar nombreUrl automÃ¡ticamente (slug)
        if (!isEditMode) {
            const slug = value
                .toLowerCase()
                .normalize("NFD")
                .replace(/[\u0300-\u036f]/g, "") // Eliminar acentos
                .replace(/[^a-z0-9]+/g, "-") // Reemplazar espacios y caracteres especiales con guiones
                .replace(/^-+|-+$/g, ""); // Eliminar guiones al inicio y final
            setNombreUrl(slug);
        }
    };

    const handleLogoChange = (e) => {
        const file = e.target.files[0];
        if (file) {
            // Validar tipo de archivo
            if (!file.type.startsWith("image/")) {
                setError("El archivo debe ser una imagen");
                return;
            }
            
            // Validar tamaÃ±o (mÃ¡ximo 5MB)
            if (file.size > 5 * 1024 * 1024) {
                setError("La imagen no debe superar los 5MB");
                return;
            }
            
            setLogo(file);
            setError(null);
            
            // Crear preview
            const reader = new FileReader();
            reader.onloadend = () => {
                setLogoPreview(reader.result);
            };
            reader.readAsDataURL(file);
        }
    };

    // Manejo de carga de mÃºltiples banners
    const handleBannersChange = (e) => {
        const files = Array.from(e.target.files);
        if (files.length > 0) {
            const validFiles = [];
            
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                if (!file.type.startsWith("image/")) continue;
                if (file.size > 5 * 1024 * 1024) continue;
                
                validFiles.push(file);
                
                const reader = new FileReader();
                reader.onloadend = () => {
                    setNuevosBannersPreview(prev => [...prev, reader.result]);
                };
                reader.readAsDataURL(file);
            }
            setNuevosBanners(prev => [...prev, ...validFiles]);
        }
    };

    const removeBannerExistente = (index) => {
        setBannersExistentes(prev => prev.filter((_, i) => i !== index));
    };

    const removeBannerNuevo = (index) => {
        setNuevosBanners(prev => prev.filter((_, i) => i !== index));
        setNuevosBannersPreview(prev => prev.filter((_, i) => i !== index));
    };

    const handleSubmit = async (e) => {
        e.preventDefault();
        setError(null);
        setSuccess(false);
        setLoading(true);

        // Validaciones
        if (!nombreFantasia.trim()) {
            setError("El nombre de la tienda es obligatorio");
            setLoading(false);
            return;
        }

        if (!nombreUrl.trim()) {
            setError("El nombre de URL es obligatorio");
            setLoading(false);
            return;
        }

        // Validar formato del nombreUrl (solo letras, nÃºmeros y guiones)
        if (!/^[a-z0-9-]+$/.test(nombreUrl)) {
            setError("El nombre de URL solo puede contener letras minÃºsculas, nÃºmeros y guiones");
            setLoading(false);
            return;
        }

        if (!usuario?.dni) {
            setError("No se pudo obtener la informaciÃ³n del usuario. Por favor, recarga la pÃ¡gina o inicia sesiÃ³n nuevamente.");
            setLoading(false);
            return;
        }

        try {
            // Crear FormData para multipart/form-data
            const formData = new FormData();
            
            // Crear objeto JSON con los datos de la tienda
            const tiendaData = {
                nombreUrl: nombreUrl.trim(),
                nombreFantasia: nombreFantasia.trim(),
                descripcion: descripcion.trim() || null,
                vendedorDni: typeof usuario.dni === 'number' ? usuario.dni : parseInt(usuario.dni),
                banners: bannersExistentes, // Enviamos los banners viejos que quedan
                // AÃ‘ADIDO: Agregar costo de envÃ­o al objeto de datos
                costoEnvio: parseFloat(costoEnvio) || 0,
            };

            // Validar que el DNI sea un nÃºmero vÃ¡lido
            if (isNaN(tiendaData.vendedorDni)) {
                setError("El DNI del usuario no es vÃ¡lido. Por favor, inicia sesiÃ³n nuevamente.");
                setLoading(false);
                return;
            }
            
            // Agregar el JSON como string en el campo "tienda"
            formData.append("tienda", JSON.stringify(tiendaData));
            
            // Agregar el archivo del logo si se seleccionÃ³ uno
            if (logo) {
                formData.append("file", logo);
            }

            // Agregar nuevos banners
            nuevosBanners.forEach(file => {
                formData.append("banners", file);
            });

            let tiendaCreada;
            if (isEditMode) {
                // Actualizar tienda existente
                tiendaCreada = await updateTienda(tiendaUsuario.nombreUrl, formData);
            } else {
                // Crear nueva tienda
                tiendaCreada = await createTienda(formData);
            }

            // Actualizar el contexto de autenticaciÃ³n
            setTiendaUsuario(tiendaCreada);
            localStorage.setItem("auth_tienda", JSON.stringify(tiendaCreada));
            localStorage.setItem("auth_userType", "vendedor");

            setSuccess(true);
            
            // Mostrar notificaciÃ³n de Ã©xito
            setNotification({
                isOpen: true,
                type: 'success',
                title: isEditMode ? 'Tienda actualizada' : 'Tienda creada con Ã©xito',
                message: isEditMode 
                    ? 'Los cambios se han guardado correctamente.' 
                    : 'Â¡Tu tienda ha sido creada exitosamente!'
            });
            
            // Limpiar estados de banners nuevos
            setNuevosBanners([]);
            setNuevosBannersPreview([]);

        } catch (error) {
            console.error("Error al guardar tienda:", error);
            console.error("Error completo:", {
                status: error.response?.status,
                statusText: error.response?.statusText,
                data: error.response?.data,
                message: error.message
            });
            
            // Mensajes de error mÃ¡s especÃ­ficos
            let mensajeError = "Error al guardar la tienda. Intenta nuevamente.";
            if (error.response?.status === 500) {
                const serverError = error.response?.data?.message || error.response?.data?.error;
                
                if (serverError) {
                    if (serverError.includes("verificar tu email") || serverError.includes("email")) {
                        mensajeError = "Debes verificar tu email antes de crear una tienda. Revisa tu correo electrÃ³nico para el cÃ³digo de verificaciÃ³n.";
                    } else if (serverError.includes("ACCESO DENEGADO")) {
                        mensajeError = "No tienes permisos para crear esta tienda. Verifica que estÃ©s usando la cuenta correcta.";
                    } else if (serverError.includes("ya estÃ¡ en uso")) {
                        mensajeError = `El nombre de URL "${nombreUrl}" ya estÃ¡ en uso. Por favor, elige otro nombre.`;
                    } else {
                        mensajeError = `Error del servidor: ${serverError}`;
                    }
                } else {
                    mensajeError = "Error interno del servidor. Posibles causas: Tu email no estÃ¡ verificado, el nombre de URL ya estÃ¡ en uso o hay un problema con la autenticaciÃ³n.";
                }
            } else if (error.response?.status === 400) {
                const serverError = error.response?.data?.message || error.response?.data?.error || "";
                if (serverError.includes("verificar") || serverError.includes("email")) {
                    mensajeError = "Debes verificar tu email antes de crear una tienda.";
                } else {
                    mensajeError = serverError || "Los datos enviados no son vÃ¡lidos.";
                }
            } else if (error.response?.data?.message) {
                mensajeError = error.response.data.message;
            } else if (error.message) {
                mensajeError = error.message;
            }
            
            setError(mensajeError);
            setNotification({
                isOpen: true,
                type: 'error',
                title: 'Error al guardar tienda',
                message: mensajeError
            });
        } finally {
            setLoading(false);
        }
    };

    // Mostrar carga mientras se obtiene el usuario
    if (authLoading) {
        return (
            <div className="configuracion-loading">
                <div className="configuracion-loading-content">
                    <div className="configuracion-loading-title">Cargando...</div>
                    <div className="configuracion-loading-text">Obteniendo informaciÃ³n del usuario...</div>
                </div>
            </div>
        );
    }

    // Si no hay usuario despuÃ©s de cargar, mostrar error
    if (!usuario || !usuario.dni) {
        return (
            <div>
                <h2 className="configuracion-error-title">Error</h2>
                <div className="configuracion-error-container">
                    <div className="configuracion-error-alert">
                        <strong>No se pudo obtener la informaciÃ³n del usuario.</strong>
                        <br />
                        <small className="configuracion-error-text">Por favor, inicia sesiÃ³n nuevamente.</small>
                    </div>
                    <div className="configuracion-error-actions">
                        <button
                            onClick={() => {
                                localStorage.clear();
                                navigate("/login");
                            }}
                            className="configuracion-error-btn configuracion-error-btn-primary"
                        >
                            Ir a Iniciar SesiÃ³n
                        </button>
                        <button
                            onClick={() => window.location.reload()}
                            className="configuracion-error-btn configuracion-error-btn-secondary"
                        >
                            Recargar PÃ¡gina
                        </button>
                    </div>
                </div>
            </div>
        );
    }

    return (
        <div>
            <h2 className="configuracion-title">
                {isEditMode ? "Editar Mi Tienda" : "Crear Mi Tienda"}
            </h2>

            <form onSubmit={handleSubmit} className="configuracion-form">
                {error && (
                    <div className="configuracion-alert error">
                        {error}
                    </div>
                )}

                {success && (
                    <div className="configuracion-alert success">
                        {isEditMode ? "Tienda actualizada exitosamente" : "Tienda creada exitosamente"}
                    </div>
                )}

                <div className="configuracion-form-group">
                    <label className="configuracion-label">Nombre de la Tienda *</label>
                    <input
                        type="text"
                        value={nombreFantasia}
                        onChange={handleNombreFantasiaChange}
                        placeholder="Ej: Mi Tienda Online"
                        required
                        disabled={loading}
                        className="configuracion-input"
                    />
                </div>

                <div className="configuracion-form-group">
                    <label className="configuracion-label-flex">
                        <span>Nombre de URL (slug) *</span>
                        {!isEditMode && (
                            <span className="configuracion-label-warning">
                                (No se puede editar despuÃ©s de crear)
                            </span>
                        )}
                    </label>
                    <input
                        type="text"
                        value={nombreUrl}
                        onChange={(e) => setNombreUrl(e.target.value)}
                        placeholder="Ej: mi-tienda-online"
                        required
                        disabled={loading || isEditMode}
                        pattern="[a-z0-9\-]+"
                        className="configuracion-input"
                    />
                    <small className="configuracion-help-text">
                        Solo letras minÃºsculas, nÃºmeros y guiones. Tu tienda estarÃ¡ disponible en: /tienda/{nombreUrl || "nombre-url"}
                    </small>
                </div>

                <div className="configuracion-form-group">
                    <label className="configuracion-label">DescripciÃ³n</label>
                    <textarea
                        value={descripcion}
                        onChange={(e) => setDescripcion(e.target.value)}
                        placeholder="Describe tu tienda..."
                        rows="4"
                        disabled={loading}
                        className="configuracion-textarea"
                    />
                </div>

                {/* INICIO NUEVO CAMPO: Costo de EnvÃ­o EstÃ¡ndar */}
                <div className="configuracion-form-group">
                    <label className="configuracion-label">Costo de EnvÃ­o EstÃ¡ndar ($)</label>
                    <input
                        type="number"
                        min="0"
                        value={costoEnvio}
                        onChange={(e) => setCostoEnvio(e.target.value)}
                        placeholder="0"
                        disabled={loading}
                        className="configuracion-input"
                    />
                    <small className="configuracion-help-text">
                        Costo fijo por envÃ­o que se aplicarÃ¡ al comprador en el checkout. Ingresa 0 para envÃ­o gratis o retiro en persona.
                    </small>
                </div>
                {/* FIN NUEVO CAMPO */}

                <div className="configuracion-form-group">
                    <label className="configuracion-label">Logo de la Tienda</label>
                    {logoPreview && (
                        <div className="configuracion-logo-preview">
                            <img src={logoPreview} alt="Preview del logo" />
                        </div>
                    )}
                    <input
                        type="file"
                        accept="image/*"
                        onChange={handleLogoChange}
                        disabled={loading}
                        className="configuracion-file-input"
                        key={isEditMode ? `logo-${tiendaUsuario?.nombreUrl}` : 'logo-new'}
                    />
                    <small className="configuracion-help-text">
                        Formato: JPG, PNG, GIF. TamaÃ±o mÃ¡ximo: 5MB {isEditMode && " Puedes seleccionar un nuevo logo para reemplazar el actual."}
                    </small>
                </div>

                {/* NUEVA SECCIÃ“N DE BANNERS */}
                <div className="configuracion-form-group">
                    <label className="configuracion-label">Banners de la Tienda</label>
                    
                    {/* Banners existentes y nuevos preview */}
                    <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap', marginBottom: '10px' }}>
                        {bannersExistentes.map((bannerUrl, index) => (
                            <div key={`old-${index}`} style={{ position: 'relative', width: '150px' }}>
                                <img src={bannerUrl} alt="Banner" style={{ width: '100%', borderRadius: '5px' }} />
                                <button 
                                    type="button" 
                                    onClick={() => removeBannerExistente(index)}
                                    style={{ position: 'absolute', top: 0, right: 0, background: 'red', color: 'white', border: 'none', cursor: 'pointer' }}
                                >X</button>
                            </div>
                        ))}
                        {nuevosBannersPreview.map((preview, index) => (
                            <div key={`new-${index}`} style={{ position: 'relative', width: '150px' }}>
                                <img src={preview} alt="Nuevo Banner" style={{ width: '100%', borderRadius: '5px', border: '2px solid #2ecc71' }} />
                                <button 
                                    type="button" 
                                    onClick={() => removeBannerNuevo(index)}
                                    style={{ position: 'absolute', top: 0, right: 0, background: 'red', color: 'white', border: 'none', cursor: 'pointer' }}
                                >X</button>
                            </div>
                        ))}
                    </div>

                    <input
                        type="file"
                        accept="image/*"
                        multiple
                        onChange={handleBannersChange}
                        disabled={loading}
                        className="configuracion-file-input"
                    />
                    <small className="configuracion-help-text">
                        Puedes subir mÃºltiples banners para el carrusel de inicio.
                    </small>
                </div>

                <div className="configuracion-form-actions">
                    <button
                        type="submit"
                        disabled={loading}
                        className="configuracion-btn configuracion-btn-submit"
                    >
                        {loading ? "Guardando..." : (isEditMode ? "Actualizar Tienda" : "Crear Tienda")}
                    </button>
                    <button
                        type="button"
                        onClick={() => {
                            const tiendaActual = nombreTienda || tiendaUsuario?.nombreUrl || "tienda";
                            navigate(`/admin/${tiendaActual}/dashboard`);
                        }}
                        disabled={loading}
                        className="configuracion-btn configuracion-btn-cancel"
                    >
                        Cancelar
                    </button>
                </div>
            </form>
            
            {/* Modal de NotificaciÃ³n */}
            <NotificationModal
                isOpen={notification.isOpen}
                type={notification.type}
                title={notification.title}
                message={notification.message}
                onClose={() => {
                    setNotification({ ...notification, isOpen: false });
                    // Si la operaciÃ³n fue exitosa, redirigir despuÃ©s de cerrar el modal
                    if (success && notification.type === 'success') {
                        const nombreTiendaUrl = tiendaUsuario?.nombreUrl || nombreTienda;
                        navigate(`/admin/${nombreTiendaUrl}/dashboard`);
                    }
                }}
                autoClose={notification.type === 'success' ? 2000 : notification.type === 'error' ? 5000 : 3000}
            />
        </div>
    );
}

export default AdminConfiguracion;
--- FILE: C:\Workspace\ecommerce-front\src\admin\pages\AdminCrearProductos.jsx ---
import { useState, useEffect } from "react";
import { useNavigate, useParams } from "react-router-dom";
import { useAuth } from "../../tienda/contexts/AuthContext";
import { createProducto } from "../../tienda/services/productos";
import { getCategoriasByTienda } from "../../tienda/services/categorias";
import { useNotifications } from "../../contexts/NotificationContext";
import "../styles/AdminProductos.css";

/**
 * PÃ¡gina de creaciÃ³n de productos
 * * Permite crear productos para la tienda del vendedor autenticado
 */
function AdminCrearProductos() {
    const { usuario, tiendaUsuario, loading: authLoading, isAuthenticated } = useAuth();
    const { nombreTienda } = useParams();
    const navigate = useNavigate();
    const { success: showSuccess, error: showError } = useNotifications();
    const [loading, setLoading] = useState(false);
    const [cargandoCategorias, setCargandoCategorias] = useState(true);
    const [categorias, setCategorias] = useState([]);
    
    // Estados del formulario
    const [nombre, setNombre] = useState("");
    const [descripcion, setDescripcion] = useState("");
    const [precio, setPrecio] = useState("");
    const [stock, setStock] = useState("");
    const [categoriaId, setCategoriaId] = useState("");
    
    // Modificado para soportar mÃºltiples imÃ¡genes
    const [imagenes, setImagenes] = useState([]);
    const [imagenesPreview, setImagenesPreview] = useState([]);
    
    // Redirigir si no estÃ¡ autenticado o si aÃºn estÃ¡ cargando
    useEffect(() => {
        if (!authLoading && !isAuthenticated) {
            navigate("/login");
        }
    }, [authLoading, isAuthenticated, navigate]);

    // Cargar categorÃ­as de la tienda
    useEffect(() => {
        const cargarCategorias = async () => {
            if (!tiendaUsuario?.nombreUrl) {
                setCargandoCategorias(false);
                return;
            }

            try {
                setCargandoCategorias(true);
                const categoriasData = await getCategoriasByTienda(tiendaUsuario.nombreUrl);
                setCategorias(categoriasData);
                
                // Si no hay categorÃ­a seleccionada, buscar "otros" y seleccionarla por defecto
                if (!categoriaId) {
                    const otros = categoriasData.find(cat => cat.nombre.toLowerCase() === "otros");
                    if (otros) {
                        setCategoriaId(otros.id.toString());
                    }
                }
            } catch (error) {
                console.error("Error cargando categorÃ­as:", error);
                showError("Error", "No se pudieron cargar las categorÃ­as. AsegÃºrate de tener categorÃ­as creadas en tu tienda.");
            } finally {
                setCargandoCategorias(false);
            }
        };

        if (tiendaUsuario?.nombreUrl) {
            cargarCategorias();
        }
    }, [tiendaUsuario, showError]);

    const handleImagenesChange = (e) => {
        const files = Array.from(e.target.files);
        
        if (files.length > 0) {
            const validFiles = [];

            // Validar cada archivo
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                
                // Validar tipo de archivo
                if (!file.type.startsWith("image/")) {
                    showError("Error", `El archivo ${file.name} no es una imagen`);
                    continue;
                }
                
                // Validar tamaÃ±o (mÃ¡ximo 5MB)
                if (file.size > 5 * 1024 * 1024) {
                    showError("Error", `La imagen ${file.name} supera los 5MB`);
                    continue;
                }

                validFiles.push(file);
                
                // Crear preview
                const reader = new FileReader();
                reader.onloadend = () => {
                    setImagenesPreview(prev => [...prev, reader.result]);
                };
                reader.readAsDataURL(file);
            }

            setImagenes(prev => [...prev, ...validFiles]);
        }
    };

    // FunciÃ³n para remover una imagen seleccionada antes de subir
    const removeImagen = (index) => {
        setImagenes(prev => prev.filter((_, i) => i !== index));
        setImagenesPreview(prev => prev.filter((_, i) => i !== index));
    };

    const handleSubmit = async (e) => {
        e.preventDefault();
        setLoading(true);

        // Validaciones
        if (!nombre.trim()) {
            showError("Error", "El nombre del producto es obligatorio");
            setLoading(false);
            return;
        }

        if (nombre.trim().length < 3 || nombre.trim().length > 100) {
            showError("Error", "El nombre debe tener entre 3 y 100 caracteres");
            setLoading(false);
            return;
        }

        const precioNum = parseInt(precio);
        if (!precio || isNaN(precioNum) || precioNum < 1) {
            showError("Error", "El precio debe ser un nÃºmero entero mayor o igual a 1");
            setLoading(false);
            return;
        }

        const stockNum = parseInt(stock);
        if (stock === "" || isNaN(stockNum) || stockNum < 1) {
            showError("Error", "El stock debe ser un nÃºmero mayor o igual a 1");
            setLoading(false);
            return;
        }

        // Validar que al menos una imagen sea obligatoria
        if (imagenes.length === 0) {
            showError("Error", "La imagen del producto es obligatoria");
            setLoading(false);
            return;
        }

        if (descripcion && descripcion.length > 500) {
            showError("Error", "La descripciÃ³n no puede superar los 500 caracteres");
            setLoading(false);
            return;
        }

        if (!tiendaUsuario?.nombreUrl) {
            showError("Error", "No se pudo obtener la informaciÃ³n de la tienda. Por favor, recarga la pÃ¡gina.");
            setLoading(false);
            return;
        }

        try {
            // Si no hay categorÃ­a seleccionada, buscar "otros"
            let categoriaIdFinal = categoriaId;
            if (!categoriaIdFinal) {
                const otros = categorias.find(cat => cat.nombre.toLowerCase() === "otros");
                if (otros) {
                    categoriaIdFinal = otros.id.toString();
                } else {
                    showError("Error", "No se encontrÃ³ la categorÃ­a 'Otros'. Por favor, crea categorÃ­as en la secciÃ³n de categorÃ­as.");
                    setLoading(false);
                    return;
                }
            }

            // Crear FormData para multipart/form-data
            const formData = new FormData();
            // Crear objeto JSON con los datos del producto
            const productoData = {
                categoriaId: parseInt(categoriaIdFinal),
                nombre: nombre.trim(),
                descripcion: descripcion.trim() || null,
                precio: precioNum,
                stock: stockNum
            };
            // Agregar el JSON como string en el campo "producto"
            formData.append("producto", JSON.stringify(productoData));
            
            // Agregar los archivos de imagen a la lista "files" que espera el backend
            imagenes.forEach((file) => {
                formData.append("files", file);
            });

            const productoCreado = await createProducto(tiendaUsuario.nombreUrl, formData);
            
            // Limpiar formulario
            setNombre("");
            setDescripcion("");
            setPrecio("");
            setStock("");
            setCategoriaId("");
            setImagenes([]);
            setImagenesPreview([]);
            
            // Limpiar el input de archivo
            const fileInput = document.querySelector('input[type="file"]');
            if (fileInput) {
                fileInput.value = '';
            }

            showSuccess("Producto Creado", `El producto "${productoCreado.nombre}" ha sido creado exitosamente`);
        } catch (error) {
            console.error("Error al crear producto:", error);
            // Mensajes de error mÃ¡s especÃ­ficos
            let mensajeError = "Error al crear el producto. Intenta nuevamente.";
            if (error.response?.status === 400) {
                mensajeError = error.response?.data?.message || "Los datos enviados no son vÃ¡lidos. Verifica todos los campos.";
            } else if (error.response?.status === 404) {
                mensajeError = "La tienda o categorÃ­a no fue encontrada. Verifica que la categorÃ­a pertenezca a tu tienda.";
            } else if (error.response?.status === 403) {
                mensajeError = "No tienes permisos para crear productos en esta tienda.";
            } else if (error.response?.data?.message) {
                mensajeError = error.response.data.message;
            } else if (error.message) {
                mensajeError = error.message;
            }
            
            showError("Error al crear producto", mensajeError);
        } finally {
            setLoading(false);
        }
    };

    // Mostrar carga mientras se obtiene el usuario
    if (authLoading) {
        return (
            <div className="productos-loading">
                <div className="productos-loading-content">
                    <div className="productos-loading-title">
                        Cargando...
                    </div>
                    <div className="productos-loading-text">
                        Obteniendo informaciÃ³n del usuario
                    </div>
                </div>
            </div>
        );
    }

    // Si no hay usuario despuÃ©s de cargar, mostrar error
    if (!usuario || !usuario.dni) {
        return (
            <div className="productos-error">
                <h2 className="productos-error-title">
                    Error
                </h2>
                <div className="productos-error-container">
                    <div className="productos-error-alert">
                        <strong>No se pudo obtener la informaciÃ³n del usuario.</strong>
                        <br />
                        <small className="productos-error-text">
                            Por favor, inicia sesiÃ³n nuevamente.
                        </small>
                    </div>
                    <div className="productos-error-actions">
                        <button
                            onClick={() => {
                                localStorage.clear();
                                navigate("/login");
                            }}
                            className="productos-error-btn productos-error-btn-primary"
                        >
                            Ir a Iniciar SesiÃ³n
                        </button>
                    </div>
                </div>
            </div>
        );
    }

    // Si no hay tienda, mostrar mensaje
    if (!tiendaUsuario) {
        return (
            <div className="productos-error">
                <h2 className="productos-error-title">
                    Tienda no encontrada
                </h2>
                <div className="productos-error-container">
                    <div className="productos-error-alert">
                        <strong>No tienes una tienda asociada.</strong>
                        <br />
                        <small className="productos-error-text">
                            Debes crear una tienda antes de poder agregar productos.
                        </small>
                    </div>
                    <div className="productos-error-actions">
                        <button
                            onClick={() => {
                                const tiendaActual = nombreTienda || "tienda";
                                navigate(`/admin/${tiendaActual}/configuracion`);
                            }}
                            className="productos-error-btn productos-error-btn-primary"
                        >
                            Crear Mi Tienda
                        </button>
                    </div>
                </div>
            </div>
        );
    }

    return (
        <div className="productos-container">
            <h2 className="productos-title">
                Crear Nuevo Producto
            </h2>

            {cargandoCategorias ? (
                <div className="productos-loading-categorias">
                    Cargando categorÃ­as...
                </div>
            ) : categorias.length === 0 ? (
                <div className="productos-alert productos-alert-warning">
                    <strong>No hay categorÃ­as disponibles.</strong>
                    <p>Debes crear al menos una categorÃ­a antes de poder agregar productos.</p>
                    <button
                        onClick={() => {
                            const tiendaActual = nombreTienda || tiendaUsuario?.nombreUrl || "tienda";
                            navigate(`/admin/${tiendaActual}/categorias`);
                        }}
                        className="productos-btn productos-btn-secondary"
                    >
                        Crear CategorÃ­a
                    </button>
                </div>
            ) : (
                <form onSubmit={handleSubmit} className="productos-form">
                    <div className="productos-form-group">
                        <label className="productos-label">
                            Nombre del Producto *
                        </label>
                        <input
                            type="text"
                            value={nombre}
                            onChange={(e) => setNombre(e.target.value)}
                            placeholder="Ej: Helado de Vainilla"
                            required
                            minLength={3}
                            maxLength={100}
                            disabled={loading}
                            className="productos-input"
                        />
                        <small className="productos-help-text">
                            Entre 3 y 100 caracteres
                        </small>
                    </div>

                    <div className="productos-form-group">
                        <label className="productos-label">
                            DescripciÃ³n
                        </label>
                        <textarea
                            value={descripcion}
                            onChange={(e) => setDescripcion(e.target.value)}
                            placeholder="Describe el producto..."
                            rows="4"
                            maxLength={500}
                            disabled={loading}
                            className="productos-textarea"
                        />
                        <small className="productos-help-text">
                            MÃ¡ximo 500 caracteres ({descripcion.length}/500)
                        </small>
                    </div>

                    <div className="productos-form-row">
                        <div className="productos-form-group">
                            <label className="productos-label">
                                Precio *
                            </label>
                            <input
                                type="number"
                                min="1"
                                value={precio}
                                onChange={(e) => setPrecio(e.target.value)}
                                placeholder="0"
                                required
                                disabled={loading}
                                className="productos-input"
                            />
                            <small className="productos-help-text">
                                Precio en pesos (solo nÃºmeros enteros)
                            </small>
                        </div>

                        <div className="productos-form-group">
                            <label className="productos-label">
                                Stock *
                            </label>
                            <input
                                type="number"
                                min="1"
                                value={stock}
                                onChange={(e) => setStock(e.target.value)}
                                placeholder="1"
                                required
                                disabled={loading}
                                className="productos-input"
                            />
                            <small className="productos-help-text">
                                Cantidad disponible (mÃ­nimo 1).
                                Se descontarÃ¡ automÃ¡ticamente al realizar una compra.
                            </small>
                        </div>
                    </div>

                    <div className="productos-form-group">
                        <label className="productos-label">
                            CategorÃ­a
                        </label>
                        <select
                            value={categoriaId}
                            onChange={(e) => setCategoriaId(e.target.value)}
                            disabled={loading || cargandoCategorias}
                            className="productos-select"
                        >
                            <option value="">Selecciona una categorÃ­a (por defecto: Otros)</option>
                            {categorias.map((categoria) => (
                                <option key={categoria.id} value={categoria.id}>
                                    {categoria.nombre}
                                </option>
                            ))}
                        </select>
                        <small className="productos-help-text">
                            Si no seleccionas una categorÃ­a, se usarÃ¡ automÃ¡ticamente "Otros"
                        </small>
                    </div>

                    <div className="productos-form-group">
                        <label className="productos-label">
                            ImÃ¡genes del Producto *
                        </label>
                        
                        {/* Preview de imÃ¡genes mÃºltiples */}
                        {imagenesPreview.length > 0 && (
                            <div className="productos-imagen-preview" style={{ display: 'flex', gap: '10px', flexWrap: 'wrap', marginBottom: '10px' }}>
                                {imagenesPreview.map((src, index) => (
                                    <div key={index} style={{ position: 'relative', width: '100px', height: '100px' }}>
                                        <img
                                            src={src}
                                            alt={`Preview ${index}`}
                                            style={{ width: '100%', height: '100%', objectFit: 'cover', borderRadius: '5px', border: '1px solid #ddd' }}
                                        />
                                        <button
                                            type="button"
                                            onClick={() => removeImagen(index)}
                                            style={{
                                                position: 'absolute',
                                                top: '-5px',
                                                right: '-5px',
                                                background: 'red',
                                                color: 'white',
                                                border: 'none',
                                                borderRadius: '50%',
                                                width: '20px',
                                                height: '20px',
                                                cursor: 'pointer',
                                                display: 'flex',
                                                justifyContent: 'center',
                                                alignItems: 'center',
                                                fontSize: '12px'
                                            }}
                                        >
                                            X
                                        </button>
                                    </div>
                                ))}
                            </div>
                        )}
                        
                        <input
                            type="file"
                            accept="image/*"
                            multiple // Permite seleccionar mÃºltiples archivos
                            onChange={handleImagenesChange}
                            disabled={loading}
                            className="productos-file-input"
                        />
                        <small className="productos-help-text">
                            Formato: JPG, PNG, GIF.
                            TamaÃ±o mÃ¡ximo por imagen: 5MB. La imagen es obligatoria.
                        </small>
                    </div>

                    <div className="productos-form-actions">
                        <button
                            type="submit"
                            disabled={loading || cargandoCategorias}
                            className="productos-btn productos-btn-submit"
                        >
                            {loading ?
                                "Creando..." : "Crear Producto"}
                        </button>
                        <button
                            type="button"
                            onClick={() => {
                                const tiendaActual = nombreTienda ||
                                    tiendaUsuario?.nombreUrl || "tienda";
                                navigate(`/admin/${tiendaActual}/dashboard`);
                            }}
                            disabled={loading}
                            className="productos-btn productos-btn-cancel"
                        >
                            Cancelar
                        </button>
                    </div>
                </form>
            )}
        </div>
    );
}

export default AdminCrearProductos;
--- FILE: C:\Workspace\ecommerce-front\src\admin\pages\AdminDashboard.jsx ---
import { useState, useEffect } from "react";
import { useNavigate, useParams } from "react-router-dom";
import { useAuth } from "../../tienda/contexts/AuthContext";
import { getProductosByTienda } from "../../tienda/services/productos";
import { getPedidosByTienda } from "../../tienda/services/pedidos";
import "../styles/AdminDashboard.css";

/**
 * FunciÃ³n para formatear precios con puntos como separadores de miles
 * @param {number} precio - Precio a formatear
 * @returns {string} Precio formateado (ej: $1.000, $10.000)
 */
function formatearPrecio(precio) {
    const precioRedondeado = Math.round(precio || 0);
    return precioRedondeado.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
}

/**
 * Dashboard del panel administrativo
 * 
 * Muestra estadÃ­sticas y resumen de la tienda del vendedor
 */
function AdminDashboard() {
    const { usuario, tiendaUsuario } = useAuth();
    const { nombreTienda } = useParams();
    const navigate = useNavigate();
    const [tienda, setTienda] = useState(null);
    const [loading, setLoading] = useState(true);
    
    // Estados para las estadÃ­sticas
    const [totalProductos, setTotalProductos] = useState(0);
    const [pedidosPendientes, setPedidosPendientes] = useState(0);
    const [totalVendido, setTotalVendido] = useState(0);
    const [loadingStats, setLoadingStats] = useState(true);

    useEffect(() => {
        // El contexto ya carga la tienda automÃ¡ticamente al iniciar sesiÃ³n
        // Solo necesitamos usar la tienda del contexto
        if (tiendaUsuario) {
            setTienda(tiendaUsuario);
        }
        setLoading(false);
    }, [tiendaUsuario]);

    // Cargar estadÃ­sticas cuando la tienda estÃ© disponible
    useEffect(() => {
        const cargarEstadisticas = async () => {
            if (!tiendaUsuario?.nombreUrl) {
                setLoadingStats(false);
                return;
            }

            try {
                setLoadingStats(true);
                const nombreTiendaActual = tiendaUsuario.nombreUrl;

                // Cargar productos y pedidos en paralelo
                const [productosData, pedidosData] = await Promise.all([
                    getProductosByTienda(nombreTiendaActual),
                    getPedidosByTienda(nombreTiendaActual)
                ]);

                // Normalizar datos de productos
                let productos = [];
                if (Array.isArray(productosData)) {
                    productos = productosData;
                } else if (productosData && Array.isArray(productosData.content)) {
                    productos = productosData.content;
                }

                // Contar productos activos
                const productosActivos = productos.filter(p => p.activo !== false);
                setTotalProductos(productosActivos.length);

                // Normalizar datos de pedidos
                let pedidos = [];
                if (Array.isArray(pedidosData)) {
                    pedidos = pedidosData;
                } else if (pedidosData && Array.isArray(pedidosData.content)) {
                    pedidos = pedidosData.content;
                }

                // Contar pedidos pendientes (PENDIENTE o PAGADO)
                const pendientes = pedidos.filter(p => 
                    p.estado === 'PENDIENTE' || p.estado === 'PAGADO'
                );
                setPedidosPendientes(pendientes.length);

                // Calcular total vendido (suma de pedidos PAGADOS y ENTREGADOS)
                const vendidos = pedidos.filter(p => 
                    p.estado === 'PAGADO' || p.estado === 'ENTREGADO'
                );
                const total = vendidos.reduce((sum, pedido) => sum + (pedido.total || 0), 0);
                setTotalVendido(total);

            } catch (error) {
                console.error("Error cargando estadÃ­sticas:", error);
                // En caso de error, mantener valores en 0
                setTotalProductos(0);
                setPedidosPendientes(0);
                setTotalVendido(0);
            } finally {
                setLoadingStats(false);
            }
        };

        cargarEstadisticas();
    }, [tiendaUsuario]);

    if (loading) {
        return <div className="dashboard-loading">Cargando...</div>;
    }

    const getVerificationBadgeClass = () => {
        if (usuario?.emailVerificado === undefined) return "unknown";
        return usuario.emailVerificado ? "verified" : "unverified";
    };

    return (
        <div>
            <div className="dashboard-header">
                <h2 className="dashboard-title">Dashboard</h2>
                {usuario && (
                    <div className={`dashboard-verification-badge ${getVerificationBadgeClass()}`}>
                        <span className={`dashboard-verification-icon ${getVerificationBadgeClass()}`}>
                            {usuario.emailVerificado !== undefined
                                ? (usuario.emailVerificado ? "âœ“" : "âš ")
                                : "?"}
                        </span>
                        <span className={`dashboard-verification-text ${getVerificationBadgeClass()}`}>
                            {usuario.emailVerificado !== undefined
                                ? (usuario.emailVerificado 
                                    ? "Email Verificado" 
                                    : "Email No Verificado")
                                : "Estado de verificaciÃ³n de email desconocido"}
                        </span>
                    </div>
                )}
            </div>

            {tienda ? (
                <div>
                    <div className="dashboard-tienda-card">
                        <h3>Mi Tienda</h3>
                        <p><strong>Nombre:</strong> {tienda.nombreFantasia}</p>
                        <p><strong>URL:</strong> /tienda/{tienda.nombreUrl}</p>
                        {tienda.descripcion && (
                            <p><strong>DescripciÃ³n:</strong> {tienda.descripcion}</p>
                        )}
                    </div>

                    <div className="dashboard-stats-grid">
                        <div className="dashboard-stat-card products">
                            <h4>Productos</h4>
                            {loadingStats ? (
                                <p className="dashboard-stat-value">...</p>
                            ) : (
                                <p className="dashboard-stat-value">{totalProductos}</p>
                            )}
                            <p className="dashboard-stat-label">Total de productos</p>
                        </div>

                        <div className="dashboard-stat-card orders">
                            <h4>Pedidos</h4>
                            {loadingStats ? (
                                <p className="dashboard-stat-value">...</p>
                            ) : (
                                <p className="dashboard-stat-value">{pedidosPendientes}</p>
                            )}
                            <p className="dashboard-stat-label">Pedidos pendientes</p>
                        </div>

                        <div className="dashboard-stat-card sales">
                            <h4>Ventas</h4>
                            {loadingStats ? (
                                <p className="dashboard-stat-value">...</p>
                            ) : (
                                <p className="dashboard-stat-value">${formatearPrecio(totalVendido)}</p>
                            )}
                            <p className="dashboard-stat-label">Total vendido</p>
                        </div>
                    </div>
                </div>
            ) : (
                <div className="dashboard-empty">
                    <h3>AÃºn no tienes una tienda</h3>
                    <p>Crea tu tienda para comenzar a vender productos</p>
                    
                    <div className="dashboard-empty-actions">
                        <button
                            onClick={() => {
                                const tiendaActual = nombreTienda || "tienda";
                                navigate(`/admin/${tiendaActual}/configuracion`);
                            }}
                            className="dashboard-btn dashboard-btn-primary"
                        >
                            Crear Nueva Tienda
                        </button>
                    </div>
                </div>
            )}
        </div>
    );
}

export default AdminDashboard;

--- FILE: C:\Workspace\ecommerce-front\src\admin\pages\AdminEditarProductos.jsx ---
import { useState, useEffect } from "react";
import { useNavigate, useParams } from "react-router-dom";
import { useAuth } from "../../tienda/contexts/AuthContext";
import { getProductosByTienda, getProductoById, updateProducto, deleteProducto } from "../../tienda/services/productos";
import { getCategoriasByTienda } from "../../tienda/services/categorias";
import { useNotifications } from "../../contexts/NotificationContext";
import "../styles/AdminEditarProductos.css";

/**
 * FunciÃ³n para formatear precios con puntos como separadores de miles
 */
function formatearPrecio(precio) {
    const precioRedondeado = Math.round(precio || 0);
    return precioRedondeado.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
}

/**
 * PÃ¡gina de ediciÃ³n de productos
 * * Permite ver, filtrar, buscar y editar productos de la tienda
 */
function AdminEditarProductos() {
    const { usuario, tiendaUsuario, loading: authLoading, isAuthenticated } = useAuth();
    const { nombreTienda } = useParams();
    const navigate = useNavigate();
    const { success: showSuccess, error: showError } = useNotifications();
    const [loading, setLoading] = useState(false);
    const [cargandoProductos, setCargandoProductos] = useState(true);
    const [productos, setProductos] = useState([]);
    const [productosFiltrados, setProductosFiltrados] = useState([]);
    const [categorias, setCategorias] = useState([]);
    
    // Estados de filtros
    const [filtroCategoria, setFiltroCategoria] = useState("");
    const [busquedaNombre, setBusquedaNombre] = useState("");
    
    // Estados del modal
    const [modalAbierto, setModalAbierto] = useState(false);
    const [productoEditando, setProductoEditando] = useState(null);
    const [editando, setEditando] = useState(false);

    // Estados del formulario de ediciÃ³n
    const [nombreEdit, setNombreEdit] = useState("");
    const [descripcionEdit, setDescripcionEdit] = useState("");
    const [precioEdit, setPrecioEdit] = useState("");
    const [stockEdit, setStockEdit] = useState("");
    const [categoriaIdEdit, setCategoriaIdEdit] = useState("");
    
    // Estados de ImÃ¡genes
    const [imagenesExistentes, setImagenesExistentes] = useState([]);
    const [nuevosArchivos, setNuevosArchivos] = useState([]);
    const [nuevosArchivosPreview, setNuevosArchivosPreview] = useState([]);
    
    // Redirigir si no estÃ¡ autenticado
    useEffect(() => {
        if (!authLoading && !isAuthenticated) {
            navigate("/login");
        }
    }, [authLoading, isAuthenticated, navigate]);

    // Cargar categorÃ­as
    useEffect(() => {
        const cargarCategorias = async () => {
            if (!tiendaUsuario?.nombreUrl) return;
            
            try {
                const categoriasData = await getCategoriasByTienda(tiendaUsuario.nombreUrl);
                setCategorias(categoriasData);
            } catch (error) {
                console.error("Error cargando categorÃ­as:", error);
            }
        };

        if (tiendaUsuario?.nombreUrl) {
            cargarCategorias();
        }
    }, [tiendaUsuario]);

    // Cargar productos
    useEffect(() => {
        const cargarProductos = async () => {
            if (!tiendaUsuario?.nombreUrl) {
                setCargandoProductos(false);
                return;
            }

            try {
                setCargandoProductos(true);
                const productosData = await getProductosByTienda(tiendaUsuario.nombreUrl);
                setProductos(productosData);
                setProductosFiltrados(productosData);
            } catch (error) {
                console.error("Error cargando productos:", error);
                showError("Error", "No se pudieron cargar los productos.");
            } finally {
                setCargandoProductos(false);
            }
        };

        if (tiendaUsuario?.nombreUrl) {
            cargarProductos();
        }
    }, [tiendaUsuario, showError]);

    // Aplicar filtros
    useEffect(() => {
        let productosFiltrados = [...productos];

        // Filtro por categorÃ­a
        if (filtroCategoria) {
            productosFiltrados = productosFiltrados.filter(
                p => p.categoriaId === parseInt(filtroCategoria)
            );
        }

        // BÃºsqueda por nombre
        if (busquedaNombre.trim()) {
            const termino = busquedaNombre.toLowerCase().trim();
            productosFiltrados = productosFiltrados.filter(
                p => p.nombre.toLowerCase().includes(termino)
            );
        }

        setProductosFiltrados(productosFiltrados);
    }, [filtroCategoria, busquedaNombre, productos]);

    // Helper para imagen principal
    const obtenerImagenPrincipal = (prod) => {
        if (prod.imagenes && Array.isArray(prod.imagenes) && prod.imagenes.length > 0) return prod.imagenes[0];
        if (prod.imagen) return prod.imagen;
        return "/default-product.png";
    };

    const abrirModal = async (producto) => {
        try {
            // Cargar datos completos del producto
            const productoCompleto = await getProductoById(tiendaUsuario.nombreUrl, producto.id);
            setProductoEditando(productoCompleto);
            
            setNombreEdit(productoCompleto.nombre || "");
            setDescripcionEdit(productoCompleto.descripcion || "");
            setPrecioEdit(productoCompleto.precio?.toString() || "");
            setStockEdit(productoCompleto.stock?.toString() || "");
            setCategoriaIdEdit(productoCompleto.categoriaId?.toString() || "");
            
            // Cargar imÃ¡genes
            let imgs = [];
            if (productoCompleto.imagenes && Array.isArray(productoCompleto.imagenes)) {
                imgs = productoCompleto.imagenes;
            } else if (productoCompleto.imagen) {
                imgs = [productoCompleto.imagen];
            }
            setImagenesExistentes(imgs);
            setNuevosArchivos([]);
            setNuevosArchivosPreview([]);
            
            setModalAbierto(true);
        } catch (error) {
            console.error("Error cargando producto:", error);
            showError("Error", "No se pudo cargar la informaciÃ³n del producto.");
        }
    };

    const cerrarModal = () => {
        setModalAbierto(false);
        setProductoEditando(null);
        setEditando(false);
        setNombreEdit("");
        setDescripcionEdit("");
        setPrecioEdit("");
        setStockEdit("");
        setCategoriaIdEdit("");
        setImagenesExistentes([]);
        setNuevosArchivos([]);
        setNuevosArchivosPreview([]);
    };

    const iniciarEdicion = () => {
        setEditando(true);
    };

    const cancelarEdicion = () => {
        if (productoEditando) {
            setNombreEdit(productoEditando.nombre || "");
            setDescripcionEdit(productoEditando.descripcion || "");
            setPrecioEdit(productoEditando.precio?.toString() || "");
            setStockEdit(productoEditando.stock?.toString() || "");
            setCategoriaIdEdit(productoEditando.categoriaId?.toString() || "");
            
            let imgs = [];
            if (productoEditando.imagenes && Array.isArray(productoEditando.imagenes)) {
                imgs = productoEditando.imagenes;
            } else if (productoEditando.imagen) {
                imgs = [productoEditando.imagen];
            }
            setImagenesExistentes(imgs);
            setNuevosArchivos([]);
            setNuevosArchivosPreview([]);
        }
        setEditando(false);
    };

    const handleNuevasImagenesChange = (e) => {
        const files = Array.from(e.target.files);
        if (files.length > 0) {
            const validFiles = [];
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                if (!file.type.startsWith("image/")) continue;
                if (file.size > 5 * 1024 * 1024) continue;
                validFiles.push(file);
                
                const reader = new FileReader();
                reader.onloadend = () => {
                    setNuevosArchivosPreview(prev => [...prev, reader.result]);
                };
                reader.readAsDataURL(file);
            }
            setNuevosArchivos(prev => [...prev, ...validFiles]);
        }
    };

    const removerImagenExistente = (index) => {
        setImagenesExistentes(prev => prev.filter((_, i) => i !== index));
    };

    const handleGuardar = async () => {
        if (!productoEditando) return;

        // Validaciones
        if (!nombreEdit.trim()) {
            showError("Error", "El nombre del producto es obligatorio");
            return;
        }

        if (nombreEdit.trim().length < 3 || nombreEdit.trim().length > 100) {
            showError("Error", "El nombre debe tener entre 3 y 100 caracteres");
            return;
        }

        const precioNum = parseInt(precioEdit);
        if (!precioEdit || isNaN(precioNum) || precioNum < 1) {
            showError("Error", "El precio debe ser un nÃºmero entero mayor o igual a 1");
            return;
        }

        const stockNum = parseInt(stockEdit);
        if (stockEdit === "" || isNaN(stockNum) || stockNum < 0) {
            showError("Error", "El stock debe ser un nÃºmero mayor o igual a 0");
            return;
        }

        if (!categoriaIdEdit) {
            showError("Error", "Debes seleccionar una categorÃ­a");
            return;
        }

        setLoading(true);

        try {
            const formData = new FormData();
            
            const datosActualizacion = {
                nombre: nombreEdit.trim(),
                descripcion: descripcionEdit.trim() || null,
                precio: precioNum,
                stock: stockNum,
                categoriaId: parseInt(categoriaIdEdit),
                imagenes: imagenesExistentes // Lista de imÃ¡genes que se conservan
            };
            
            formData.append("producto", JSON.stringify(datosActualizacion));
            
            // Agregar archivos nuevos
            nuevosArchivos.forEach(file => {
                formData.append("files", file);
            });

            const productoActualizado = await updateProducto(
                tiendaUsuario.nombreUrl,
                productoEditando.id,
                formData
            );

            // Actualizar la lista de productos
            setProductos(productos.map(p => 
                p.id === productoActualizado.id ? productoActualizado : p
            ));
            
            setProductosFiltrados(prev => prev.map(p => 
                p.id === productoActualizado.id ? productoActualizado : p
            ));

            showSuccess("Producto Actualizado", `El producto "${productoActualizado.nombre}" ha sido actualizado exitosamente`);
            setEditando(false);
            cerrarModal();
        } catch (error) {
            console.error("Error al actualizar producto:", error);
            let mensajeError = "Error al actualizar el producto. Intenta nuevamente.";
            if (error.response?.status === 400) {
                mensajeError = error.response?.data?.message || "Los datos enviados no son vÃ¡lidos.";
            } else if (error.response?.data?.message) {
                mensajeError = error.response.data.message;
            }
            showError("Error al actualizar producto", mensajeError);
        } finally {
            setLoading(false);
        }
    };

    const handleEliminar = async () => {
        if (!productoEditando) return;

        // Confirmar eliminaciÃ³n
        if (!window.confirm(`Â¿EstÃ¡s seguro de que deseas eliminar el producto "${productoEditando.nombre}"? Esta acciÃ³n no se puede deshacer.`)) {
            return;
        }

        setLoading(true);

        try {
            await deleteProducto(tiendaUsuario.nombreUrl, productoEditando.id);
            // Remover el producto de la lista
            setProductos(productos.filter(p => p.id !== productoEditando.id));
            setProductosFiltrados(productosFiltrados.filter(p => p.id !== productoEditando.id));
            
            showSuccess("Producto Eliminado", `El producto "${productoEditando.nombre}" ha sido eliminado exitosamente`);
            cerrarModal();
        } catch (error) {
            console.error("Error al eliminar producto:", error);
            let mensajeError = "Error al eliminar el producto. Intenta nuevamente.";
            if (error.response?.status === 404) {
                mensajeError = "El producto no fue encontrado.";
            } else if (error.response?.data?.message) {
                mensajeError = error.response.data.message;
            }
            showError("Error al eliminar producto", mensajeError);
        } finally {
            setLoading(false);
        }
    };

    if (authLoading) {
        return (
            <div className="editar-productos-loading">
                <div className="editar-productos-loading-content">
                    <div className="editar-productos-loading-title">Cargando...</div>
                </div>
            </div>
        );
    }

    if (!usuario || !usuario.dni) {
        return (
            <div className="editar-productos-error">
                <h2>Error</h2>
                <p>No se pudo obtener la informaciÃ³n del usuario.</p>
            </div>
        );
    }

    if (!tiendaUsuario) {
        return (
            <div className="editar-productos-error">
                <h2>Tienda no encontrada</h2>
                <p>Debes crear una tienda antes de poder gestionar productos.</p>
            </div>
        );
    }

    return (
        <div className="editar-productos-container">
            <h2 className="editar-productos-title">Editar Productos</h2>

            {/* Filtros y bÃºsqueda */}
            <div className="editar-productos-filtros">
                <div className="editar-productos-filtro-grupo">
                    <label className="editar-productos-label">Filtrar por categorÃ­a:</label>
                    <select
                        value={filtroCategoria}
                        onChange={(e) => setFiltroCategoria(e.target.value)}
                        className="editar-productos-select"
                    >
                        <option value="">Todas las categorÃ­as</option>
                        {categorias.map((cat) => (
                            <option key={cat.id} value={cat.id}>
                                {cat.nombre}
                            </option>
                        ))}
                    </select>
                </div>

                <div className="editar-productos-filtro-grupo">
                    <label className="editar-productos-label">Buscar por nombre:</label>
                    <input
                        type="text"
                        value={busquedaNombre}
                        onChange={(e) => setBusquedaNombre(e.target.value)}
                        placeholder="Buscar producto..."
                        className="editar-productos-input-busqueda"
                    />
                </div>
            </div>

            {/* Lista de productos */}
            {cargandoProductos ? (
                <div className="editar-productos-loading-productos">
                    Cargando productos...
                </div>
            ) : productosFiltrados.length === 0 ? (
                <div className="editar-productos-vacio">
                    <p>No se encontraron productos{productos.length === 0 ? "" : " con los filtros aplicados"}.</p>
                </div>
            ) : (
                <div className="editar-productos-grid">
                    {productosFiltrados.map((producto) => (
                        <div
                            key={producto.id}
                            className="editar-productos-card"
                            onClick={() => abrirModal(producto)}
                        >
                            <div className="editar-productos-card-imagen">
                                <img
                                    src={obtenerImagenPrincipal(producto)}
                                    alt={producto.nombre}
                                    onError={(e) => {
                                        if (!e.target.dataset.fallback) {
                                            e.target.dataset.fallback = "true";
                                            e.target.src = "/default-product.png";
                                        }
                                    }}
                                />
                            </div>
                            <div className="editar-productos-card-info">
                                <h3 className="editar-productos-card-nombre">{producto.nombre}</h3>
                                <p className="editar-productos-card-precio">${formatearPrecio(producto.precio)}</p>
                            </div>
                        </div>
                    ))}
                </div>
            )}

            {/* Modal de ediciÃ³n */}
            {modalAbierto && productoEditando && (
                <div className="editar-productos-modal-overlay" onClick={cerrarModal}>
                    <div className="editar-productos-modal" onClick={(e) => e.stopPropagation()}>
                        <div className="editar-productos-modal-header">
                            <h3>{editando ? "Editar Producto" : "Detalles del Producto"}</h3>
                            <button
                                className="editar-productos-modal-cerrar"
                                onClick={cerrarModal}
                            >
                                Ã—
                            </button>
                        </div>

                        <div className="editar-productos-modal-content">
                            {editando ? (
                                <>
                                    <div className="editar-productos-form-group">
                                        <label className="editar-productos-label">Nombre *</label>
                                        <input
                                            type="text"
                                            value={nombreEdit}
                                            onChange={(e) => setNombreEdit(e.target.value)}
                                            className="editar-productos-input"
                                            maxLength={100}
                                        />
                                    </div>

                                    <div className="editar-productos-form-group">
                                        <label className="editar-productos-label">DescripciÃ³n</label>
                                        <textarea
                                            value={descripcionEdit}
                                            onChange={(e) => setDescripcionEdit(e.target.value)}
                                            className="editar-productos-textarea"
                                            rows="3"
                                            maxLength={500}
                                        />
                                    </div>

                                    <div className="editar-productos-form-row">
                                        <div className="editar-productos-form-group">
                                            <label className="editar-productos-label">Precio *</label>
                                            <input
                                                type="number"
                                                min="1"
                                                value={precioEdit}
                                                onChange={(e) => setPrecioEdit(e.target.value)}
                                                className="editar-productos-input"
                                            />
                                        </div>

                                        <div className="editar-productos-form-group">
                                            <label className="editar-productos-label">Stock *</label>
                                            <input
                                                type="number"
                                                min="0"
                                                value={stockEdit}
                                                onChange={(e) => setStockEdit(e.target.value)}
                                                className="editar-productos-input"
                                            />
                                        </div>
                                    </div>

                                    <div className="editar-productos-form-group">
                                        <label className="editar-productos-label">CategorÃ­a *</label>
                                        <select
                                            value={categoriaIdEdit}
                                            onChange={(e) => setCategoriaIdEdit(e.target.value)}
                                            className="editar-productos-select"
                                        >
                                            <option value="">Selecciona una categorÃ­a</option>
                                            {categorias.map((cat) => (
                                                <option key={cat.id} value={cat.id}>
                                                    {cat.nombre}
                                                </option>
                                            ))}
                                        </select>
                                    </div>

                                    <div className="editar-productos-form-group">
                                        <label className="editar-productos-label">ImÃ¡genes</label>
                                        
                                        {/* Lista de imÃ¡genes editables */}
                                        <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap', marginBottom: '10px' }}>
                                            {imagenesExistentes.map((imgUrl, index) => (
                                                <div key={`old-${index}`} style={{ position: 'relative', width: '80px', height: '80px' }}>
                                                    <img src={imgUrl} alt="Existente" style={{ width: '100%', height: '100%', objectFit: 'cover', borderRadius: '5px' }} />
                                                    <button type="button" onClick={() => removerImagenExistente(index)} style={{ position: 'absolute', top: '-5px', right: '-5px', background: 'red', color: 'white', border: 'none', borderRadius: '50%', width: '20px', height: '20px', cursor: 'pointer', display: 'flex', justifyContent: 'center', alignItems: 'center', fontSize: '12px' }}>X</button>
                                                </div>
                                            ))}
                                            {nuevosArchivosPreview.map((preview, index) => (
                                                <div key={`new-${index}`} style={{ position: 'relative', width: '80px', height: '80px' }}>
                                                    <img src={preview} alt="Nueva" style={{ width: '100%', height: '100%', objectFit: 'cover', borderRadius: '5px', border: '2px solid #27ae60' }} />
                                                    <button type="button" onClick={() => setNuevosArchivos(prev => prev.filter((_, i) => i !== index))} style={{ position: 'absolute', top: '-5px', right: '-5px', background: 'red', color: 'white', border: 'none', borderRadius: '50%', width: '20px', height: '20px', cursor: 'pointer', display: 'flex', justifyContent: 'center', alignItems: 'center', fontSize: '12px' }}>X</button>
                                                </div>
                                            ))}
                                        </div>

                                        <input
                                            type="file"
                                            accept="image/*"
                                            multiple
                                            onChange={handleNuevasImagenesChange}
                                            className="editar-productos-file-input"
                                        />
                                        <small className="editar-productos-help-text">
                                            Agrega nuevas imÃ¡genes. Elimina las que no quieras mantener.
                                        </small>
                                    </div>
                                </>
                            ) : (
                                <>
                                    <div className="editar-productos-detalle-imagen">
                                        <img
                                            src={obtenerImagenPrincipal(productoEditando)}
                                            alt={productoEditando.nombre}
                                            onError={(e) => {
                                                if (!e.target.dataset.fallback) {
                                                    e.target.dataset.fallback = "true";
                                                    e.target.src = "/default-product.png";
                                                }
                                            }}
                                        />
                                    </div>
                                    <div className="editar-productos-detalle-info">
                                        <p><strong>Nombre:</strong> {productoEditando.nombre}</p>
                                        <p><strong>Precio:</strong> ${formatearPrecio(productoEditando.precio)}</p>
                                        <p><strong>Stock:</strong> {productoEditando.stock}</p>
                                        <p><strong>DescripciÃ³n:</strong> {productoEditando.descripcion || "Sin descripciÃ³n"}</p>
                                        <p><strong>CategorÃ­a:</strong> {
                                            categorias.find(c => c.id === productoEditando.categoriaId)?.nombre || "Sin categorÃ­a"
                                        }</p>
                                        {/* Mostrar cuÃ¡ntas imÃ¡genes tiene */}
                                        <p><strong>ImÃ¡genes:</strong> {
                                            (productoEditando.imagenes?.length || (productoEditando.imagen ? 1 : 0))
                                        }</p>
                                    </div>
                                </>
                            )}
                        </div>

                        <div className="editar-productos-modal-footer">
                            {editando ? (
                                <>
                                    <button
                                        onClick={handleGuardar}
                                        disabled={loading}
                                        className="editar-productos-btn editar-productos-btn-guardar"
                                    >
                                        {loading ? "Guardando..." : "Guardar Cambios"}
                                    </button>
                                    <button
                                        onClick={cancelarEdicion}
                                        disabled={loading}
                                        className="editar-productos-btn editar-productos-btn-cancelar"
                                    >
                                        Cancelar
                                    </button>
                                </>
                            ) : (
                                <>
                                    <button
                                        onClick={iniciarEdicion}
                                        className="editar-productos-btn editar-productos-btn-editar"
                                    >
                                        Editar Producto
                                    </button>
                                    <button
                                        onClick={handleEliminar}
                                        disabled={loading}
                                        className="editar-productos-btn editar-productos-btn-eliminar"
                                    >
                                        {loading ? "Eliminando..." : "ðŸ—‘ï¸ Eliminar Producto"}
                                    </button>
                                </>
                            )}
                        </div>
                    </div>
                </div>
            )}
        </div>
    );
}

export default AdminEditarProductos;

--- FILE: C:\Workspace\ecommerce-front\src\admin\pages\AdminPedidos.jsx ---
import { useState, useEffect, useCallback, useMemo } from "react";
import { useNavigate, useParams } from "react-router-dom";
import { useAuth } from "../../tienda/contexts/AuthContext";
import { useNotifications } from "../../contexts/NotificationContext";
import { getPedidosByTienda, updatePedido } from "../../tienda/services/pedidos";
import "../styles/AdminPedidos.css"; 

/**
 * PÃ¡gina de gestiÃ³n de pedidos
 * * Permite ver y actualizar el estado de los pedidos para la tienda
 * del vendedor autenticado.
 */
function AdminPedidos() {
    const { usuario, tiendaUsuario, loading: authLoading, isAuthenticated } = useAuth();
    const { nombreTienda } = useParams();
    const navigate = useNavigate();
    const { success: showSuccess, error: showError } = useNotifications();

    const [loading, setLoading] = useState(true);
    const [pedidos, setPedidos] = useState([]);
    const [pedidosFiltrados, setPedidosFiltrados] = useState([]);
    const [cargandoPedidos, setCargandoPedidos] = useState(true);

    // Estados de filtros
    const [filtroEstado, setFiltroEstado] = useState("");
    const [busquedaId, setBusquedaId] = useState("");

    // Estados del modal de detalle/ediciÃ³n
    const [modalAbierto, setModalAbierto] = useState(false);
    const [pedidoSeleccionado, setPedidoSeleccionado] = useState(null);
    const [nuevoEstado, setNuevoEstado] = useState("");
    const [actualizandoEstado, setActualizandoEstado] = useState(false);
    
    // Lista de estados posibles
    const estadosPosibles = useMemo(() => [
        "PENDIENTE", 
        "PAGADO", 
        "EN_PREPARACION", 
        "EN_CAMINO", 
        "ENTREGADO", 
        "CANCELADO"
    ], []);

    // Redirigir si no estÃ¡ autenticado o si aÃºn estÃ¡ cargando
    useEffect(() => {
        if (!authLoading && !isAuthenticated) {
            navigate("/login");
        }
    }, [authLoading, isAuthenticated, navigate]);
    
    // FunciÃ³n para cargar pedidos
    const cargarPedidos = useCallback(async () => {
        if (!tiendaUsuario?.nombreUrl) {
            setCargandoPedidos(false);
            setLoading(false);
            return;
        }

        try {
            setCargandoPedidos(true);
            const pedidosData = await getPedidosByTienda(tiendaUsuario.nombreUrl);
            setPedidos(pedidosData);
            setPedidosFiltrados(pedidosData); 
        } catch (error) {
            console.error("Error cargando pedidos:", error);
            showError("Error", "No se pudieron cargar los pedidos.");
        } finally {
            setCargandoPedidos(false);
            setLoading(false);
        }
    }, [tiendaUsuario?.nombreUrl, showError]);

    // Cargar pedidos de la tienda
    useEffect(() => {
        if (tiendaUsuario?.nombreUrl) {
            cargarPedidos();
        }
    }, [tiendaUsuario?.nombreUrl, cargarPedidos]);
    
    // Aplicar filtros
    useEffect(() => {
        let listaFiltrada = [...pedidos];

        if (filtroEstado) {
            listaFiltrada = listaFiltrada.filter(p => 
                p.estado.toUpperCase() === filtroEstado.toUpperCase()
            );
        }

        if (busquedaId.trim()) {
            const idBusqueda = busquedaId.trim().toLowerCase();
            listaFiltrada = listaFiltrada.filter(p => 
                p.id.toString().includes(idBusqueda)
            );
        }

        setPedidosFiltrados(listaFiltrada);
    }, [filtroEstado, busquedaId, pedidos]);

    // FunciÃ³n para abrir modal de detalle
    const abrirModalDetalle = (pedido) => {
        setPedidoSeleccionado(pedido);
        setNuevoEstado(pedido.estado);
        setModalAbierto(true);
    };

    // FunciÃ³n para cerrar modal
    const cerrarModal = () => {
        setModalAbierto(false);
        setPedidoSeleccionado(null);
        setNuevoEstado("");
    };

    // FunciÃ³n para actualizar estado del pedido
    const handleActualizarEstado = async () => {
        if (!pedidoSeleccionado || !nuevoEstado) return;
        
        if (nuevoEstado === pedidoSeleccionado.estado) {
            showError("AtenciÃ³n", "El estado seleccionado es el mismo que el actual.");
            return;
        }

        setActualizandoEstado(true);
        try {
            const pedidoActualizado = await updatePedido(tiendaUsuario.nombreUrl, pedidoSeleccionado.id, {
                estado: nuevoEstado
            });
            
            // Actualizar la lista de pedidos con el nuevo estado
            setPedidos(prev => prev.map(p => 
                p.id === pedidoSeleccionado.id ? pedidoActualizado : p
            ));
            
            showSuccess("Estado Actualizado", `El pedido #${pedidoSeleccionado.id} ha pasado a estado ${nuevoEstado}`);
            setPedidoSeleccionado(pedidoActualizado);
            setNuevoEstado(pedidoActualizado.estado); 
            
        } catch (error) {
            console.error("Error al actualizar estado:", error);
            showError("Error", error.response?.data?.message || "No se pudo actualizar el estado del pedido.");
        } finally {
            setActualizandoEstado(false);
        }
    };
    
    const formatearFecha = (fechaString) => {
        if (!fechaString) return "N/A";
        const date = new Date(fechaString);
        return date.toLocaleDateString("es-AR", {
            year: 'numeric', month: '2-digit', day: '2-digit', 
            hour: '2-digit', minute: '2-digit'
        });
    };

    const formatearEstado = (estado) => {
        const texto = estado.replace(/_/g, ' ');
        return texto.charAt(0).toUpperCase() + texto.slice(1).toLowerCase();
    }

    if (authLoading || loading) {
        return (
            <div className="pedidos-loading">
                <p>Cargando informaciÃ³n de la tienda...</p>
            </div>
        );
    }

    if (!usuario || !usuario.dni || !isAuthenticated) {
        return (
            <div className="pedidos-error">
                <h2>Error de AutenticaciÃ³n</h2>
                <p>No se pudo obtener la informaciÃ³n del usuario.</p>
            </div>
        );
    }
    
    if (!tiendaUsuario) {
        return (
            <div className="pedidos-error">
                <h2>Tienda no encontrada</h2>
                <p>No tienes una tienda asociada.</p>
            </div>
        );
    }

    return (
        <div className="pedidos-container">
            <h2 className="pedidos-title">GestiÃ³n de Pedidos</h2>

            {/* Filtros y bÃºsqueda */}
            <div className="pedidos-filtros">
                <div className="pedidos-filtro-grupo">
                    <label className="pedidos-label">Filtrar por Estado:</label>
                    <select
                        value={filtroEstado}
                        onChange={(e) => setFiltroEstado(e.target.value)}
                        className="pedidos-select"
                    >
                        <option value="">Todos los estados</option>
                        {estadosPosibles.map((estado) => (
                            <option key={estado} value={estado}>
                                {formatearEstado(estado)}
                            </option>
                        ))}
                    </select>
                </div>

                <div className="pedidos-filtro-grupo">
                    <label className="pedidos-label">Buscar por ID de Pedido:</label>
                    <input
                        type="text"
                        value={busquedaId}
                        onChange={(e) => setBusquedaId(e.target.value)}
                        placeholder="Buscar ID de pedido..."
                        className="pedidos-input-busqueda"
                    />
                </div>
            </div>

            {/* Lista de pedidos */}
            <div className="pedidos-list-container">
                {cargandoPedidos ? (
                    <div className="pedidos-loading">
                        <p>Cargando pedidos...</p>
                    </div>
                ) : pedidosFiltrados.length === 0 ? (
                    <div className="pedidos-loading">
                        <p>No se encontraron pedidos.</p>
                    </div>
                ) : (
                    <table className="pedidos-table">
                        <thead>
                            <tr>
                                <th>ID Pedido</th>
                                <th>Fecha</th>
                                <th>Total</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            {pedidosFiltrados.map((pedido) => (
                                <tr key={pedido.id}>
                                    <td>#{pedido.id}</td>
                                    <td>{formatearFecha(pedido.fechaPedido)}</td>
                                    <td>${(pedido.total || 0).toFixed(2)}</td> 
                                    <td>
                                        <span className={`estado-${pedido.estado.toUpperCase().replace(/\s/g, '_')}`}>
                                            {formatearEstado(pedido.estado)}
                                        </span>
                                    </td>
                                    <td>
                                        <button 
                                            onClick={() => abrirModalDetalle(pedido)}
                                            className="pedidos-btn pedidos-btn-detalle"
                                        >
                                            Ver Detalle
                                        </button>
                                    </td>
                                </tr>
                            ))}
                        </tbody>
                    </table>
                )}
            </div>

            {/* Modal de Detalle/EdiciÃ³n */}
            {modalAbierto && pedidoSeleccionado && (
                <div className="pedidos-modal-overlay" onClick={cerrarModal}>
                    <div className="pedidos-modal" onClick={(e) => e.stopPropagation()}>
                        <div className="pedidos-modal-header">
                            <h3>Detalle de Pedido #{pedidoSeleccionado.id}</h3>
                            <button className="pedidos-modal-cerrar" onClick={cerrarModal}>
                                &times;
                            </button>
                        </div>

                        <div className="pedidos-modal-content">
                            
                            {/* InformaciÃ³n General */}
                            <div className="pedidos-detalle-group">
                                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                                    <div>
                                        <strong>Estado: </strong> 
                                        <span className={`estado-${pedidoSeleccionado.estado.toUpperCase().replace(/\s/g, '_')}`}>
                                            {formatearEstado(pedidoSeleccionado.estado)}
                                        </span>
                                    </div>
                                    <div>
                                        <strong>Fecha: </strong> {formatearFecha(pedidoSeleccionado.fechaPedido)}
                                    </div>
                                </div>
                                <hr style={{ border: 'none', borderTop: '1px solid #ddd', margin: '10px 0' }}/>
                                
                                {/* MOSTRAR NOMBRE DEL COMPRADOR O DNI */}
                                <p style={{ margin: '5px 0' }}>
                                    <strong>Comprador: </strong> 
                                    {pedidoSeleccionado.usuarioNombre ? (
                                        <span>{pedidoSeleccionado.usuarioNombre} {pedidoSeleccionado.usuarioApellido} (DNI: {pedidoSeleccionado.usuarioDni})</span>
                                    ) : (
                                        <span>DNI: {pedidoSeleccionado.usuarioDni || 'N/A'}</span>
                                    )}
                                </p>
                            </div>
                            
                            {/* InformaciÃ³n de EnvÃ­o - AHORA MUESTRA LA DIRECCIÃ“N CORRECTAMENTE */}
                            <div className="pedidos-detalle-group">
                                <p style={{ margin: '5px 0' }}><strong>MÃ©todo de EnvÃ­o:</strong> {pedidoSeleccionado.metodoEnvio || 'N/A'}</p>
                                <p style={{ margin: '5px 0' }}><strong>DirecciÃ³n:</strong> {pedidoSeleccionado.direccionEnvio || 'No especificada'}</p>
                                <p style={{ margin: '5px 0' }}><strong>Costo de EnvÃ­o:</strong> ${Number(pedidoSeleccionado.costoEnvio || 0).toFixed(2)}</p> 
                            </div>

                            {/* Items del Pedido */}
                            <h4 style={{ margin: '20px 0 10px 0' }}>Productos Comprados:</h4>
                            <div className="pedidos-detalle-items">
                                {(pedidoSeleccionado.items && Array.isArray(pedidoSeleccionado.items) && pedidoSeleccionado.items.length > 0) ? (
                                    pedidoSeleccionado.items.map((item, index) => (
                                        <div key={index} className="pedidos-item-card">
                                            <div className="pedidos-item-info">
                                                <div className="pedidos-item-nombre">{item.nombreProducto}</div>
                                                <div className="pedidos-item-precio">{item.cantidad} x ${Number(item.precioUnitario || 0).toFixed(2)}</div> 
                                            </div>
                                            <div style={{ fontWeight: 'bold' }}>
                                                ${(Number(item.cantidad || 0) * Number(item.precioUnitario || 0)).toFixed(2)}
                                            </div>
                                        </div>
                                    ))
                                ) : (
                                    <p style={{ color: 'var(--text-gray-4)' }}>No se encontraron detalles de productos.</p>
                                )}
                            </div>

                            {/* Totales */}
                            <div className="pedidos-total" style={{ display: 'flex', flexDirection: 'column', gap: '5px' }}>
                                <div style={{ fontSize: '1rem', fontWeight: 'normal' }}>Subtotal Productos: ${(Number(pedidoSeleccionado.total || 0) - Number(pedidoSeleccionado.costoEnvio || 0)).toFixed(2)}</div>
                                <div style={{ fontSize: '1rem', fontWeight: 'normal' }}>EnvÃ­o: ${Number(pedidoSeleccionado.costoEnvio || 0).toFixed(2)}</div>
                                <div style={{ marginTop: '5px', borderTop: '1px solid #ddd', paddingTop: '5px' }}>Total Final: ${Number(pedidoSeleccionado.total || 0).toFixed(2)}</div>
                            </div>
                            
                            {/* Actualizar Estado */}
                            <h4 style={{ margin: '30px 0 10px 0' }}>Actualizar Estado</h4>
                            <div className="pedidos-filtro-grupo" style={{ flexDirection: 'row', alignItems: 'center', gap: '15px' }}>
                                <label className="pedidos-label" style={{ margin: 0, flexShrink: 0 }}>Nuevo Estado:</label>
                                <select
                                    value={nuevoEstado}
                                    onChange={(e) => setNuevoEstado(e.target.value)}
                                    className="pedidos-select"
                                    disabled={actualizandoEstado || pedidoSeleccionado.estado === 'CANCELADO' || pedidoSeleccionado.estado === 'ENTREGADO'}
                                >
                                    {estadosPosibles.map((estado) => (
                                        <option 
                                            key={estado} 
                                            value={estado}
                                            disabled={
                                                (pedidoSeleccionado.estado === 'PAGADO' && (estado === 'PENDIENTE' || estado === 'PAGADO')) ||
                                                (pedidoSeleccionado.estado === 'EN_PREPARACION' && (estado === 'PENDIENTE' || estado === 'PAGADO' || estado === 'EN_PREPARACION')) ||
                                                (pedidoSeleccionado.estado === 'EN_CAMINO' && (estado === 'PENDIENTE' || estado === 'PAGADO' || estado === 'EN_PREPARACION' || estado === 'EN_CAMINO')) ||
                                                (pedidoSeleccionado.estado === 'ENTREGADO' && estado !== 'ENTREGADO') ||
                                                (pedidoSeleccionado.estado === 'CANCELADO' && estado !== 'CANCELADO')
                                            }
                                        >
                                            {formatearEstado(estado)}
                                        </option>
                                    ))}
                                </select>
                            </div>
                            {(pedidoSeleccionado.estado === 'CANCELADO' || pedidoSeleccionado.estado === 'ENTREGADO') && (
                                <p style={{ color: 'var(--red-600)', fontSize: '0.9rem', marginTop: '10px' }}>No se puede modificar el estado de un pedido {formatearEstado(pedidoSeleccionado.estado)}.</p>
                            )}
                        </div>

                        <div className="pedidos-modal-footer">
                            <button
                                onClick={handleActualizarEstado}
                                disabled={actualizandoEstado || nuevoEstado === pedidoSeleccionado.estado || pedidoSeleccionado.estado === 'CANCELADO' || pedidoSeleccionado.estado === 'ENTREGADO'}
                                className="pedidos-btn pedidos-btn-update"
                            >
                                {actualizandoEstado ? "Actualizando..." : "Guardar Estado"}
                            </button>
                            <button
                                onClick={cerrarModal}
                                disabled={actualizandoEstado}
                                className="pedidos-btn pedidos-btn-cancelar"
                            >
                                Cerrar
                            </button>
                        </div>
                    </div>
                </div>
            )}
        </div>
    );
}

export default AdminPedidos;
--- FILE: C:\Workspace\ecommerce-front\src\admin\pages\AdminProductos.jsx ---
import { useState, useEffect } from "react";
import { useNavigate, useParams } from "react-router-dom";
import { useAuth } from "../../tienda/contexts/AuthContext";
import { createProducto } from "../../tienda/services/productos";
import { getCategoriasByTienda } from "../../tienda/services/categorias";
import { useNotifications } from "../../contexts/NotificationContext";
import "../styles/AdminProductos.css";

/**
 * PÃ¡gina de gestiÃ³n de productos
 * 
 * Permite crear productos para la tienda del vendedor autenticado
 */
function AdminProductos() {
    const { usuario, tiendaUsuario, loading: authLoading, isAuthenticated } = useAuth();
    const { nombreTienda } = useParams();
    const navigate = useNavigate();
    const { success: showSuccess, error: showError } = useNotifications();
    
    const [loading, setLoading] = useState(false);
    const [cargandoCategorias, setCargandoCategorias] = useState(true);
    const [categorias, setCategorias] = useState([]);
    
    // Estados del formulario
    const [nombre, setNombre] = useState("");
    const [descripcion, setDescripcion] = useState("");
    const [precio, setPrecio] = useState("");
    const [stock, setStock] = useState("");
    const [categoriaId, setCategoriaId] = useState("");
    const [imagen, setImagen] = useState(null);
    const [imagenPreview, setImagenPreview] = useState(null);
    
    // Redirigir si no estÃ¡ autenticado o si aÃºn estÃ¡ cargando
    useEffect(() => {
        if (!authLoading && !isAuthenticated) {
            navigate("/login");
        }
    }, [authLoading, isAuthenticated, navigate]);

    // Cargar categorÃ­as de la tienda
    useEffect(() => {
        const cargarCategorias = async () => {
            if (!tiendaUsuario?.nombreUrl) {
                setCargandoCategorias(false);
                return;
            }

            try {
                setCargandoCategorias(true);
                const categoriasData = await getCategoriasByTienda(tiendaUsuario.nombreUrl);
                setCategorias(categoriasData);
                
                // Si no hay categorÃ­a seleccionada, buscar "otros" y seleccionarla por defecto
                if (!categoriaId) {
                    const otros = categoriasData.find(cat => cat.nombre.toLowerCase() === "otros");
                    if (otros) {
                        setCategoriaId(otros.id.toString());
                    }
                }
            } catch (error) {
                console.error("Error cargando categorÃ­as:", error);
                showError("Error", "No se pudieron cargar las categorÃ­as. AsegÃºrate de tener categorÃ­as creadas en tu tienda.");
            } finally {
                setCargandoCategorias(false);
            }
        };

        if (tiendaUsuario?.nombreUrl) {
            cargarCategorias();
        }
    }, [tiendaUsuario, showError]);

    const handleImagenChange = (e) => {
        const file = e.target.files[0];
        if (file) {
            // Validar tipo de archivo
            if (!file.type.startsWith("image/")) {
                showError("Error", "El archivo debe ser una imagen");
                return;
            }
            
            // Validar tamaÃ±o (mÃ¡ximo 5MB)
            if (file.size > 5 * 1024 * 1024) {
                showError("Error", "La imagen no debe superar los 5MB");
                return;
            }
            
            setImagen(file);
            
            // Crear preview
            const reader = new FileReader();
            reader.onloadend = () => {
                setImagenPreview(reader.result);
            };
            reader.readAsDataURL(file);
        }
    };

    const handleSubmit = async (e) => {
        e.preventDefault();
        setLoading(true);

        // Validaciones
        if (!nombre.trim()) {
            showError("Error", "El nombre del producto es obligatorio");
            setLoading(false);
            return;
        }

        if (nombre.trim().length < 3 || nombre.trim().length > 100) {
            showError("Error", "El nombre debe tener entre 3 y 100 caracteres");
            setLoading(false);
            return;
        }

        const precioNum = parseInt(precio);
        if (!precio || isNaN(precioNum) || precioNum < 1) {
            showError("Error", "El precio debe ser un nÃºmero entero mayor o igual a 1");
            setLoading(false);
            return;
        }

        const stockNum = parseInt(stock);
        if (stock === "" || isNaN(stockNum) || stockNum < 1) {
            showError("Error", "El stock debe ser un nÃºmero mayor o igual a 1");
            setLoading(false);
            return;
        }

        // Validar que la imagen sea obligatoria
        if (!imagen) {
            showError("Error", "La imagen del producto es obligatoria");
            setLoading(false);
            return;
        }

        if (descripcion && descripcion.length > 500) {
            showError("Error", "La descripciÃ³n no puede superar los 500 caracteres");
            setLoading(false);
            return;
        }

        if (!tiendaUsuario?.nombreUrl) {
            showError("Error", "No se pudo obtener la informaciÃ³n de la tienda. Por favor, recarga la pÃ¡gina.");
            setLoading(false);
            return;
        }

        try {
            // Si no hay categorÃ­a seleccionada, buscar "otros"
            let categoriaIdFinal = categoriaId;
            if (!categoriaIdFinal) {
                const otros = categorias.find(cat => cat.nombre.toLowerCase() === "otros");
                if (otros) {
                    categoriaIdFinal = otros.id.toString();
                } else {
                    showError("Error", "No se encontrÃ³ la categorÃ­a 'Otros'. Por favor, crea categorÃ­as en la secciÃ³n de categorÃ­as.");
                    setLoading(false);
                    return;
                }
            }

            // Crear FormData para multipart/form-data
            const formData = new FormData();
            
            // Crear objeto JSON con los datos del producto
            const productoData = {
                categoriaId: parseInt(categoriaIdFinal),
                nombre: nombre.trim(),
                descripcion: descripcion.trim() || null,
                precio: precioNum,
                stock: stockNum
            };
            
            // Agregar el JSON como string en el campo "producto"
            formData.append("producto", JSON.stringify(productoData));
            
            // Agregar el archivo de imagen si se seleccionÃ³ uno
            if (imagen) {
                formData.append("file", imagen);
            }

            const productoCreado = await createProducto(tiendaUsuario.nombreUrl, formData);

            // Limpiar formulario
            setNombre("");
            setDescripcion("");
            setPrecio("");
            setStock("");
            setCategoriaId("");
            setImagen(null);
            setImagenPreview(null);
            
            // Limpiar el input de archivo
            const fileInput = document.querySelector('input[type="file"]');
            if (fileInput) {
                fileInput.value = '';
            }

            showSuccess("Producto Creado", `El producto "${productoCreado.nombre}" ha sido creado exitosamente`);
            
        } catch (error) {
            console.error("Error al crear producto:", error);
            
            // Mensajes de error mÃ¡s especÃ­ficos
            let mensajeError = "Error al crear el producto. Intenta nuevamente.";
            
            if (error.response?.status === 400) {
                mensajeError = error.response?.data?.message || "Los datos enviados no son vÃ¡lidos. Verifica todos los campos.";
            } else if (error.response?.status === 404) {
                mensajeError = "La tienda o categorÃ­a no fue encontrada. Verifica que la categorÃ­a pertenezca a tu tienda.";
            } else if (error.response?.status === 403) {
                mensajeError = "No tienes permisos para crear productos en esta tienda.";
            } else if (error.response?.data?.message) {
                mensajeError = error.response.data.message;
            } else if (error.message) {
                mensajeError = error.message;
            }
            
            showError("Error al crear producto", mensajeError);
        } finally {
            setLoading(false);
        }
    };

    // Mostrar carga mientras se obtiene el usuario
    if (authLoading) {
        return (
            <div className="productos-loading">
                <div className="productos-loading-content">
                    <div className="productos-loading-title">
                        Cargando...
                    </div>
                    <div className="productos-loading-text">
                        Obteniendo informaciÃ³n del usuario
                    </div>
                </div>
            </div>
        );
    }

    // Si no hay usuario despuÃ©s de cargar, mostrar error
    if (!usuario || !usuario.dni) {
        return (
            <div className="productos-error">
                <h2 className="productos-error-title">
                    Error
                </h2>
                <div className="productos-error-container">
                    <div className="productos-error-alert">
                        <strong>No se pudo obtener la informaciÃ³n del usuario.</strong>
                        <br />
                        <small className="productos-error-text">
                            Por favor, inicia sesiÃ³n nuevamente.
                        </small>
                    </div>
                    <div className="productos-error-actions">
                        <button
                            onClick={() => {
                                localStorage.clear();
                                navigate("/login");
                            }}
                            className="productos-error-btn productos-error-btn-primary"
                        >
                            Ir a Iniciar SesiÃ³n
                        </button>
                    </div>
                </div>
            </div>
        );
    }

    // Si no hay tienda, mostrar mensaje
    if (!tiendaUsuario) {
        return (
            <div className="productos-error">
                <h2 className="productos-error-title">
                    Tienda no encontrada
                </h2>
                <div className="productos-error-container">
                    <div className="productos-error-alert">
                        <strong>No tienes una tienda asociada.</strong>
                        <br />
                        <small className="productos-error-text">
                            Debes crear una tienda antes de poder agregar productos.
                        </small>
                    </div>
                    <div className="productos-error-actions">
                        <button
                            onClick={() => {
                                const tiendaActual = nombreTienda || "tienda";
                                navigate(`/admin/${tiendaActual}/configuracion`);
                            }}
                            className="productos-error-btn productos-error-btn-primary"
                        >
                            Crear Mi Tienda
                        </button>
                    </div>
                </div>
            </div>
        );
    }

    return (
        <div className="productos-container">
            <h2 className="productos-title">
                Crear Nuevo Producto
            </h2>

            {cargandoCategorias ? (
                <div className="productos-loading-categorias">
                    Cargando categorÃ­as...
                </div>
            ) : categorias.length === 0 ? (
                <div className="productos-alert productos-alert-warning">
                    <strong>No hay categorÃ­as disponibles.</strong>
                    <p>Debes crear al menos una categorÃ­a antes de poder agregar productos.</p>
                    <button
                        onClick={() => {
                            // TODO: Navegar a pÃ¡gina de categorÃ­as cuando estÃ© implementada
                            showError("PrÃ³ximamente", "La gestiÃ³n de categorÃ­as estarÃ¡ disponible prÃ³ximamente");
                        }}
                        className="productos-btn productos-btn-secondary"
                    >
                        Crear CategorÃ­a
                    </button>
                </div>
            ) : (
                <form onSubmit={handleSubmit} className="productos-form">
                    <div className="productos-form-group">
                        <label className="productos-label">
                            Nombre del Producto *
                        </label>
                        <input
                            type="text"
                            value={nombre}
                            onChange={(e) => setNombre(e.target.value)}
                            placeholder="Ej: Helado de Vainilla"
                            required
                            minLength={3}
                            maxLength={100}
                            disabled={loading}
                            className="productos-input"
                        />
                        <small className="productos-help-text">
                            Entre 3 y 100 caracteres
                        </small>
                    </div>

                    <div className="productos-form-group">
                        <label className="productos-label">
                            DescripciÃ³n
                        </label>
                        <textarea
                            value={descripcion}
                            onChange={(e) => setDescripcion(e.target.value)}
                            placeholder="Describe el producto..."
                            rows="4"
                            maxLength={500}
                            disabled={loading}
                            className="productos-textarea"
                        />
                        <small className="productos-help-text">
                            MÃ¡ximo 500 caracteres ({descripcion.length}/500)
                        </small>
                    </div>

                    <div className="productos-form-row">
                        <div className="productos-form-group">
                            <label className="productos-label">
                                Precio *
                            </label>
                            <input
                                type="number"
                                min="1"
                                value={precio}
                                onChange={(e) => setPrecio(e.target.value)}
                                placeholder="0"
                                required
                                disabled={loading}
                                className="productos-input"
                            />
                            <small className="productos-help-text">
                                Precio en pesos (solo nÃºmeros enteros)
                            </small>
                        </div>

                        <div className="productos-form-group">
                            <label className="productos-label">
                                Stock *
                            </label>
                            <input
                                type="number"
                                min="1"
                                value={stock}
                                onChange={(e) => setStock(e.target.value)}
                                placeholder="1"
                                required
                                disabled={loading}
                                className="productos-input"
                            />
                            <small className="productos-help-text">
                                Cantidad disponible (mÃ­nimo 1). Se descontarÃ¡ automÃ¡ticamente al realizar una compra.
                            </small>
                        </div>
                    </div>

                    <div className="productos-form-group">
                        <label className="productos-label">
                            CategorÃ­a
                        </label>
                        <select
                            value={categoriaId}
                            onChange={(e) => setCategoriaId(e.target.value)}
                            disabled={loading || cargandoCategorias}
                            className="productos-select"
                        >
                            <option value="">Selecciona una categorÃ­a (por defecto: Otros)</option>
                            {categorias.map((categoria) => (
                                <option key={categoria.id} value={categoria.id}>
                                    {categoria.nombre}
                                </option>
                            ))}
                        </select>
                        <small className="productos-help-text">
                            Si no seleccionas una categorÃ­a, se usarÃ¡ automÃ¡ticamente "Otros"
                        </small>
                    </div>

                    <div className="productos-form-group">
                        <label className="productos-label">
                            Imagen del Producto *
                        </label>
                        {imagenPreview && (
                            <div className="productos-imagen-preview">
                                <img
                                    src={imagenPreview}
                                    alt="Preview del producto"
                                />
                            </div>
                        )}
                        <input
                            type="file"
                            accept="image/*"
                            onChange={handleImagenChange}
                            required
                            disabled={loading}
                            className="productos-file-input"
                        />
                        <small className="productos-help-text">
                            Formato: JPG, PNG, GIF. TamaÃ±o mÃ¡ximo: 5MB. La imagen es obligatoria.
                        </small>
                    </div>

                    <div className="productos-form-actions">
                        <button
                            type="submit"
                            disabled={loading || cargandoCategorias}
                            className="productos-btn productos-btn-submit"
                        >
                            {loading ? "Creando..." : "Crear Producto"}
                        </button>
                        <button
                            type="button"
                            onClick={() => {
                                const tiendaActual = nombreTienda || tiendaUsuario?.nombreUrl || "tienda";
                                navigate(`/admin/${tiendaActual}/dashboard`);
                            }}
                            disabled={loading}
                            className="productos-btn productos-btn-cancel"
                        >
                            Cancelar
                        </button>
                    </div>
                </form>
            )}
        </div>
    );
}

export default AdminProductos;
--- FILE: C:\Workspace\ecommerce-front\src\admin\styles\AdminCategorias.css ---
.categorias-container {
    padding: 20px;
}

.categorias-title {
    margin-bottom: 30px;
    color: #2c3e50;
}

.categorias-subtitle {
    margin-bottom: 20px;
    color: #34495e;
    font-size: 1.2rem;
}

.categorias-form-container {
    background-color: white;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    max-width: 600px;
    margin-bottom: 30px;
}

.categorias-form {
    margin-top: 20px;
}

.categorias-form-group {
    margin-bottom: 20px;
}

.categorias-label {
    display: block;
    margin-bottom: 8px;
    font-weight: bold;
    color: #2c3e50;
}

.categorias-input {
    width: 100%;
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
    box-sizing: border-box;
}

.categorias-input:disabled {
    background-color: #f5f5f5;
    cursor: not-allowed;
}

.categorias-help-text {
    display: block;
    color: #666;
    font-size: 0.9rem;
    margin-top: 5px;
}

.categorias-alert {
    padding: 12px;
    border-radius: 5px;
    margin-top: 10px;
}

.categorias-alert-warning {
    background-color: #fff3cd;
    color: #856404;
    border: 1px solid #ffeaa7;
}

.categorias-form-actions {
    display: flex;
    gap: 10px;
    margin-top: 20px;
}

.categorias-btn {
    padding: 12px 24px;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: bold;
    transition: background-color 0.3s;
}

.categorias-btn-submit {
    background-color: #3498db;
}

.categorias-btn-submit:hover:not(:disabled) {
    background-color: #2980b9;
}

.categorias-btn-submit:disabled {
    background-color: #95a5a6;
    cursor: not-allowed;
}

.categorias-btn-cancel {
    background-color: #95a5a6;
}

.categorias-btn-cancel:hover:not(:disabled) {
    background-color: #7f8c8d;
}

.categorias-btn-edit {
    background-color: #e67e22;
    padding: 8px 16px;
    font-size: 0.9rem;
}

.categorias-btn-edit:hover:not(:disabled) {
    background-color: #d35400;
}

.categorias-btn-edit:disabled {
    background-color: #bdc3c7;
    cursor: not-allowed;
}

.categorias-list-container {
    background-color: white;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    max-width: 800px;
}

.categorias-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    border: 1px solid #e0e0e0;
    border-radius: 5px;
    margin-bottom: 10px;
    background-color: #fafafa;
    transition: background-color 0.2s;
}

.categorias-item:hover {
    background-color: #f5f5f5;
}

.categorias-item-otros {
    background-color: #e8f5e9;
    border-color: #c8e6c9;
}

.categorias-item-info {
    display: flex;
    align-items: center;
    gap: 10px;
    flex: 1;
}

.categorias-item-nombre {
    font-weight: 500;
    color: #2c3e50;
    font-size: 1.1rem;
}

.categorias-item-badge {
    background-color: #4caf50;
    color: white;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: bold;
}

.categorias-item-actions {
    display: flex;
    gap: 10px;
    align-items: center;
}

.categorias-item-locked {
    color: #666;
    font-size: 0.9rem;
    font-style: italic;
}

.categorias-edit-input {
    padding: 8px;
    border: 1px solid #3498db;
    border-radius: 5px;
    font-size: 1rem;
    width: 200px;
}

.categorias-btn-icon {
    width: 32px;
    height: 32px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1.2rem;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s;
}

.categorias-btn-save {
    background-color: #27ae60;
    color: white;
}

.categorias-btn-save:hover:not(:disabled) {
    background-color: #229954;
}

.categorias-btn-save:disabled {
    background-color: #95a5a6;
    cursor: not-allowed;
}

.categorias-empty {
    text-align: center;
    padding: 40px;
    color: #666;
}

.categorias-info {
    margin-top: 20px;
    padding: 15px;
    background-color: #e3f2fd;
    border-left: 4px solid #2196f3;
    border-radius: 5px;
    color: #1565c0;
}

.categorias-info p {
    margin: 0;
    line-height: 1.6;
}

.categorias-loading {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 400px;
}

.categorias-loading-content {
    text-align: center;
}

.categorias-loading-title {
    font-size: 1.5rem;
    color: #2c3e50;
    margin-bottom: 10px;
}

.categorias-loading-text {
    color: #666;
}

.categorias-loading-categorias {
    background-color: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    text-align: center;
    color: #666;
}

.categorias-error {
    padding: 20px;
}

.categorias-error-title {
    margin-bottom: 30px;
    color: #2c3e50;
}

.categorias-error-container {
    background-color: white;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    max-width: 600px;
}

.categorias-error-alert {
    padding: 12px;
    background-color: #fee;
    color: #c33;
    border-radius: 5px;
    margin-bottom: 20px;
    border: 1px solid #fcc;
}

.categorias-error-actions {
    display: flex;
    gap: 10px;
}

.categorias-error-btn {
    padding: 12px 24px;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: bold;
    transition: background-color 0.3s;
}

.categorias-error-btn-primary {
    background-color: #3498db;
}

.categorias-error-btn-primary:hover {
    background-color: #2980b9;
}

.categorias-error-text {
    display: block;
    margin-top: 8px;
}

/* ============================================
   ðŸ“± RESPONSIVE â€“ CELULARES (â‰¤ 480px)
   ============================================ */
@media (max-width: 480px) {

    .categorias-container {
        padding: 15px;
    }

    .categorias-title {
        font-size: 1.5rem;
        text-align: center;
    }

    .categorias-subtitle {
        font-size: 1rem;
        text-align: center;
    }

    .categorias-form-container,
    .categorias-list-container {
        padding: 20px;
        max-width: 100%;
    }

    .categorias-form-actions {
        flex-direction: column;
    }

    .categorias-btn {
        width: 100%;
        padding: 12px;
        font-size: 1rem;
    }

    .categorias-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
    }

    .categorias-item-actions {
        width: 100%;
        justify-content: flex-end;
    }

    .categorias-edit-input {
        width: 100%;
    }

    .categorias-loading {
        min-height: 250px;
    }
}

/* ============================================
   ðŸ“±ðŸ“² RESPONSIVE â€“ TABLETS (481px â€“ 768px)
   ============================================ */
@media (max-width: 768px) {

    .categorias-container {
        padding: 20px;
    }

    .categorias-title {
        text-align: center;
        font-size: 1.8rem;
    }

    .categorias-subtitle {
        text-align: center;
        font-size: 1.1rem;
    }

    .categorias-form-container,
    .categorias-list-container {
        padding: 25px;
        max-width: 100%;
    }

    .categorias-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
    }

    .categorias-item-actions {
        width: 100%;
        justify-content: flex-end;
    }

    .categorias-btn {
        font-size: 1rem;
        padding: 10px 18px;
    }

    .categorias-edit-input {
        width: 100%;
    }
}

/* ============================================
   ðŸ’» RESPONSIVE â€“ LAPTOPS PEQUEÃ‘AS (â‰¤ 1024px)
   ============================================ */
@media (max-width: 1024px) {

    .categorias-form-container,
    .categorias-list-container {
        max-width: 90%;
        margin: 0 auto 30px auto;
    }

    .categorias-btn {
        font-size: 1rem;
    }
}
--- FILE: C:\Workspace\ecommerce-front\src\admin\styles\AdminConfiguracion.css ---
.configuracion-title {
    margin-bottom: 30px;
    color: #2c3e50;
}

.configuracion-form {
    background-color: white;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    max-width: 600px;
}

.configuracion-alert {
    padding: 12px;
    border-radius: 5px;
    margin-bottom: 20px;
}

.configuracion-alert.error {
    background-color: #fee;
    color: #c33;
    border: 1px solid #fcc;
}

.configuracion-alert.success {
    background-color: #efe;
    color: #3c3;
    border: 1px solid #cfc;
}

.configuracion-form-group {
    margin-bottom: 20px;
}

.configuracion-label {
    display: block;
    margin-bottom: 8px;
    font-weight: bold;
    color: #2c3e50;
}

.configuracion-label-flex {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
    font-weight: bold;
    color: #2c3e50;
}

.configuracion-label-warning {
    font-size: 0.85rem;
    color: #e67e22;
    font-weight: normal;
    font-style: italic;
}

.configuracion-input {
    width: 100%;
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
    box-sizing: border-box;
}

.configuracion-input:disabled {
    background-color: #f5f5f5;
}

.configuracion-textarea {
    width: 100%;
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
    box-sizing: border-box;
    font-family: inherit;
    resize: vertical;
}

.configuracion-help-text {
    color: #666;
    font-size: 0.9rem;
}

.configuracion-logo-preview {
    margin-bottom: 10px;
    text-align: center;
}

.configuracion-logo-preview img {
    max-width: 200px;
    max-height: 200px;
    border-radius: 5px;
    border: 1px solid #ddd;
}

.configuracion-file-input {
    width: 100%;
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
    box-sizing: border-box;
}

.configuracion-form-actions {
    display: flex;
    gap: 10px;
    margin-top: 30px;
}

.configuracion-btn {
    padding: 12px 24px;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: bold;
}

.configuracion-btn-submit {
    flex: 1;
    background-color: #3498db;
}

.configuracion-btn-submit:disabled {
    background-color: #95a5a6;
    cursor: not-allowed;
}

.configuracion-btn-cancel {
    background-color: #95a5a6;
}

.configuracion-btn-cancel:disabled {
    cursor: not-allowed;
}

.configuracion-loading {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 400px;
}

.configuracion-loading-content {
    text-align: center;
}

.configuracion-loading-title {
    font-size: 1.5rem;
    color: #2c3e50;
    margin-bottom: 10px;
}

.configuracion-loading-text {
    color: #666;
}

.configuracion-error-container {
    background-color: white;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    max-width: 600px;
}

.configuracion-error-alert {
    padding: 12px;
    background-color: #fee;
    color: #c33;
    border-radius: 5px;
    margin-bottom: 20px;
    border: 1px solid #fcc;
}

.configuracion-error-actions {
    display: flex;
    gap: 10px;
}

.configuracion-error-btn {
    padding: 12px 24px;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: bold;
}

.configuracion-error-btn-primary {
    background-color: #3498db;
}

.configuracion-error-btn-secondary {
    background-color: #95a5a6;
}

.configuracion-error-title {
    margin-bottom: 30px;
    color: #2c3e50;
}

.configuracion-error-text {
    display: block;
    margin-top: 8px;
}


@media (max-width: 480px) {

    .configuracion-title {
        font-size: 1.4rem;
        text-align: center;
    }

    .configuracion-form {
        padding: 18px;
        max-width: 100%;
    }

    .configuracion-form-group {
        margin-bottom: 15px;
    }

    .configuracion-label,
    .configuracion-label-flex {
        font-size: 0.95rem;
    }

    .configuracion-input,
    .configuracion-textarea,
    .configuracion-file-input {
        font-size: 0.95rem;
        padding: 10px;
    }

    .configuracion-logo-preview img {
        max-width: 150px;
        max-height: 150px;
    }

    /* BOTONES 100% */
    .configuracion-form-actions {
        flex-direction: column;
        gap: 12px;
    }

    .configuracion-btn {
        width: 100%;
        padding: 12px;
        font-size: 1rem;
        text-align: center;
    }

    /* Reducir padding del contenedor de errores */
    .configuracion-error-container {
        padding: 20px;
        max-width: 100%;
    }

    .configuracion-error-actions {
        flex-direction: column;
        gap: 12px;
    }

}
/* ============================================
   ðŸ“±ðŸ“² RESPONSIVE â€“ TABLETS (481px â€“ 768px)
   ============================================ */
@media (max-width: 768px) {

    .configuracion-title {
        font-size: 1.6rem;
        text-align: center;
    }

    .configuracion-form {
        padding: 22px;
        max-width: 100%;
    }

    .configuracion-form-actions {
        flex-direction: column;
        gap: 15px;
    }

    .configuracion-btn {
        width: 100%;
        padding: 14px;
        font-size: 1.05rem;
    }

    .configuracion-input,
    .configuracion-textarea,
    .configuracion-file-input {
        font-size: 1rem;
    }

    .configuracion-logo-preview img {
        max-width: 180px;
    }

    .configuracion-error-container {
        padding: 25px;
        max-width: 100%;
    }

    .configuracion-error-actions {
        flex-direction: column;
        gap: 12px;
    }

    .configuracion-error-btn {
        width: 100%;
    }
}



/* ============================================
   ðŸ’» LAPTOPS PEQUEÃ‘AS (â‰¤ 1024px)
   ============================================ */
@media (max-width: 1024px) {

    .configuracion-form {
        max-width: 90%;
        margin: 0 auto;
    }

    .configuracion-error-container {
        max-width: 90%;
        margin: 0 auto;
    }
}
--- FILE: C:\Workspace\ecommerce-front\src\admin\styles\AdminDashboard.css ---
.dashboard-header {
    /* border: 1px solid blue; */
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 30px;
    margin-bottom: 20px;
}
.dashboard-title {
    /* border: 1px solid red; */
    margin: 0;
    color: #2c3e50;

}

.dashboard-verification-badge {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 15px;
    border-radius: 5px;
    width: 200px;
}

.dashboard-verification-badge.verified {
    background-color: #d4edda;
    border: 1px solid #c3e6cb;
}

.dashboard-verification-badge.unverified {
    background-color: #f8d7da;
    border: 1px solid #f5c6cb;
}

.dashboard-verification-badge.unknown {
    background-color: #fff3cd;
    border: 1px solid #ffeaa7;
}

.dashboard-verification-icon {
    font-size: 1.2rem;
}

.dashboard-verification-icon.verified {
    color: #155724;
}

.dashboard-verification-icon.unverified {
    color: #721c24;
}

.dashboard-verification-icon.unknown {
    color: #856404;
}


.dashboard-verification-text {
    font-weight: 500;
}

.dashboard-verification-text.verified {
    color: #155724;
}

.dashboard-verification-text.unverified {
    color: #721c24;
}

.dashboard-verification-text.unknown {
    color: #856404;
}

.dashboard-tienda-card {
    background-color: white;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    margin-bottom: 30px;
}

.dashboard-tienda-card h3 {
    margin-top: 0;
}

.dashboard-stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
}

.dashboard-stat-card {
    background-color: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.dashboard-stat-card h4 {
    margin-top: 0;
}

.dashboard-stat-card.products h4 {
    color: #3498db;
}

.dashboard-stat-card.orders h4 {
    color: #2ecc71;
}

.dashboard-stat-card.sales h4 {
    color: #f39c12;
}

.dashboard-stat-value {
    font-size: 2rem;
    margin: 10px 0;
    font-weight: bold;
}

.dashboard-stat-label {
    color: #666;
}

.dashboard-empty {
    background-color: white;
    padding: 40px;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    text-align: center;
}

.dashboard-empty h3 {
    color: #2c3e50;
}

.dashboard-empty p {
    color: #666;
    margin-bottom: 30px;
}

.dashboard-empty-actions {
    display: flex;
    gap: 15px;
    justify-content: center;
    flex-wrap: wrap;
}

.dashboard-btn {
    padding: 12px 24px;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: bold;
}

.dashboard-btn-primary {
    background-color: #2ecc71;
}

.dashboard-btn-secondary {
    background-color: #3498db;
}

.dashboard-btn-gray {
    background-color: #95a5a6;
}

.dashboard-btn:disabled {
    background-color: #95a5a6;
    cursor: not-allowed;
}

.dashboard-form-container {
    max-width: 400px;
    margin: 0 auto;
}

.dashboard-form-input {
    width: 100%;
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
    margin-bottom: 20px;
    box-sizing: border-box;
}

.dashboard-form-actions {
    display: flex;
    gap: 15px;
    justify-content: center;
}

.dashboard-loading {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 200px;
    font-size: 1.2rem;
    color: #2c3e50;
}

/* ============================================
   ðŸ“± MOBILE (â‰¤ 480px)
   ============================================ */
@media (max-width: 480px) {

    .dashboard-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
        text-align: left;
    }

    .dashboard-title {
        font-size: 1.4rem;
    }

    .dashboard-verification-badge {
        width: 100%;
        justify-content: center;
        padding: 8px 10px;
        font-size: 0.9rem;
    }

    .dashboard-tienda-card {
        padding: 20px;
    }

    .dashboard-stats-grid {
        grid-template-columns: 1fr; /* UNA COLUMNA */
        gap: 15px;
    }

    .dashboard-stat-card {
        padding: 15px;
    }

    .dashboard-stat-value {
        font-size: 1.6rem;
    }

    .dashboard-empty {
        padding: 25px;
    }

    .dashboard-empty-actions {
        flex-direction: column;
        gap: 10px;
    }

    .dashboard-btn {
        width: 100%;
        padding: 12px;
    }

    .dashboard-form-container {
        max-width: 100%;
        padding: 0 10px;
    }

    .dashboard-form-actions {
        flex-direction: column;
        gap: 10px;
    }
}
/* ============================================
   ðŸ“±ðŸ“² RESPONSIVE â€“ TABLETS (481px â€“ 768px)
   ============================================ */  /* ============================================
   ðŸ“±ðŸ“² TABLETS (481px â€“ 768px)
   ============================================ */
@media (max-width: 768px) {

    .dashboard-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
    }

    .dashboard-title {
        font-size: 1.6rem;
    }

    .dashboard-verification-badge {
        padding: 10px 12px;
        font-size: 1rem;
    }

    .dashboard-stats-grid {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 18px;
    }

    .dashboard-stat-card {
        padding: 18px;
    }

    .dashboard-stat-value {
        font-size: 1.8rem;
    }

    .dashboard-empty-actions {
        flex-wrap: wrap;
        gap: 12px;
    }

    .dashboard-btn {
        padding: 12px 18px;
        font-size: 1rem;
    }

    .dashboard-form-container {
        max-width: 90%;
    }

    .dashboard-form-actions {
        flex-direction: column;
        gap: 12px;
    }
}
/* ============================================
   ðŸ’» LAPTOPS PEQUEÃ‘AS (â‰¤ 1024px)
   ============================================ */
@media (max-width: 1024px) {

    .dashboard-tienda-card {
        padding: 25px;
    }

    .dashboard-stats-grid {
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 20px;
    }

    .dashboard-form-container {
        max-width: 80%;
    }
}
--- FILE: C:\Workspace\ecommerce-front\src\admin\styles\AdminEditarProductos.css ---
.editar-productos-container {
    padding: 20px;
}

.editar-productos-title {
    margin-bottom: 30px;
    color: #2c3e50;
}

.editar-productos-filtros {
    background-color: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    margin-bottom: 30px;
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
}

.editar-productos-filtro-grupo {
    flex: 1;
    min-width: 200px;
}

.editar-productos-label {
    display: block;
    margin-bottom: 8px;
    font-weight: bold;
    color: #2c3e50;
    font-size: 0.9rem;
}

.editar-productos-select,
.editar-productos-input-busqueda {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
    box-sizing: border-box;
}

.editar-productos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 20px;
}

.editar-productos-card {
    background-color: white;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
}

.editar-productos-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.editar-productos-card-imagen {
    width: 100%;
    height: 200px;
    overflow: hidden;
    background-color: #f5f5f5;
}

.editar-productos-card-imagen img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.editar-productos-card-info {
    padding: 15px;
}

.editar-productos-card-nombre {
    margin: 0 0 10px 0;
    font-size: 1rem;
    color: #2c3e50;
    font-weight: 500;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.editar-productos-card-precio {
    margin: 0;
    font-size: 1.2rem;
    color: #27ae60;
    font-weight: bold;
}

.editar-productos-loading,
.editar-productos-loading-productos {
    text-align: center;
    padding: 40px;
    color: #666;
}

.editar-productos-vacio {
    text-align: center;
    padding: 40px;
    color: #666;
    background-color: white;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.editar-productos-error {
    padding: 20px;
    background-color: white;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Modal */
.editar-productos-modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10000;
    padding: 20px;
}

.editar-productos-modal {
    background-color: white;
    border-radius: 10px;
    max-width: 600px;
    width: 100%;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.editar-productos-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid #e0e0e0;
}

.editar-productos-modal-header h3 {
    margin: 0;
    color: #2c3e50;
}

.editar-productos-modal-cerrar {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #666;
    padding: 0;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 5px;
    transition: background-color 0.2s;
}

.editar-productos-modal-cerrar:hover {
    background-color: #f5f5f5;
}

.editar-productos-modal-content {
    padding: 20px;
}

.editar-productos-detalle-imagen {
    text-align: center;
    margin-bottom: 20px;
}

.editar-productos-detalle-imagen img {
    max-width: 200px;
    max-height: 200px;
    border-radius: 5px;
    border: 1px solid #ddd;
    object-fit: contain;
}

.editar-productos-detalle-info {
    line-height: 1.8;
}

.editar-productos-detalle-info p {
    margin: 10px 0;
    color: #2c3e50;
}

.editar-productos-form-group {
    margin-bottom: 20px;
}

.editar-productos-form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
}

.editar-productos-input,
.editar-productos-textarea,
.editar-productos-select {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
    box-sizing: border-box;
    font-family: inherit;
}

.editar-productos-textarea {
    resize: vertical;
    min-height: 80px;
}

.editar-productos-imagen-preview {
    margin-bottom: 10px;
    text-align: center;
}

.editar-productos-imagen-preview img {
    max-width: 150px;
    max-height: 150px;
    border-radius: 5px;
    border: 1px solid #ddd;
    object-fit: contain;
}

.editar-productos-file-input {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
    box-sizing: border-box;
    cursor: pointer;
}

.editar-productos-help-text {
    display: block;
    color: #666;
    font-size: 0.85rem;
    margin-top: 5px;
}

.editar-productos-modal-footer {
    padding: 20px;
    border-top: 1px solid #e0e0e0;
    display: flex;
    gap: 10px;
    justify-content: flex-end;
}

.editar-productos-btn {
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: bold;
    transition: background-color 0.3s;
}

.editar-productos-btn-guardar {
    background-color: #27ae60;
    color: white;
}

.editar-productos-btn-guardar:hover:not(:disabled) {
    background-color: #229954;
}

.editar-productos-btn-guardar:disabled {
    background-color: #95a5a6;
    cursor: not-allowed;
}

.editar-productos-btn-cancelar {
    background-color: #95a5a6;
    color: white;
}

.editar-productos-btn-cancelar:hover:not(:disabled) {
    background-color: #7f8c8d;
}

.editar-productos-btn-editar {
    background-color: #3498db;
    color: white;
}

.editar-productos-btn-editar:hover {
    background-color: #2980b9;
}

.editar-productos-btn-eliminar {
    background-color: #e74c3c;
    color: white;
}

.editar-productos-btn-eliminar:hover:not(:disabled) {
    background-color: #c0392b;
}

.editar-productos-btn-eliminar:disabled {
    background-color: #95a5a6;
    cursor: not-allowed;
}

/* ============================================
   ðŸ“± MOBILE (â‰¤ 480px)
   ============================================ */
@media (max-width: 480px) {

    .editar-productos-container {
        padding: 15px;
    }

    .editar-productos-title {
        font-size: 1.3rem;
        margin-bottom: 20px;
    }

    .editar-productos-filtros {
        flex-direction: column;
        gap: 15px;
        padding: 15px;
    }

    .editar-productos-filtro-grupo {
        min-width: 100%;
    }

    .editar-productos-grid {
        grid-template-columns: 1fr;
        gap: 15px;
    }

    .editar-productos-card-imagen {
        height: 160px;
    }

    .editar-productos-card-nombre {
        font-size: 0.9rem;
        word-break: break-word;
    }

    .editar-productos-card-precio {
        font-size: 1.1rem;
    }

    /* MODAL */
    .editar-productos-modal {
        max-width: 100%;
        padding: 0;
    }

    .editar-productos-modal-header {
        padding: 15px;
    }

    .editar-productos-modal-content {
        padding: 15px;
    }

    .editar-productos-form-row {
        grid-template-columns: 1fr; 
        gap: 10px;
    }

    .editar-productos-detalle-imagen img {
        max-width: 150px;
        max-height: 150px;
    }

    .editar-productos-modal-footer {
        flex-direction: column;
        gap: 10px;
    }

    .editar-productos-btn {
        width: 100%;
        padding: 12px;
        font-size: 1rem;
        text-align: center;
        word-break: break-word;
    }
    }

/* ============================================
   ðŸ“² TABLETS (481px â€“ 768px)
   ============================================ */
@media (max-width: 768px) {

    .editar-productos-container {
        padding: 20px;
    }

    .editar-productos-filtros {
        flex-wrap: wrap;
        gap: 18px;
    }

    .editar-productos-filtro-grupo {
        min-width: 45%;
    }

    .editar-productos-grid {
        grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
        gap: 18px;
    }

    .editar-productos-card-imagen {
        height: 180px;
    }

    .editar-productos-form-row {
        grid-template-columns: 1fr;
    }

    .editar-productos-modal-footer {
        flex-wrap: wrap;
        justify-content: center;
    }

    .editar-productos-btn {
        padding: 12px 18px;
    }
    }


/* ============================================
   ðŸ’» LAPTOP (â‰¤ 1024px)
   ============================================ */
@media (max-width: 1024px) {

    .editar-productos-filtros {
        gap: 20px;
    }

    .editar-productos-filtro-grupo {
        min-width: 220px;
    }

    .editar-productos-grid {
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    }

    .editar-productos-modal {
        max-width: 80%;
    }
}
--- FILE: C:\Workspace\ecommerce-front\src\admin\styles\AdminLayout.css ---
.admin-layout {
    display: flex;
    min-height: 100vh;
    background-color: #f5f5f5;
    /*overflow: hidden;*/
    overflow-x: hidden;
    overflow-y: auto;

}

.admin-sidebar {
    background-color: #2c3e50;
    color: white;
    width: 250px;
    height: 100vh;
    position: fixed;
    left: 0;
    top: 0;
    display: flex;
    flex-direction: column;
    padding: 20px 0;
    overflow-y: auto;
    z-index: 1000;
}

.admin-sidebar-header {
    padding: 0 20px;
    margin-bottom: 30px;
}

.admin-sidebar-title {
    font-size: 24px;
    font-weight: bold;
    margin: 0;
    padding: 10px 0 20px;
}

.admin-sidebar-user {
    margin-top: 10px;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 5px;
    opacity: 0.9;
}

.admin-sidebar-user-icon {
    font-size: 1.2rem;
}

.admin-sidebar-user-icon.verified {
    color: #2ecc71;
}

.admin-sidebar-user-icon.unverified {
    color: #e74c3c;
}

.admin-sidebar-nav {
    flex: 1;
}

.admin-sidebar-link:hover {
    background: var(--bg-overlay);
    transition: var(--transition-normal);
}

.admin-sidebar-link {
    display: block;
    padding: 12px 10px;
    color: white;
    text-decoration: none;
    border-left: 3px solid transparent;
}

.admin-sidebar-footer {
    padding: 10px 20px 0px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.admin-sidebar-footer-user {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.admin-sidebar-footer-user-info {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.9rem;
}

.admin-sidebar-footer-user-name {
    color: white;
    opacity: 0.9;
}

.admin-sidebar-footer-user-icon {
    font-size: 1.2rem;
    font-weight: bold;
}

.admin-sidebar-footer-user-icon.verified {
    color: #2ecc71;
}

.admin-sidebar-footer-user-icon.unverified {
    color: #e74c3c;
}

.admin-sidebar-footer-logout {
    width: 100%;
    padding: 10px;
    background-color: #e74c3c;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: bold;
    transition: background-color 0.2s;
}

.admin-sidebar-footer-logout:hover {
    background-color: #c0392b;
}

.btn-landing-link {
    padding: 10px;
    background: var(--blue-600);
    color: white;
    font-weight: var(--font-weight-bold);
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1rem;
}

.btn-landing-link:hover {
    background: var(--blue-700);
    transition: var(--transition-normal);
}
.admin-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    margin-left: 250px;
    min-height: 100vh;
    overflow: hidden;
}

.admin-header {
    background-color: white;
    padding: 15px 30px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.admin-header-title {
    margin: 0;
    font-size: 1.5rem;
    color: #2c3e50;
}

.btn-tienda-link {
    padding: 5px 10px;
    background-color: var(--green-650);
    color: white;
    border: var(--green-650) 3px solid;
    border-radius: 5px;
    cursor: pointer;
    font-weight: var(--font-weight-bold);
}

.btn-tienda-link:hover {
    background-color: var(--white);
    border: var(--green-650) 3px solid;
    color: var(--green-650);
    transition: var(--transition-normal);
    font-weight: var(--font-weight-bold);
}

.admin-header-user {
    display: flex;
    align-items: center;
    gap: 20px;
}

.admin-header-user-info {
    display: flex;
    align-items: center;
    gap: 8px;
}

.admin-header-user-name {
    color: #666;
}

.admin-header-user-badge {
    font-size: 1.2rem;
    font-weight: bold;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    border-radius: 50%;
}

.admin-header-user-badge.verified {
    color: #2ecc71;
    background-color: #d4edda;
    border: 2px solid #2ecc71;
}

.admin-header-user-badge.unverified {
    color: #e74c3c;
    background-color: #f8d7da;
    border: 2px solid #e74c3c;
}

.admin-header-logout {
    padding: 8px 16px;
    background-color: #e74c3c;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

.admin-main {
    flex: 1;
    padding: 30px;
    overflow-y: auto;
    overflow-x: hidden;
}

.admin-sidebar-submenu {
    display: flex;
    flex-direction: column;
}

.admin-sidebar-submenu-title {
    padding: 12px 10px;
    color: white;
    font-weight: bold;
    font-size: 1rem;
    border-left: 3px solid transparent;
    user-select: none;
    transition: background-color 0.2s;
}

.admin-sidebar-submenu-title:hover {
    background: rgba(255, 255, 255, 0.1);
}

.admin-sidebar-submenu-items {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
    opacity: 0;
}

.admin-sidebar-submenu-items.open {
    max-height: 200px;
    opacity: 1;
    transition: max-height 0.3s ease-in, opacity 0.3s ease-in;
}

.admin-sidebar-submenu-items.closed {
    max-height: 0;
    opacity: 0;
}

.admin-sidebar-sublink {
    padding: 10px 10px 10px 25px;
    font-size: 0.9rem;
    opacity: 0.9;
    display: block;
}

.admin-sidebar-sublink:hover {
    background: rgba(255, 255, 255, 0.1);
    opacity: 1;
}

/* =========================================================
ðŸ“± RESPONSIVE 768px â€” Tablets / iPad / MÃ³viles grandes
   ========================================================= */
@media (max-width: 768px) {

    /* Sidebar mÃ¡s angosta pero visible SIEMPRE */
    .admin-sidebar {
        width: 120px;
        padding: 10px 5px;
        transform: none !important;
    }

    .admin-sidebar-title {
        font-size: 14px;
        /*line-height: 20px;*/
        /*word-break: break-word;
        white-space: normal;*/
        text-align: left;
    }

    /* Reducir texto dentro del menÃº */
    .admin-sidebar span,
    .admin-sidebar a {
        font-size: 0.78rem;
    }

    /* El contenido corre a la derecha de la sidebar */
    .admin-content {
        margin-left: 120px !important;
        width: calc(100% - 120px) !important;
    }

    /* Header fijo y alineado */
    .admin-header {
        position: fixed;
        top: 0;
        left: 120px !important;
        width: calc(100% - 120px) !important;
        padding: 12px;
        z-index: 999;
    }

    .admin-main {
        margin-top: 70px !important;
        padding: 15px !important;
    }

    /* Formularios FULL WIDTH */
    .admin-form-container,
    form {
        width: 100% !important;
    }

    .admin-form-container input,
    .admin-form-container select,
    .admin-form-container textarea {
        width: 100% !important;
    }

    /* Botones en columna */
    .form-actions,
    .product-buttons,
    .categorias-form-actions {
        display: flex;
        flex-direction: column;
        width: 100%;
        gap: 12px;
    }

    .form-actions button,
    .product-buttons button,
    .categorias-btn,
    .categorias-btn-save,
    .categorias-btn-edit {
        white-space: normal !important;       /* Permitir salto de lÃ­nea */
        overflow-wrap: break-word !important; /* Partir palabras si es necesario */
        word-break: break-word !important;    /* Evitar overflow */
        line-height: 1.2 !important;
        text-align: center !important;
        /*display: block;*/
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
    }
}


/* =========================================================
ðŸ“±ðŸ“± RESPONSIVE MOBILE â€” 480px y menos (iPhone SE / Android)
   ========================================================= */
@media (max-width: 480px) {

    .btn-tienda-link {
        font-size: 0.8rem;
        text-align: center;
    }

    .btn-landing-link {
        font-size: 0.6rem;
        padding: 5px 10px;
        width: 60px;
    }
    
    .admin-sidebar-footer-logout {
        font-size: 0.6rem;
        padding: 5px 10px;
        width: 60px;
    }

    /* Sidebar aÃºn mÃ¡s angosta y todo mÃ¡s pequeÃ±o */
    .admin-sidebar {
        width: 100px !important;
        padding: 6px 6px;
        
    }

    .admin-sidebar-title {
        font-size: 14px;        
        /*line-height: 18px;*/
        word-break: break-word;
        
    }

    .admin-sidebar span,
    .admin-sidebar a {
        font-size: 0.75rem;
    }

    .admin-content {
        margin-left: 100px; 
        width: calc(100% - 100px); 
    }

    .admin-header {
        left: 100px !important;
        width: calc(100% - 100px) !important;
        /*padding: 10px;*/
    }

    .admin-main {
        margin-top: 65px !important;
        /*padding: 12px !important;*/
    }

    /* Formularios ajustados */
    .admin-form-container input,
    .admin-form-container select,
    .admin-form-container textarea {
        font-size: 0.80rem !important;
    }

    /* Botones mÃ¡s compactos 
    .form-actions button,
    .product-buttons button {
        font-size: 0.9rem;
        padding: 10px;
    }*/

    .form-actions button,
    .product-buttons button,
    .categorias-btn,
    .categorias-btn-save,
    .categorias-btn-edit {
        font-size: 0.5rem !important; /* Letra pequeÃ±a */
        padding: 4px 2px !important;  /* Menos relleno */
        line-height: 1.1 !important;
        /*display: fit-content !important;*/
        align-items: center;
        justify-content: center;
        text-align: center;
        min-height: auto;
        word-wrap: break-word; /* Permitir salto de lÃ­nea controlado */
        white-space: normal !important;
    }

    .productos-form-actions{

        flex-direction: column;
    }
}
--- FILE: C:\Workspace\ecommerce-front\src\admin\styles\AdminPedidos.css ---
/* --- Estilos para AdminPedidos.jsx --- */

.pedidos-container {
    padding: 20px;
}

.pedidos-title {
    margin-bottom: 30px;
    color: var(--text-gray-1); /* Color principal del tÃ­tulo */
    font-size: 1.8rem;
}

.pedidos-loading,
.pedidos-error {
    text-align: center;
    padding: 40px;
    background-color: var(--white);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-sm);
    margin-bottom: 20px;
}

.pedidos-loading p,
.pedidos-error p {
    color: var(--text-gray-3);
}

/* Filtros */
.pedidos-filtros {
    background-color: var(--white);
    padding: 20px;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-sm);
    margin-bottom: 20px;
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
    align-items: flex-end;
}

.pedidos-filtro-grupo {
    display: flex;
    flex-direction: column;
    min-width: 200px;
    flex: 1;
}

.pedidos-label {
    display: block;
    margin-bottom: 8px;
    font-weight: var(--font-weight-bold);
    color: var(--text-gray-2);
    font-size: 0.9rem;
}

.pedidos-select,
.pedidos-input-busqueda {
    padding: 10px;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    font-size: 1rem;
    box-sizing: border-box;
    width: 100%;
    cursor: pointer;
}

/* Listado y Tabla */
.pedidos-list-container {
    background-color: var(--white);
    padding: 20px;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-sm);
    overflow-x: auto; /* Permite scroll horizontal en mÃ³viles */
}

.pedidos-table {
    width: 100%;
    border-collapse: collapse;
    min-width: 800px; /* Asegura que no se comprima demasiado */
}

.pedidos-table th, .pedidos-table td {
    padding: 12px 15px;
    text-align: left;
    border-bottom: 1px solid var(--gray-200);
    vertical-align: middle;
}

.pedidos-table th {
    background-color: var(--gray-50);
    color: var(--text-gray-1);
    font-weight: var(--font-weight-semibold);
    font-size: 0.9rem;
}

.pedidos-table tr:hover {
    background-color: var(--gray-50);
}

/* Colores de estado */
.estado-PAGADO {
    color: var(--green-700);
    background-color: var(--green-100);
    padding: 4px 8px;
    border-radius: var(--border-radius-sm);
    font-weight: var(--font-weight-bold);
    font-size: 0.8rem;
}

.estado-PENDIENTE {
    color: var(--orange-700);
    background-color: var(--orange-100);
    padding: 4px 8px;
    border-radius: var(--border-radius-sm);
    font-weight: var(--font-weight-bold);
    font-size: 0.8rem;
}

.estado-EN_PREPARACION {
    color: var(--blue-700);
    background-color: var(--blue-100);
    padding: 4px 8px;
    border-radius: var(--border-radius-sm);
    font-weight: var(--font-weight-bold);
    font-size: 0.8rem;
}

.estado-EN_CAMINO {
    color: var(--cyan-700);
    background-color: var(--cyan-100);
    padding: 4px 8px;
    border-radius: var(--border-radius-sm);
    font-weight: var(--font-weight-bold);
    font-size: 0.8rem;
}

.estado-ENTREGADO {
    color: var(--violet-700);
    background-color: var(--violet-100);
    padding: 4px 8px;
    border-radius: var(--border-radius-sm);
    font-weight: var(--font-weight-bold);
    font-size: 0.8rem;
}

.estado-CANCELADO {
    color: var(--red-700);
    background-color: var(--red-100);
    padding: 4px 8px;
    border-radius: var(--border-radius-sm);
    font-weight: var(--font-weight-bold);
    font-size: 0.8rem;
}

/* Botones de acciÃ³n */
.pedidos-btn {
    padding: 8px 16px;
    border: none;
    border-radius: var(--border-radius);
    cursor: pointer;
    font-weight: var(--font-weight-semibold);
    font-size: 0.9rem;
    transition: background-color 0.2s;
}

.pedidos-btn-detalle {
    background-color: var(--blue-500);
    color: var(--white);
}

.pedidos-btn-detalle:hover {
    background-color: var(--blue-700);
}

.pedidos-btn-update {
    background-color: var(--green-500);
    color: var(--white);
}

.pedidos-btn-update:hover {
    background-color: var(--green-700);
}

.pedidos-btn-cancelar {
    background-color: var(--gray-400);
    color: var(--white);
}
.pedidos-btn-cancelar:hover {
    background-color: var(--gray-600);
}

/* Modal */
.pedidos-modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.6);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: var(--z-modal);
    padding: 20px;
}

.pedidos-modal {
    background-color: var(--white);
    border-radius: var(--border-radius-lg);
    max-width: 600px;
    width: 100%;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: var(--shadow-2xl);
}

.pedidos-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid var(--border-color);
}

.pedidos-modal-header h3 {
    margin: 0;
    color: var(--text-gray-1);
    font-size: 1.3rem;
}

.pedidos-modal-cerrar {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: var(--text-gray-4);
    transition: color 0.2s;
}

.pedidos-modal-cerrar:hover {
    color: var(--text-gray-1);
}

.pedidos-modal-content {
    padding: 20px;
}

.pedidos-detalle-group {
    margin-bottom: 15px;
    padding: 10px;
    border-left: 3px solid var(--blue-300);
    background-color: var(--blue-50);
    border-radius: 4px;
}

.pedidos-detalle-items {
    margin-top: 15px;
}

.pedidos-item-card {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 10px 0;
    border-bottom: 1px dashed var(--gray-200);
}

.pedidos-item-card:last-child {
    border-bottom: none;
}

.pedidos-item-info {
    flex: 1;
}

.pedidos-item-nombre {
    font-weight: var(--font-weight-semibold);
    color: var(--text-gray-2);
}

.pedidos-item-precio {
    font-size: 0.9rem;
    color: var(--text-gray-5);
}

.pedidos-total {
    text-align: right;
    font-size: 1.5rem;
    font-weight: var(--font-weight-bold);
    color: var(--green-650);
    margin-top: 20px;
    padding-top: 10px;
    border-top: 1px solid var(--border-color);
}

.pedidos-modal-footer {
    padding: 20px;
    border-top: 1px solid var(--border-color);
    display: flex;
    justify-content: flex-end;
    gap: 10px;
}

/* Responsive Table */
@media (max-width: 800px) {
    .pedidos-table {
        min-width: 600px; /* Mantiene la tabla visible */
    }
}
@media (max-width: 600px) {
    .pedidos-filtros {
        flex-direction: column;
    }
}

/* ============================================
   ðŸ“± RESPONSIVE â€“ CELULARES (â‰¤ 480px)
   ============================================ */
@media (max-width: 480px) {

    .categorias-container {
        padding: 15px;
    }

    .categorias-title {
        font-size: 1.5rem;
        text-align: center;
    }

    .categorias-subtitle {
        font-size: 1rem;
        text-align: center;
    }

    .categorias-form-container,
    .categorias-list-container {
        padding: 20px;
        max-width: 100%;
    }

    .categorias-form-actions {
        flex-direction: column;
    }

    .categorias-btn {
        width: 100%;
        padding: 12px;
        font-size: 1rem;
    }

    .categorias-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
    }

    .categorias-item-actions {
        width: 100%;
        justify-content: flex-end;
    }

    .categorias-edit-input {
        width: 100%;
    }

    .categorias-loading {
        min-height: 250px;
    }
}

/* ============================================
   ðŸ“±ðŸ“² RESPONSIVE â€“ TABLETS (481px â€“ 768px)
   ============================================ */
@media (max-width: 768px) {

    .categorias-container {
        padding: 20px;
    }

    .categorias-title {
        text-align: center;
        font-size: 1.8rem;
    }

    .categorias-subtitle {
        text-align: center;
        font-size: 1.1rem;
    }

    .categorias-form-container,
    .categorias-list-container {
        padding: 25px;
        max-width: 100%;
    }

    .categorias-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
    }

    .categorias-item-actions {
        width: 100%;
        justify-content: flex-end;
    }

    .categorias-btn {
        font-size: 1rem;
        padding: 10px 18px;
    }

    .categorias-edit-input {
        width: 100%;
    }
}

/* ============================================
   ðŸ’» RESPONSIVE â€“ LAPTOPS PEQUEÃ‘AS (â‰¤ 1024px)
   ============================================ */
@media (max-width: 1024px) {

    .categorias-form-container,
    .categorias-list-container {
        max-width: 90%;
        margin: 0 auto 30px auto;
    }

    .categorias-btn {
        font-size: 1rem;
    }
}
--- FILE: C:\Workspace\ecommerce-front\src\admin\styles\AdminProductos.css ---
.productos-container {
    padding: 20px;
}

.productos-title {
    margin-bottom: 30px;
    color: #2c3e50;
}

.productos-form {
    background-color: white;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    max-width: 700px;
}

.productos-alert {
    padding: 15px;
    border-radius: 5px;
    margin-bottom: 20px;
}

.productos-alert-warning {
    background-color: #fff3cd;
    color: #856404;
    border: 1px solid #ffeaa7;
}

.productos-alert-warning p {
    margin: 10px 0;
}

.productos-form-group {
    margin-bottom: 20px;
}

.productos-form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

@media (max-width: 768px) {
    .productos-form-row {
        grid-template-columns: 1fr;
    }
}

.productos-label {
    display: block;
    margin-bottom: 8px;
    font-weight: bold;
    color: #2c3e50;
}

.productos-input,
.productos-textarea,
.productos-select {
    width: 100%;
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
    box-sizing: border-box;
    font-family: inherit;
}

.productos-input:disabled,
.productos-textarea:disabled,
.productos-select:disabled {
    background-color: #f5f5f5;
    cursor: not-allowed;
}

.productos-textarea {
    resize: vertical;
    min-height: 100px;
}

.productos-select {
    cursor: pointer;
}

.productos-help-text {
    display: block;
    color: #666;
    font-size: 0.9rem;
    margin-top: 5px;
}

.productos-imagen-preview {
    margin-bottom: 10px;
    text-align: center;
}

.productos-imagen-preview img {
    max-width: 300px;
    max-height: 300px;
    border-radius: 5px;
    border: 1px solid #ddd;
    object-fit: contain;
}

.productos-file-input {
    width: 100%;
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
    box-sizing: border-box;
    cursor: pointer;
}

.productos-file-input:disabled {
    background-color: #f5f5f5;
    cursor: not-allowed;
}

.productos-form-actions {
    display: flex;
    gap: 10px;
    margin-top: 30px;
}

.productos-btn {
    padding: 12px 24px;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: bold;
    transition: background-color 0.3s;
}

.productos-btn-submit {
    flex: 1;
    background-color: #3498db;
}

.productos-btn-submit:hover:not(:disabled) {
    background-color: #2980b9;
}

.productos-btn-submit:disabled {
    background-color: #95a5a6;
    cursor: not-allowed;
}

.productos-btn-cancel {
    background-color: #95a5a6;
}

.productos-btn-cancel:hover:not(:disabled) {
    background-color: #7f8c8d;
}

.productos-btn-cancel:disabled {
    cursor: not-allowed;
}

.productos-btn-secondary {
    background-color: #e67e22;
    margin-top: 10px;
}

.productos-btn-secondary:hover:not(:disabled) {
    background-color: #d35400;
}

.productos-loading {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 400px;
}

.productos-loading-content {
    text-align: center;
}

.productos-loading-title {
    font-size: 1.5rem;
    color: #2c3e50;
    margin-bottom: 10px;
}

.productos-loading-text {
    color: #666;
}

.productos-loading-categorias {
    background-color: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    text-align: center;
    color: #666;
}

.productos-error {
    padding: 20px;
}

.productos-error-title {
    margin-bottom: 30px;
    color: #2c3e50;
}

.productos-error-container {
    background-color: white;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    max-width: 600px;
}

.productos-error-alert {
    padding: 12px;
    background-color: #fee;
    color: #c33;
    border-radius: 5px;
    margin-bottom: 20px;
    border: 1px solid #fcc;
}

.productos-error-actions {
    display: flex;
    gap: 10px;
}

.productos-error-btn {
    padding: 12px 24px;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: bold;
    transition: background-color 0.3s;
}

.productos-error-btn-primary {
    background-color: #3498db;
}

.productos-error-btn-primary:hover {
    background-color: #2980b9;
}

.productos-error-text {
    display: block;
    margin-top: 8px;
}

/* ============================================
   ðŸ“± RESPONSIVE â€“ CELULARES (â‰¤ 480px)
   ============================================ */
@media (max-width: 480px) {

    .categorias-container {
        padding: 15px;
    }

    .categorias-title {
        font-size: 1.5rem;
        text-align: center;
    }

    .categorias-subtitle {
        font-size: 1rem;
        text-align: center;
    }

    .categorias-form-container,
    .categorias-list-container {
        padding: 20px;
        max-width: 100%;
    }

    .categorias-form-actions {
        flex-direction: column;
    }

    .categorias-btn {
        width: 100%;
        padding: 12px;
        font-size: 1rem;
    }

    .categorias-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
    }

    .categorias-item-actions {
        width: 100%;
        justify-content: flex-end;
    }

    .categorias-edit-input {
        width: 100%;
    }

    .categorias-loading {
        min-height: 250px;
    }
}

/* ============================================
   ðŸ“±ðŸ“² RESPONSIVE â€“ TABLETS (481px â€“ 768px)
   ============================================ */
@media (max-width: 768px) {

    .categorias-container {
        padding: 20px;
    }

    .categorias-title {
        text-align: center;
        font-size: 1.8rem;
    }

    .categorias-subtitle {
        text-align: center;
        font-size: 1.1rem;
    }

    .categorias-form-container,
    .categorias-list-container {
        padding: 25px;
        max-width: 100%;
    }

    .categorias-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
    }

    .categorias-item-actions {
        width: 100%;
        justify-content: flex-end;
    }

    .categorias-btn {
        font-size: 1rem;
        padding: 10px 18px;
    }

    .categorias-edit-input {
        width: 100%;
    }
}

/* ============================================
   ðŸ’» RESPONSIVE â€“ LAPTOPS PEQUEÃ‘AS (â‰¤ 1024px)
   ============================================ */
@media (max-width: 1024px) {

    .categorias-form-container,
    .categorias-list-container {
        max-width: 90%;
        margin: 0 auto 30px auto;
    }

    .categorias-btn {
        font-size: 1rem;
    }
}
--- FILE: C:\Workspace\ecommerce-front\src\components\NotificationModal.jsx ---
import { useEffect, useRef, useState } from "react";
import "../styles/NotificationModal.css";

/**
 * Componente de NotificaciÃ³n Toast Reutilizable
 * 
 * Muestra notificaciones tipo toast en la esquina superior derecha
 * Sin overlay oscuro, mÃ¡s pequeÃ±o, y desaparece automÃ¡ticamente
 * 
 * @param {boolean} isOpen - Controla si la notificaciÃ³n estÃ¡ visible
 * @param {string} type - Tipo de notificaciÃ³n: 'success', 'error', 'warning', 'info'
 * @param {string} title - TÃ­tulo de la notificaciÃ³n (opcional)
 * @param {string} message - Mensaje a mostrar
 * @param {function} onClose - FunciÃ³n que se ejecuta al cerrar la notificaciÃ³n
 * @param {number} autoClose - Tiempo en milisegundos para cerrar automÃ¡ticamente (por defecto 3000ms)
 */
function NotificationModal({ isOpen, type = 'info', title, message, onClose, autoClose = 3000 }) {
    const [isClosing, setIsClosing] = useState(false);
    const [shouldRender, setShouldRender] = useState(isOpen);
    const onCloseRef = useRef(onClose);
    const timeoutRef = useRef(null);
    const prevIsOpenRef = useRef(isOpen);
    
    // Mantener la referencia actualizada sin causar re-renders
    useEffect(() => {
        onCloseRef.current = onClose;
    }, [onClose]);

    // Manejar cuando isOpen cambia
    useEffect(() => {
        const prevIsOpen = prevIsOpenRef.current;
        prevIsOpenRef.current = isOpen;
        
        if (isOpen && !prevIsOpen) {
            // Se estÃ¡ abriendo
            setShouldRender(true);
            setIsClosing(false);
            if (timeoutRef.current) {
                clearTimeout(timeoutRef.current);
                timeoutRef.current = null;
            }
        } else if (!isOpen && prevIsOpen && shouldRender) {
            // Se estÃ¡ cerrando - iniciar animaciÃ³n de salida
            setIsClosing(true);
            // DespuÃ©s de la animaciÃ³n, dejar de renderizar
            timeoutRef.current = setTimeout(() => {
                setShouldRender(false);
                setIsClosing(false);
            }, 300); // DuraciÃ³n de la animaciÃ³n
        }
        
        return () => {
            if (timeoutRef.current) {
                clearTimeout(timeoutRef.current);
                timeoutRef.current = null;
            }
        };
    }, [isOpen, shouldRender]);

    useEffect(() => {
        if (isOpen && autoClose > 0) {
            const timer = setTimeout(() => {
                if (onCloseRef.current) onCloseRef.current();
            }, autoClose);
            return () => clearTimeout(timer);
        }
    }, [isOpen, autoClose]); // Removido onClose de las dependencias

    useEffect(() => {
        // Cerrar con ESC
        const handleEscape = (e) => {
            if (e.key === 'Escape' && isOpen && onCloseRef.current) {
                onCloseRef.current();
            }
        };
        document.addEventListener('keydown', handleEscape);
        return () => document.removeEventListener('keydown', handleEscape);
    }, [isOpen]); // Removido onClose de las dependencias

    if (!shouldRender) return null;

    const icons = {
        success: 'âœ“',
        error: 'âœ•',
        warning: 'âš ',
        info: 'â„¹'
    };

    const typeClass = `notification-${type}`;

    return (
        <div 
            className={`notification-toast ${typeClass} ${isClosing ? 'closing' : ''}`}
            onClick={() => {
                if (onCloseRef.current) onCloseRef.current();
            }}
        >
            <div className="notification-toast-content">
                <div className={`notification-toast-icon ${typeClass}`}>
                    {icons[type] || icons.info}
                </div>
                <div className="notification-toast-text">
                    {title && (
                        <div className="notification-toast-title">{title}</div>
                    )}
                    <div className="notification-toast-message">{message}</div>
                </div>
                <button 
                    className="notification-toast-close"
                    onClick={(e) => {
                        e.stopPropagation();
                        if (onCloseRef.current) onCloseRef.current();
                    }}
                    aria-label="Cerrar"
                >
                    &times;
                </button>
            </div>
        </div>
    );
}

export default NotificationModal;
--- FILE: C:\Workspace\ecommerce-front\src\components\PerfilSeguridad.jsx ---
import { useState } from "react";
import { changePassword } from "../tienda/services/auth";
import { useNotifications } from "../contexts/NotificationContext";
// Reutilizamos estilos del admin
import "../admin/styles/AdminConfiguracion.css"; 

function PerfilSeguridad() {
    const { success, error: showError } = useNotifications();
    const [formData, setFormData] = useState({
        currentPassword: "",
        newPassword: "",
        confirmPassword: ""
    });
    const [loading, setLoading] = useState(false);

    const handleChange = (e) => {
        setFormData({ ...formData, [e.target.name]: e.target.value });
    };

    const handleSubmit = async (e) => {
        e.preventDefault();
        
        if (formData.newPassword !== formData.confirmPassword) {
            showError("Error", "Las contraseÃ±as nuevas no coinciden");
            return;
        }
        // ValidaciÃ³n de contraseÃ±a: mÃ­nimo 6 caracteres, al menos una mayÃºscula y un nÃºmero
        if (formData.newPassword.length < 6) {
            showError("Error", "La nueva contraseÃ±a debe tener al menos 6 caracteres");
            return;
        }
        if (!/[A-Z]/.test(formData.newPassword)) {
            showError("Error", "La contraseÃ±a debe contener al menos una letra mayÃºscula");
            return;
        }
        if (!/[0-9]/.test(formData.newPassword)) {
            showError("Error", "La contraseÃ±a debe contener al menos un nÃºmero");
            return;
        }

        setLoading(true);
        try {
            await changePassword({
                currentPassword: formData.currentPassword,
                newPassword: formData.newPassword
            });
            success("Ã‰xito", "ContraseÃ±a actualizada correctamente");
            setFormData({ currentPassword: "", newPassword: "", confirmPassword: "" });
        } catch (err) {
            const msg = err.response?.data?.message || "Error al cambiar contraseÃ±a";
            showError("Error", msg);
        } finally {
            setLoading(false);
        }
    };

    return (
        <div style={{ padding: "20px" }}>
            <h2 className="configuracion-title">Seguridad de la Cuenta</h2>
            
            <div className="configuracion-form" style={{ maxWidth: '600px', margin: '0' }}>
                <h3 style={{ marginTop: 0, marginBottom: '20px', color: '#2c3e50', fontSize: '1.2rem' }}>Cambiar ContraseÃ±a</h3>
                
                <form onSubmit={handleSubmit}>
                    <div className="configuracion-form-group">
                        <label className="configuracion-label">ContraseÃ±a Actual</label>
                        <input
                            type="password"
                            name="currentPassword"
                            value={formData.currentPassword}
                            onChange={handleChange}
                            className="configuracion-input"
                            placeholder="Ingresa tu contraseÃ±a actual"
                            required
                        />
                    </div>

                    <div className="configuracion-form-group">
                        <label className="configuracion-label">Nueva ContraseÃ±a</label>
                        <input
                            type="password"
                            name="newPassword"
                            value={formData.newPassword}
                            onChange={handleChange}
                            className="configuracion-input"
                            placeholder="MÃ­nimo 6 caracteres, una mayÃºscula y un nÃºmero"
                            required
                        />
                    </div>

                    <div className="configuracion-form-group">
                        <label className="configuracion-label">Confirmar Nueva ContraseÃ±a</label>
                        <input
                            type="password"
                            name="confirmPassword"
                            value={formData.confirmPassword}
                            onChange={handleChange}
                            className="configuracion-input"
                            placeholder="Repite la nueva contraseÃ±a"
                            required
                        />
                    </div>

                    <div className="configuracion-form-actions">
                        <button 
                            type="submit" 
                            className="configuracion-btn configuracion-btn-submit"
                            disabled={loading}
                        >
                            {loading ? "Actualizando..." : "Actualizar ContraseÃ±a"}
                        </button>
                    </div>
                </form>
            </div>
        </div>
    );
}

export default PerfilSeguridad;
--- FILE: C:\Workspace\ecommerce-front\src\components\ProtectedRoute.jsx ---
import { Navigate } from "react-router-dom";
import { useAuth } from "../tienda/contexts/AuthContext";

/**
 * Componente para proteger rutas que requieren autenticaciÃ³n
 * 
 * @param {React.ReactNode} children - Componentes hijos a renderizar si estÃ¡ autenticado
 * @param {boolean} requireVendedor - Si es true, requiere que el usuario sea vendedor
 */
function ProtectedRoute({ children, requireVendedor = false }) {
    const { isAuthenticated, isVendedor, loading } = useAuth();

    if (loading) {
        return <div>Cargando...</div>;
    }

    if (!isAuthenticated) {
        return <Navigate to="/login" replace />;
    }

    if (requireVendedor && !isVendedor) {
        return <Navigate to="/" replace />;
    }

    return children;
}

export default ProtectedRoute;

--- FILE: C:\Workspace\ecommerce-front\src\contexts\NotificationContext.jsx ---
import { createContext, useContext, useState, useCallback, useRef } from "react";
import { createPortal } from "react-dom";
import NotificationModal from "../components/NotificationModal";

const NotificationContext = createContext();

/**
 * Provider de notificaciones global
 * 
 * Permite mostrar notificaciones desde cualquier parte de la aplicaciÃ³n
 * que persisten entre navegaciones
 */
export function NotificationProvider({ children }) {
    const [notifications, setNotifications] = useState([]);
    const timersRef = useRef({});

    /**
     * Cierra una notificaciÃ³n especÃ­fica
     */
    const closeNotification = useCallback((id) => {
        // Limpiar el timer si existe
        if (timersRef.current[id]) {
            clearTimeout(timersRef.current[id]);
            delete timersRef.current[id];
        }
        
        setNotifications(prev => prev.filter(n => n.id !== id));
    }, []);

    /**
     * Muestra una notificaciÃ³n
     * @param {string} type - Tipo: 'success', 'error', 'warning', 'info'
     * @param {string} title - TÃ­tulo de la notificaciÃ³n
     * @param {string} message - Mensaje de la notificaciÃ³n
     * @param {number} autoClose - Tiempo en ms para cerrar automÃ¡ticamente (0 = no cerrar)
     */
    const showNotification = useCallback((type, title, message, autoClose = null) => {
        const id = Date.now() + Math.random();
        const notification = {
            id,
            type,
            title,
            message,
            isOpen: true,
            autoClose: autoClose !== null ? autoClose : (type === 'success' ? 2000 : type === 'error' ? 5000 : 3000)
        };
        
        setNotifications(prev => [...prev, notification]);
        
        // Si tiene autoClose, cerrar automÃ¡ticamente
        if (notification.autoClose > 0) {
            const timerId = setTimeout(() => {
                closeNotification(id);
            }, notification.autoClose);
            timersRef.current[id] = timerId;
        }
        
        return id;
    }, [closeNotification]);

    /**
     * MÃ©todos de conveniencia
     */
    const success = (title, message, autoClose = 2000) => showNotification('success', title, message, autoClose);
    const error = (title, message, autoClose = 5000) => showNotification('error', title, message, autoClose);
    const warning = (title, message, autoClose = 3000) => showNotification('warning', title, message, autoClose);
    const info = (title, message, autoClose = 3000) => showNotification('info', title, message, autoClose);

    const value = {
        showNotification,
        closeNotification,
        success,
        error,
        warning,
        info
    };

    return (
        <NotificationContext.Provider value={value}>
            {children}
            {/* Renderizar notificaciones usando portal */}
            {typeof document !== 'undefined' && notifications.length > 0 && createPortal(
                <div style={{ 
                    position: 'fixed', 
                    top: '20px', 
                    right: '20px', 
                    zIndex: 10000, 
                    pointerEvents: 'none',
                    display: 'flex',
                    flexDirection: 'column',
                    gap: '10px',
                    alignItems: 'flex-end'
                }}>
                    {notifications.map((notification) => {
                        // Crear una funciÃ³n estable para onClose usando useCallback implÃ­cito
                        const handleClose = () => closeNotification(notification.id);
                        
                        return (
                            <div
                                key={notification.id}
                                style={{
                                    pointerEvents: 'auto'
                                }}
                            >
                                <NotificationModal
                                    isOpen={notification.isOpen}
                                    type={notification.type}
                                    title={notification.title}
                                    message={notification.message}
                                    onClose={handleClose}
                                    autoClose={0} // Ya manejamos el autoClose en el contexto
                                />
                            </div>
                        );
                    })}
                </div>,
                document.body
            )}
        </NotificationContext.Provider>
    );
}

/**
 * Hook para usar el contexto de notificaciones
 */
export function useNotifications() {
    const context = useContext(NotificationContext);
    if (!context) {
        throw new Error('useNotifications debe usarse dentro de NotificationProvider');
    }
    return context;
}

--- FILE: C:\Workspace\ecommerce-front\src\landing\components\BuyerLayout.jsx ---
import { Link, Outlet, useNavigate } from "react-router-dom";
import { useAuth } from "../../tienda/contexts/AuthContext";
// Importamos los estilos del admin para mantener la consistencia visual
import "../../admin/styles/AdminLayout.css"; 

/**
 * Layout del panel del comprador (USUARIOS SIN TIENDA)
 * UbicaciÃ³n: src/landing/components/BuyerLayout.jsx
 */
function BuyerLayout() {
    const { usuario, logout } = useAuth();
    const navigate = useNavigate();

    const handleLogout = () => {
        logout();
        navigate("/login");
    };

    return (
        <div className="admin-layout">
            {/* Sidebar con color distinto para diferenciar del vendedor */}
            <aside className="admin-sidebar" style={{ backgroundColor: '#2c3e50' }}>
                <div className="admin-sidebar-header">
                    <h2 className="admin-sidebar-title">
                        Mi Cuenta
                    </h2>
                </div>

                <nav className="admin-sidebar-nav">
                    <Link 
                        to="/perfil/compras"
                        className="admin-sidebar-link"
                    >
                        ðŸ›ï¸ Mis Compras
                    </Link>
             
                    <Link 
                        to="/perfil/seguridad"
                        className="admin-sidebar-link"
                    >
                        ðŸ”’ Seguridad
                    </Link>

                    {/* Separador */}
                    <div style={{ height: '1px', background: 'rgba(255,255,255,0.1)', margin: '15px 20px' }}></div>

                    <Link 
                        to="/admin/configuracion"
                        className="admin-sidebar-link"
                        style={{ color: '#60a5fa' }}
                    >
                        ðŸš€ Â¡Crear mi Tienda!
                    </Link>
                </nav>

                <div className="admin-sidebar-footer">
                    {usuario && (
                        <div className="admin-sidebar-footer-user">
                            <div className="admin-sidebar-footer-user-info">
                                <span className="admin-sidebar-footer-user-name">
                                    {usuario.nombre} {usuario.apellido}
                                </span>
                                {usuario.emailVerificado !== undefined && (
                                    <span 
                                        className={`admin-sidebar-footer-user-icon ${usuario.emailVerificado ? "verified" : "unverified"}`}
                                        title={usuario.emailVerificado ? "Email Verificado" : "Email No Verificado"}
                                    >
                                        {usuario.emailVerificado ? "âœ“" : "âš ï¸"}
                                    </span>
                                )}
                            </div>
                            <button
                                onClick={handleLogout}
                                className="admin-sidebar-footer-logout"
                            >
                                Cerrar SesiÃ³n
                            </button>
                            <button
                                onClick={() => navigate("/")}
                                className="btn-landing-link"
                            >
                                Volver al Inicio
                            </button>
                        </div>
                    )}
                </div>
            </aside>

            {/* Contenido principal */}
            <div className="admin-content">
                {/* Navbar superior */}
                <header className="admin-header">
                    <h1 className="admin-header-title">
                        Panel de Usuario
                    </h1>
                    <Link 
                        to="/tiendas" 
                        className="btn-tienda-link"
                    >
                        Ir a Comprar
                    </Link>
                </header>

                {/* Contenido de la pÃ¡gina */}
                <main className="admin-main">
                    <Outlet />
                </main>
            </div>
        </div>
    );
}

export default BuyerLayout;
--- FILE: C:\Workspace\ecommerce-front\src\landing\components\Footer_Landing.jsx ---
import { Link, useLocation } from "react-router-dom";
import "../styles/Footer_Landing.css";
import { LuExternalLink } from "react-icons/lu";

/**
 * Componente Landing
 * * PÃ¡gina inicial de la aplicaciÃ³n.
 * Muestra informaciÃ³n general
 * y permite navegar a las tiendas o iniciar sesiÃ³n.
 * * DiseÃ±o basado en landing
 */

function Footer_Landing() {
    const location = useLocation();
    const isLandingPage = location.pathname === "/";
    const isTiendasPage = location.pathname === "/tiendas";

    const scrollToFeatures = (e) => {
        // Si no estamos en la landing, no prevenimos el default para que navegue, 
        // pero aquÃ­ manejamos la lÃ³gica condicional en el render
        e.preventDefault();
        const featuresSection = document.getElementById("features");
        if (featuresSection) {
            featuresSection.scrollIntoView({ behavior: "smooth" });
        }
    };

    return (
        <>
        {/* Footer */}
            <div className="footer">
                <div className="footer-container">
                    <div className="footer-section">
                        <h3>E-commerce Multitienda</h3>
                        <p>
                            La soluciÃ³n integral para crear y gestionar tu tienda online.
                            DiseÃ±ada para vendedores y para compradores.
                        </p>
                        {!isLandingPage && !isTiendasPage && (
                            <Link to="/" className="link-to-landing">
                                <LuExternalLink /> Volver a la pÃ¡gina principal
                            </Link>
                        )}
                    </div>
              
                    <div className="footer-section">
                        <h3>Producto</h3>
                        {/* LÃ³gica condicional: Scroll si es landing, Link si es otra pÃ¡gina */}
                        {isLandingPage ? (
                            <p><a href="#features" onClick={scrollToFeatures}>CaracterÃ­sticas</a></p>
                        ) : (
                            <p><Link to="/info/caracteristicas">CaracterÃ­sticas</Link></p>
                        )}
                        <p><Link to="/info/precios">Precios</Link></p>
                    </div>
                    <div className="footer-section">
                        <h3>Soporte</h3>
                        <p><Link to="/info/ayuda">Centro de Ayuda</Link></p>
                        <p><Link to="/info/contacto">Contacto</Link></p>
                    </div>
                    <div className="footer-section">
                        <h3>Legal</h3>
                        <p><Link to="/info/privacidad">PolÃ­tica de Privacidad</Link></p>
                        <p><Link to="/info/terminos">TÃ©rminos de Servicio</Link></p>
                    </div>
                </div>
                <div className="footer-bottom">
                    <p>&copy; 2025 TradioGlobal | E-commerce Multitienda. Todos los derechos reservados.</p>
                </div>
            </div>
        </>
    );
}

export default Footer_Landing;
--- FILE: C:\Workspace\ecommerce-front\src\landing\pages\BuyerCompras.jsx ---
import { useState, useEffect } from "react";
import { Link } from "react-router-dom";
import { useAuth } from "../../tienda/contexts/AuthContext";
import { getPedidosGlobalesUsuario } from "../../tienda/services/pedidos";
// Reutilizamos estilos de la tabla de pedidos del admin para no duplicar CSS
import "../../admin/styles/AdminPedidos.css"; 

function BuyerCompras() {
    const { usuario } = useAuth();
    const [pedidos, setPedidos] = useState([]);
    const [loading, setLoading] = useState(true);

    useEffect(() => {
        if (usuario?.dni) {
            cargarCompras();
        }
    }, [usuario]);

    const cargarCompras = async () => {
        try {
            const data = await getPedidosGlobalesUsuario(usuario.dni);
            // Ordenar por fecha descendente (mÃ¡s reciente primero)
            const ordenados = Array.isArray(data) 
                ? data.sort((a, b) => new Date(b.fechaPedido) - new Date(a.fechaPedido))
                : [];
            setPedidos(ordenados);
        } catch (error) {
            console.error("Error cargando compras:", error);
        } finally {
            setLoading(false);
        }
    };

    const formatearFecha = (fechaString) => {
        if (!fechaString) return "N/A";
        const date = new Date(fechaString);
        return date.toLocaleDateString("es-AR", {
            year: 'numeric', month: '2-digit', day: '2-digit', 
            hour: '2-digit', minute: '2-digit'
        });
    };

    const formatearEstado = (estado) => {
        if (!estado) return "Desconocido";
        const texto = estado.replace(/_/g, ' ');
        return texto.charAt(0).toUpperCase() + texto.slice(1).toLowerCase();
    };

    if (loading) {
        return (
            <div className="pedidos-loading">
                <div className="spinner"></div>
                <p>Cargando tus compras...</p>
            </div>
        );
    }

    return (
        <div className="pedidos-container">
            <h2 className="pedidos-title">Historial de Compras</h2>

            {pedidos.length === 0 ? (
                <div className="pedidos-loading">
                    <p>No has realizado ninguna compra todavÃ­a.</p>
                    <Link to="/tiendas" style={{ 
                        marginTop: '15px', 
                        display: 'inline-block',
                        padding: '10px 20px',
                        backgroundColor: '#3b82f6',
                        color: 'white',
                        textDecoration: 'none',
                        borderRadius: '5px',
                        fontWeight: 'bold'
                    }}>
                        Explorar Tiendas
                    </Link>
                </div>
            ) : (
                <div className="pedidos-list-container">
                    <table className="pedidos-table">
                        <thead>
                            <tr>
                                <th>Fecha</th>
                                <th>Tienda</th>
                                <th>Estado</th>
                                <th>Total</th>
                                <th>Detalle</th>
                            </tr>
                        </thead>
                        <tbody>
                            {pedidos.map((pedido) => (
                                <tr key={pedido.id}>
                                    <td>{formatearFecha(pedido.fechaPedido)}</td>
                                    <td>
                                        {/* Enlace a la tienda si existe la URL, sino solo texto */}
                                        {pedido.tiendaUrl ? (
                                            <Link 
                                                to={`/tienda/${pedido.tiendaUrl}/home`}
                                                style={{ color: '#2563eb', fontWeight: 'bold' }}
                                            >
                                                {pedido.tiendaNombre || "Tienda"}
                                            </Link>
                                        ) : (
                                            <span>{pedido.tiendaNombre || "Tienda"}</span>
                                        )}
                                    </td>
                                    <td>
                                        <span className={`estado-${pedido.estado}`}>
                                            {formatearEstado(pedido.estado)}
                                        </span>
                                    </td>
                                    <td>${pedido.total?.toFixed(2)}</td>
                                    <td>
                                        <ul style={{ 
                                            margin: 0, 
                                            paddingLeft: '15px', 
                                            fontSize: '0.85rem',
                                            color: '#666',
                                            listStyleType: 'disc'
                                        }}>
                                            {pedido.items?.map((item, idx) => (
                                                <li key={idx}>
                                                    {item.cantidad}x {item.nombreProducto}
                                                </li>
                                            ))}
                                        </ul>
                                    </td>
                                </tr>
                            ))}
                        </tbody>
                    </table>
                </div>
            )}
        </div>
    );
}

export default BuyerCompras;
--- FILE: C:\Workspace\ecommerce-front\src\landing\pages\ExplorarTiendas.jsx ---
import { useState, useEffect } from "react";
import { Link, useNavigate} from "react-router-dom";
import { useAuth } from "../../tienda/contexts/AuthContext.jsx";
import { getAllTiendas } from "../../tienda/services/tiendas";
import { FaStore, FaUser, FaSignOutAlt, FaSignInAlt, FaShoppingBag } from "react-icons/fa";
import Footer_Landing from "../components/Footer_Landing";
import "../styles/ExplorarTiendas.css";
import "../styles/Landing.css";
import "../../MainStyles.css";

function ExplorarTiendas() {
    const [tiendas, setTiendas] = useState([]);
    const [loading, setLoading] = useState(true);
    const [error, setError] = useState(null);
    const { isAuthenticated, usuario, logout } = useAuth();
    const navigate = useNavigate();

    const handleLogout = () => {
        logout();
        navigate("/", { replace: true });
    };

    useEffect(() => {
        cargarTiendas();
    }, []);

    const cargarTiendas = async () => {
        try {
            const data = await getAllTiendas();
            setTiendas(data);
        } catch (err) {
            console.error("Error cargando tiendas:", err);
            setError("Hubo un problema al cargar las tiendas. Intenta nuevamente mÃ¡s tarde.");
        } finally {
            setLoading(false);
        }
    };

    return (
        <div className="explorar-page">
            {/* Header de navegaciÃ³n */}
            <header className="landing-header">
                <nav className="landing-nav">
                    <Link to="/" className="landing-logo">
                        <FaStore />
                        <h1>TradioGlobal</h1>
                    </Link>
                    <div className="landing-nav-container">
                        <div className="landing-nav-links-container">
                            <Link to="/info/acerca" className="landing-nav-link">Acerca de</Link>
                            <Link to="/info/ayuda" className="landing-nav-link">Soporte</Link>
                        </div>
                        <div className="landing-nav-actions">
                            {isAuthenticated ? (
                                <>
                                    <Link to="/login" className="btn-primary-header">
                                        <FaUser />
                                        Mi Cuenta
                                    </Link>
                                    <button onClick={handleLogout} className="btn-logout">
                                        <FaSignOutAlt />
                                        Cerrar SesiÃ³n
                                    </button>
                                </>
                            ) : (
                                <Link to="/login" className="btn-primary">
                                    <FaSignInAlt />
                                    Iniciar SesiÃ³n
                                </Link>
                            )}
                        </div>
                    </div>
                </nav>
            </header>
            {/* -------------- Header de navegaciÃ³n mobile -------------- */}
            {isAuthenticated && (
                <div className="landing-header-mobile">
                    <div className="landing-nav-actions">
                        <Link to="/login" className="btn-primary-header-mobile">
                            <FaUser />
                            Mi Cuenta
                        </Link>
                        <button onClick={handleLogout} className="btn-logout-mobile">
                            <FaSignOutAlt />
                            Cerrar SesiÃ³n
                        </button>
                    </div>
                </div>
            )}

            {/* -------------- Main -------------- */}
            <main className="explorar-main">
                <div className="explorar-hero">
                    <h1 className="explorar-title">Nuestras Tiendas</h1>
                    <p className="explorar-subtitle">Descubre vendedores Ãºnicos y sus productos increÃ­bles</p>
                </div>

                {loading ? (
                    <div className="explorar-loading">
                        <div className="spinner"></div>
                        <p>Cargando tiendas...</p>
                    </div>
                ) : error ? (
                    <div className="explorar-error">{error}</div>
                ) : tiendas.length === 0 ? (
                    <div className="explorar-empty">
                        <p>AÃºn no hay tiendas registradas.</p>
                        <Link to="/login" className="btn-crear">Â¡SÃ© el primero en crear una!</Link>
                    </div>
                ) : (
                    <div className="tiendas-grid">
                        {tiendas.map((tienda) => (
                            <Link 
                                to={`/tienda/${tienda.nombreUrl}/home`} 
                                key={tienda.id} 
                                className="tienda-card"
                            >
                                <div className="tienda-card-banner">
                                    {/* Si tiene banners, usa el primero. Si no, usa un placeholder */}
                                    {tienda.banners && tienda.banners.length > 0 ? (
                                        <img src={tienda.banners[0]} alt="Banner tienda" />
                                    ) : (
                                        <div className="banner-placeholder"></div>
                                    )}
                                </div>
                                
                                <div className="tienda-card-content">
                                    <div className="tienda-logo-wrapper">
                                        <img 
                                            src={tienda.logo || "/default-product.png"} 
                                            alt={tienda.nombreFantasia} 
                                            className="tienda-logo"
                                            onError={(e) => e.target.src = "/default-product.png"}
                                        />
                                    </div>
                                    <h2 className="tienda-nombre">{tienda.nombreFantasia}</h2>
                                    <p className="tienda-stock" style={{ fontSize: '0.85rem', color: '#27ae60', fontWeight: 'bold', marginBottom: '5px' }}>
                                        ðŸ“¦ {tienda.cantidadProductos || 0} Productos
                                    </p>
                                    <p className="tienda-desc">
                                        {tienda.descripcion 
                                            ? (tienda.descripcion.length > 80 ? tienda.descripcion.substring(0, 80) + "..." : tienda.descripcion)
                                            : "Visita esta tienda para ver sus productos."}
                                    </p>
                                    <div className="card-footer">
                                        <span className="btn-visitar">Visitar Tienda</span>
                                    </div>
                                </div>
                            </Link>
                        ))}
                    </div>
                )}
            </main>

            <Footer_Landing />
        </div>
    );
}

export default ExplorarTiendas;
--- FILE: C:\Workspace\ecommerce-front\src\landing\pages\InfoPages.jsx ---
import { useEffect } from "react"; // <--- Importamos useEffect
import { useParams, Link, useNavigate } from "react-router-dom";
import { useAuth } from "../../tienda/contexts/AuthContext";
import Footer_Landing from "../components/Footer_Landing";
import { FaStore, FaUser, FaSignOutAlt, FaSignInAlt, FaArrowLeft } from "react-icons/fa";
import "../styles/InfoPages.css"; 
import "../../MainStyles.css";
import "../styles/Landing.css"; 

// Diccionario de contenido
const contenidoMock = {
    "acerca": {
        titulo: "Acerca de TradioGlobal",
        texto: "TradioGlobal es una plataforma de e-commerce multitienda diseÃ±ada para conectar vendedores y compradores en un entorno digital seguro y eficiente. Nuestra misiÃ³n es democratizar el comercio electrÃ³nico, ofreciendo herramientas accesibles tanto para emprendedores que inician su negocio online como para compradores que buscan productos de calidad.",
        detalles: [
            "Fundada con la visiÃ³n de simplificar el comercio electrÃ³nico para todos.",
            "Plataforma 100% en espaÃ±ol, diseÃ±ada para el mercado latinoamericano.",
            "Equipo comprometido con la innovaciÃ³n y el soporte continuo.",
            "TecnologÃ­a de Ãºltima generaciÃ³n para garantizar seguridad y rendimiento."
        ],
        contenidoAdicional: "Desde nuestros inicios, nos hemos enfocado en crear una experiencia de usuario excepcional. Trabajamos constantemente en mejorar nuestras funcionalidades, escuchando las necesidades de nuestros usuarios y adaptÃ¡ndonos a las tendencias del mercado digital."
    },
    "caracteristicas": {
        titulo: "CaracterÃ­sticas del Producto",
        texto: "Nuestra plataforma multitienda ofrece gestiÃ³n de inventario en tiempo real, pasarela de pagos integrada con Mercado Pago, y un panel administrativo intuitivo tanto para vendedores como para compradores. DiseÃ±ado para escalar tu negocio digital.",
        detalles: [
            "GestiÃ³n de inventario en tiempo real con actualizaciones instantÃ¡neas.",
            "IntegraciÃ³n completa con Mercado Pago para transacciones seguras.",
            "Panel de administraciÃ³n intuitivo para vendedores y compradores.",
            "Sistema de categorÃ­as y bÃºsqueda avanzada para facilitar la navegaciÃ³n.",
            "Carrito de compras inteligente con gestiÃ³n de cantidades y precios dinÃ¡micos.",
            "Sistema de autenticaciÃ³n seguro con JWT y protecciÃ³n de datos."
        ],
        contenidoAdicional: "Nuestras caracterÃ­sticas estÃ¡n diseÃ±adas pensando en la usabilidad y la eficiencia. Cada herramienta ha sido probada y optimizada para ofrecer la mejor experiencia posible, tanto para quienes venden como para quienes compran."
    },
    "precios": {
        titulo: "Planes y Precios",
        texto: "Actualmente ofrecemos un plan gratuito para comenzar. PrÃ³ximamente lanzaremos planes Premium con menores comisiones por venta y herramientas avanzadas de marketing y analÃ­tica.",
        detalles: [
            "Plan Gratuito: Ideal para comenzar, sin costos iniciales ni mensualidades.",
            "Comisiones competitivas por transacciÃ³n para mantener la plataforma accesible.",
            "PrÃ³ximamente: Plan Premium con comisiones reducidas y herramientas avanzadas.",
            "Sin costos ocultos ni tarifas sorpresa. Transparencia total en nuestros precios."
        ],
        contenidoAdicional: "Creemos que el comercio electrÃ³nico debe ser accesible para todos. Por eso, nuestro plan gratuito te permite comenzar a vender sin inversiÃ³n inicial. A medida que tu negocio crezca, podrÃ¡s acceder a planes premium con beneficios adicionales."
    },
    "ayuda": {
        titulo: "Centro de Ayuda",
        texto: "Si tienes problemas con tu cuenta, pagos o gestiÃ³n de productos, por favor contÃ¡ctanos. Nuestro equipo de soporte estÃ¡ disponible de Lunes a Viernes de 9hs a 18hs.",
        detalles: [
            "Horario de atenciÃ³n: Lunes a Viernes de 9:00 a 18:00 horas.",
            "Respuesta garantizada en menos de 24 horas hÃ¡biles.",
            "Soporte tÃ©cnico especializado para resolver cualquier inconveniente.",
            "Base de conocimientos con guÃ­as paso a paso para funciones comunes.",
            "Asistencia para configuraciÃ³n inicial de tu tienda."
        ],
        contenidoAdicional: "Nuestro equipo de soporte estÃ¡ capacitado para ayudarte con cualquier consulta relacionada con la plataforma. Ya sea que necesites ayuda con la configuraciÃ³n de tu tienda, problemas con pagos, o cualquier otra inquietud, estamos aquÃ­ para asistirte."
    },
    "contacto": {
        titulo: "Contacto",
        texto: "Puedes escribirnos a soporte@tradioglobal.com o visitarnos en nuestras oficinas centrales. Estamos aquÃ­ para escuchar tus sugerencias y resolver tus dudas.",
        detalles: [
            "Email: soporte@tradioglobal.com",
            "Horario de atenciÃ³n: Lunes a Viernes de 9:00 a 18:00 horas.",
            "Respondemos todas las consultas en menos de 24 horas hÃ¡biles.",
            "Aceptamos sugerencias y feedback para mejorar continuamente la plataforma."
        ],
        contenidoAdicional: "Tu opiniÃ³n es muy valiosa para nosotros. Si tienes sugerencias, comentarios o simplemente quieres ponerte en contacto, no dudes en escribirnos. Estamos comprometidos con brindar el mejor servicio posible y tu feedback nos ayuda a mejorar dÃ­a a dÃ­a."
    },
    "privacidad": {
        titulo: "PolÃ­tica de Privacidad",
        texto: "En TradioGlobal nos tomamos muy en serio la seguridad de tus datos. Utilizamos encriptaciÃ³n de extremo a extremo y no compartimos tu informaciÃ³n personal con terceros sin tu consentimiento explÃ­cito. Cumplimos con todas las normativas de protecciÃ³n de datos vigentes.",
        detalles: [
            "EncriptaciÃ³n de extremo a extremo para proteger tus datos personales.",
            "No compartimos informaciÃ³n con terceros sin tu consentimiento explÃ­cito.",
            "Cumplimiento total con normativas de protecciÃ³n de datos vigentes.",
            "Acceso limitado a tu informaciÃ³n solo para personal autorizado.",
            "Derecho a solicitar eliminaciÃ³n de tus datos personales en cualquier momento."
        ],
        contenidoAdicional: "La privacidad y seguridad de tus datos es nuestra prioridad. Implementamos las mejores prÃ¡cticas de seguridad informÃ¡tica y revisamos constantemente nuestros protocolos para garantizar que tu informaciÃ³n estÃ© siempre protegida."
    },
    "terminos": {
        titulo: "TÃ©rminos de Servicio",
        texto: "Al utilizar nuestra plataforma, aceptas operar de buena fe. EstÃ¡ prohibida la venta de artÃ­culos ilegales. TradioGlobal actÃºa como intermediario y no se responsabiliza por la calidad final de los productos ofrecidos por terceros, aunque ofrecemos mecanismos de reembolso.",
        detalles: [
            "Prohibida la venta de artÃ­culos ilegales o que violen derechos de autor.",
            "TradioGlobal actÃºa como intermediario entre vendedores y compradores.",
            "Mecanismos de reembolso disponibles para proteger a los compradores.",
            "Los vendedores son responsables de la calidad y descripciÃ³n de sus productos.",
            "ResoluciÃ³n de disputas mediante nuestro sistema de soporte."
        ],
        contenidoAdicional: "Al utilizar nuestra plataforma, aceptas estos tÃ©rminos y te comprometes a operar de manera Ã©tica y legal. Trabajamos continuamente para mantener un entorno seguro y confiable para todos nuestros usuarios."
    }
};

function InfoPages() {
    const { pagina } = useParams();
    const { isAuthenticated, logout } = useAuth();
    const navigate = useNavigate();

    // Efecto para hacer scroll arriba cada vez que cambia la pÃ¡gina
    useEffect(() => {
        window.scrollTo(0, 0);
    }, [pagina]); // Se ejecuta cuando cambia el parÃ¡metro 'pagina'

    const handleLogout = () => {
        logout();
        navigate("/", { replace: true });
    };
    
    // Si la pÃ¡gina no existe en el diccionario, mostramos un default
    const info = contenidoMock[pagina] || {
        titulo: "PÃ¡gina no encontrada",
        texto: "Lo sentimos, la secciÃ³n que buscas no estÃ¡ disponible."
    };

    return (
        // Usamos la clase 'landing-page' para heredar estilos base si los hubiera
        <div className="landing-page info-page-wrapper">
            
            {/* --- HEADER ESTILO LANDING (Copiado y adaptado de Landing.jsx) --- */}
            <header className="landing-header">
                <nav className="landing-nav">
                    <Link to="/" className="landing-logo">
                        <FaStore />
                        <h1>TradioGlobal</h1>
                    </Link>
                    <div className="landing-nav-container">
                        {/* Links de navegaciÃ³n simples para volver a secciones de la landing */}
                        <div className="landing-nav-links-container">
                            <Link to="/" className="landing-nav-link">Inicio</Link>
                            <Link to="/tiendas" className="landing-nav-link">Tiendas</Link>
                        </div>
                        <div className="landing-nav-actions">
                            {isAuthenticated ? (
                                <>
                                    <Link to="/perfil/compras" className="btn-primary-header">
                                        <FaUser /> Mi Cuenta
                                    </Link>
                                    <button onClick={handleLogout} className="btn-logout">
                                        <FaSignOutAlt /> Cerrar SesiÃ³n
                                    </button>
                                </>
                            ) : (
                                <Link to="/login" className="btn-primary-header">
                                    <FaSignInAlt /> Iniciar SesiÃ³n
                                </Link>
                            )}
                        </div>
                    </div>
                </nav>
            </header>

            {/* --- CONTENIDO PRINCIPAL --- */}
            <main className="info-main-section">
                <div className="info-container">
                    <Link to="/" className="info-back-link">
                        <FaArrowLeft /> Volver al inicio
                    </Link>

                    <div className="info-card">
                        <h1 className="info-title">{info.titulo}</h1>
                        <div className="info-divider"></div>
                        
                        <div className="info-content-body">
                            <p className="info-highlight">
                                {info.texto}
                            </p>
                            
                            {info.detalles && info.detalles.length > 0 && (
                                <>
                                    <h3>InformaciÃ³n Importante</h3>
                                    <ul>
                                        {info.detalles.map((detalle, index) => (
                                            <li key={index}>{detalle}</li>
                                        ))}
                                    </ul>
                                </>
                            )}
                            
                            {info.contenidoAdicional && (
                                <p>
                                    {info.contenidoAdicional}
                                </p>
                            )}
                        </div>
                    </div>
                </div>
            </main>

            <Footer_Landing />
        </div>
    );
}

export default InfoPages;
--- FILE: C:\Workspace\ecommerce-front\src\landing\pages\Landing.jsx ---
import { Link, useNavigate } from "react-router-dom";
import { useAuth } from "../../tienda/contexts/AuthContext.jsx";
import { FaStore, FaShoppingBag, FaUser, FaSignOutAlt, FaSignInAlt, FaRocket, FaBox, FaShoppingCart, FaChartLine, FaCreditCard, FaShieldAlt, FaUserPlus } from "react-icons/fa";
import "../styles/Footer_Landing.css";
import "../../MainStyles.css";
import "../styles/Landing.css";

import Footer_Landing from "../components/Footer_Landing.jsx";

/**
 * Componente Landing
 * 
 * PÃ¡gina inicial de la aplicaciÃ³n. Muestra informaciÃ³n general
 * y permite navegar a las tiendas o iniciar sesiÃ³n.
 * DiseÃ±o basado en landing
 */
function Landing() {
    const { isAuthenticated, usuario, logout } = useAuth();
    const navigate = useNavigate();

    const handleLogout = () => {
        logout();
        navigate("/", { replace: true });
    };

    const scrollToFeatures = (e) => {
        e.preventDefault();
        const featuresSection = document.getElementById("features");
        if (featuresSection) {
            featuresSection.scrollIntoView({ behavior: "smooth" });
        }
    };

    return (
        <div className="landing-page">
            {/* Header de navegaciÃ³n */}
            <header className="landing-header">
                <nav className="landing-nav">
                    <Link to="/" className="landing-logo">
                        <FaStore />
                        <h1>TradioGlobal</h1>
                    </Link>
                    <div className="landing-nav-container">
                        <div className="landing-nav-links-container">
                            <a href="#features" onClick={scrollToFeatures} className="landing-nav-link">
                                CaracterÃ­sticas
                            </a>
                            <Link to="/info/acerca" className="landing-nav-link">Acerca de</Link>
                            <Link to="/info/ayuda" className="landing-nav-link">Soporte</Link>
                        </div>
                        <div className="landing-nav-actions">
                            <Link to="/tiendas" className="btn-secondary-header">
                                <FaShoppingBag />
                                Explorar Tiendas
                            </Link>
                            {isAuthenticated ? (
                                <>
                                    <Link to="/login" className="btn-primary-header">
                                        <FaUser />
                                        Mi Cuenta
                                    </Link>
                                    <button onClick={handleLogout} className="btn-logout">
                                        <FaSignOutAlt />
                                        Cerrar SesiÃ³n
                                    </button>
                                </>
                            ) : (
                                <Link to="/login" className="btn-primary-header">
                                    <FaSignInAlt />
                                    Iniciar SesiÃ³n
                                </Link>
                            )}
                        </div>
                    </div>
                </nav>
            </header>
            {/* -------------- Header de navegaciÃ³n mobile -------------- */}
            <div className="landing-header-mobile">
                <div className="landing-nav-actions">
                    <Link to="/tiendas" className="btn-secondary-header-mobile">
                        <FaShoppingBag />
                        Explorar Tiendas
                    </Link>
                    {isAuthenticated ? (
                        <>
                            <Link to="/login" className="btn-primary-header-mobile">
                                <FaUser />
                                Mi Cuenta
                            </Link>
                            <button onClick={handleLogout} className="btn-logout-mobile">
                                <FaSignOutAlt />
                                Cerrar SesiÃ³n
                            </button>
                        </>
                    ) : (
                        <Link to="/login" className="btn-primary-header-mobile">
                            <FaSignInAlt />
                            Iniciar SesiÃ³n
                        </Link>
                    )}
                </div>
            </div>

            {/* SecciÃ³n Hero */}
            <main>
                <section className="hero-section">
                    <div className="hero-content">
                        <h1 className="hero-title">Plataforma Multitienda para Vendedores</h1>
                        <p className="hero-subtitle">
                            Crea tu propia tienda online y vende tus productos. 
                            DescubrÃ­ productos increÃ­bles de mÃºltiples tiendas en un solo lugar.
                            Gestiona tu negocio de manera eficiente y profesional.
                        </p>
                        <div className="hero-actions">
                            <Link to="/tiendas" className="btn-primary">
                                <FaShoppingBag />
                                Explorar Tiendas
                            </Link>
                            <Link to="/login" className="btn-secondary">
                                {isAuthenticated ? <FaUser /> : <FaRocket />}
                                {isAuthenticated ? "Mi Cuenta" : "Comenzar Gratis"}
                            </Link>
                        </div>
                        <div className="hero-image">
                            <div className="hero-dashboard-preview">
                                <div className="preview-header">
                                    <div className="preview-logo">
                                        <FaStore />
                                        <span>TradioGlobal</span>
                                    </div>
                                    <span>Dashboard</span>
                                </div>
                                <div className="preview-stats">
                                    <div className="preview-stat">
                                        <span className="preview-stat-number">10</span>
                                        <span className="preview-stat-label">Tiendas</span>
                                    </div>
                                    <div className="preview-stat">
                                        <span className="preview-stat-number">50</span>
                                        <span className="preview-stat-label">Usuarios</span>
                                    </div>
                                    <div className="preview-stat">
                                        <span className="preview-stat-number">120</span>
                                        <span className="preview-stat-label">Productos</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                {/* SecciÃ³n de CaracterÃ­sticas */}
                <section className="features-section" id="features">
                    <div className="features-container">
                        <h2 className="section-title">Â¿Por quÃ© elegir nuestra plataforma?</h2>
                        <p className="section-subtitle">
                            Nuestra plataforma estÃ¡ diseÃ±ada para vendedores y compradores
                            ofreciendo herramientas poderosas y fÃ¡ciles de usar.
                        </p>
                        <div className="features-grid">
                            <div className="feature-card">
                                <div className="feature-icon">
                                    <FaStore />
                                </div>
                                <h3 className="feature-title">Tu Propia Tienda</h3>
                                <p className="feature-description">
                                    Crea y personaliza tu tienda online con tu logo, 
                                    nombre y descripciÃ³n. Totalmente personalizable.
                                </p>
                            </div>
                            <div className="feature-card">
                                <div className="feature-icon">
                                    <FaBox />
                                </div>
                                <h3 className="feature-title">GestiÃ³n de Productos</h3>
                                <p className="feature-description">
                                    Administra tu catÃ¡logo de productos, categorÃ­as, 
                                    precios y stock de manera intuitiva.
                                </p>
                            </div>
                            <div className="feature-card">
                                <div className="feature-icon">
                                    <FaShoppingCart />
                                </div>
                                <h3 className="feature-title">GestiÃ³n de Pedidos</h3>
                                <p className="feature-description">
                                    Recibe y gestiona pedidos en tiempo real. 
                                    Controla el estado de cada venta desde tu panel.
                                </p>
                            </div>
                            <div className="feature-card">
                                <div className="feature-icon">
                                    <FaChartLine />
                                </div>
                                <h3 className="feature-title">EstadÃ­sticas y Reportes</h3>
                                <p className="feature-description">
                                    Visualiza tus ventas, productos mÃ¡s vendidos 
                                    y rendimiento de tu tienda con grÃ¡ficos detallados.
                                </p>
                            </div>
                            <div className="feature-card">
                                <div className="feature-icon">
                                    <FaCreditCard />
                                </div>
                                <h3 className="feature-title">Pagos Integrados</h3>
                                <p className="feature-description">
                                    IntegraciÃ³n con Mercado Pago para recibir pagos 
                                    de forma segura y rÃ¡pida.
                                </p>
                            </div>
                            <div className="feature-card">
                                <div className="feature-icon">
                                    <FaShieldAlt />
                                </div>
                                <h3 className="feature-title">Seguridad</h3>
                                <p className="feature-description">
                                    ProtecciÃ³n de datos con autenticaciÃ³n JWT 
                                    y encriptaciÃ³n avanzada.
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                {/* SecciÃ³n de Call to Action */}
                <section className="cta-section">
                    <div className="cta-container">
                        <h2 className="cta-title">Â¿Listo para comenzar a vender?</h2>
                        <p className="cta-description">
                            Unite a cientos de vendedores que ya confÃ­an en nuestra plataforma
                            para gestionar sus tiendas online de manera eficiente.
                        </p>
                        <div className="cta-actions">
                            <Link to="/tiendas" className="btn-primary-inverse">
                                <FaShoppingBag />
                                Explorar Tiendas
                            </Link>
                            <Link to="/login" className="btn-secundary-inverse">
                                {isAuthenticated ? <FaUser /> : <FaUserPlus />}
                                {isAuthenticated ? "Mi Cuenta" : "Crear Cuenta Gratis"}
                            </Link>
                        </div>
                    </div>
                </section>
            </main>

            {/* Footer */}
            <Footer_Landing />
        </div>
    );
}

export default Landing;
--- FILE: C:\Workspace\ecommerce-front\src\landing\pages\Login.jsx ---
import { useState, useEffect } from "react";
import { Link, useNavigate, useParams, useLocation } from "react-router-dom";
import { useAuth } from "../../tienda/contexts/AuthContext.jsx";
import { useNotifications } from "../../contexts/NotificationContext.jsx";

import Footer_Landing from "../components/Footer_Landing.jsx";
import "../styles/Login.css";
import "../../MainStyles.css";
import "../styles/Landing.css";

import { FaStore, FaShoppingBag } from "react-icons/fa";
import { IoPerson } from "react-icons/io5";
import { FaLock } from "react-icons/fa";
import { IoMail } from "react-icons/io5";
import { FaAddressCard } from "react-icons/fa6";

/**
 * Componente Login Unificado
 * 
 * Componente Ãºnico que maneja tanto login de vendedores como de compradores.
 * Detecta automÃ¡ticamente el contexto segÃºn la ruta:
 * - /login -> vendedor (redirige a /admin/{nombreTienda})
 * - /tienda/:nombreTienda/login -> comprador (permanece en la tienda)
 * 
 * Mantiene el diseÃ±o y funcionalidad original del Login.jsx
 */
function Login() {
    const { login, register: registerUser, setUserType, isAuthenticated, tiendaUsuario } = useAuth();
    const { success: showSuccess, error: showError } = useNotifications();
    const navigate = useNavigate();
    const location = useLocation();
    const { nombreTienda } = useParams();
    
    // Detectar automÃ¡ticamente el tipo de usuario segÃºn la ruta
    const isComprador = location.pathname.includes('/tienda/') && nombreTienda;
    const userType = isComprador ? 'comprador' : 'vendedor';
    
    const [isRegisterActive, setIsRegisterActive] = useState(false);
    const [showLoginPassword, setShowLoginPassword] = useState(false);
    const [showRegisterPassword, setShowRegisterPassword] = useState(false);
    
    // Estados para el formulario de login
    const [loginForm, setLoginForm] = useState({
        dni: '',
        email: '',
        password: ''
    });
    const [loginError, setLoginError] = useState(null);
    const [loginLoading, setLoginLoading] = useState(false);
    
    // Determinar si se debe mostrar el campo DNI en el login
    const mostrarDniEnLogin = userType === 'vendedor';
    
    // Estados para el formulario de registro
    const [registerForm, setRegisterForm] = useState({
        dni: '',
        nombre: '',
        apellido: '',
        email: '',
        password: '',
        confirmPassword: ''
    });
    const [registerError, setRegisterError] = useState(null);
    const [registerSuccess, setRegisterSuccess] = useState(false);
    const [registerLoading, setRegisterLoading] = useState(false);

    // Redirigir si ya estÃ¡ autenticado
    useEffect(() => {
        if (isAuthenticated) {
            if (userType === 'vendedor') {
                // Vendedor: redirigir al admin
                if (tiendaUsuario) {
                    const nombreTiendaAdmin = tiendaUsuario.nombreUrl || tiendaUsuario.nombreTienda;
                    if (nombreTiendaAdmin) {
                        navigate(`/admin/${nombreTiendaAdmin}`, { replace: true });
                    } else {
                        navigate("/admin/dashboard", { replace: true });
                    }
                } else {
                    navigate("/admin/dashboard", { replace: true });
                }
            } else if (userType === 'comprador' && nombreTienda) {
                // Comprador dentro de una tienda: volver a donde estaba o al catÃ¡logo
                const returnPath = location.state?.from || `/tienda/${nombreTienda}/catalogo`;
                navigate(returnPath, { replace: true });
            } else if (userType === 'comprador' && !nombreTienda) {
                // Comprador en /login: redirigir al landing
                navigate("/", { replace: true });
            } else {
                // Si estÃ¡ autenticado pero no tiene tipo definido, redirigir al landing
                navigate("/", { replace: true });
            }
        }
    }, [isAuthenticated, userType, tiendaUsuario, nombreTienda, navigate, location]);

    // Manejador para los cambios en los inputs del login
    const handleLoginChange = (e) => {
        const { name, value } = e.target;
        setLoginForm(prev => ({
            ...prev,
            [name]: value
        }));
    };

    // Manejador para el envÃ­o del formulario de login
    const handleLogin = async (e) => {
        e.preventDefault();
        setLoginError(null);
        setLoginLoading(true);
        
        try {
            // Validaciones bÃ¡sicas
            if (mostrarDniEnLogin) {
                // Solo validar DNI si es vendedor
                if (!loginForm.dni || !/^[0-9]{7,8}$/.test(loginForm.dni)) {
                    throw new Error("DNI invÃ¡lido (debe tener entre 7 y 8 dÃ­gitos)");
                }
            }
            if (!loginForm.email || !loginForm.email.includes('@')) {
                throw new Error("Email invÃ¡lido");
            }
            if (!loginForm.password || loginForm.password.length < 6) {
                throw new Error("La contraseÃ±a debe tener al menos 6 caracteres");
            }

            // Guardar tipo de usuario
            if (setUserType) {
                setUserType(userType);
            }
            localStorage.setItem("auth_userType", userType);
            
            // Preparar datos de login (solo email y password para la API)
            const credencialesLogin = {
                email: loginForm.email,
                password: loginForm.password
            };
            
            // Llamada al contexto de autenticaciÃ³n
            // Si es vendedor, pasar el DNI; si es comprador, no pasar DNI
            const dniParaLogin = mostrarDniEnLogin ? parseInt(loginForm.dni) : null;
            await login(credencialesLogin, dniParaLogin);
            
            // Mostrar notificaciÃ³n de Ã©xito (persistirÃ¡ entre navegaciones)
            showSuccess('Inicio de sesiÃ³n exitoso', 'Â¡Bienvenido de nuevo!');
            
            // RedirecciÃ³n segÃºn tipo de usuario
            setTimeout(() => {
                if (userType === 'vendedor') {
                    // Para vendedores: redirigir al admin de su tienda
                const tiendaGuardada = localStorage.getItem("auth_tienda");
                if (tiendaGuardada) {
                        try {
                            const tienda = JSON.parse(tiendaGuardada);
                            const nombreTiendaAdmin = tienda.nombreUrl || tienda.nombreTienda;
                            navigate(`/admin/${nombreTiendaAdmin}`, { replace: true });
                        } catch {
                            navigate("/admin/dashboard", { replace: true });
                        }
                    } else {
                        navigate("/admin/dashboard", { replace: true });
                    }
                } else if (userType === 'comprador') {
                    // Para compradores: volver a donde estaban o a la tienda
                    if (nombreTienda) {
                        localStorage.setItem("auth_tiendaActual", nombreTienda);
                        const returnPath = location.state?.from || `/tienda/${nombreTienda}/catalogo`;
                        navigate(returnPath, { replace: true });
                } else {
                        navigate("/", { replace: true });
                    }
                }
            }, 500);
            
        } catch (error) {
            console.error("Error en login:", error);
            
            // Mensajes de error mÃ¡s especÃ­ficos
            let errorMessage = "Error al iniciar sesiÃ³n. Verifica tus credenciales.";
            
            if (error.message) {
                if (error.message.includes('timeout') || error.message.includes('tardÃ³ demasiado')) {
                    errorMessage = "La peticiÃ³n tardÃ³ demasiado. Verifica tu conexiÃ³n a internet.";
                } else if (error.message.includes('conexiÃ³n') || error.message.includes('Network Error')) {
                    errorMessage = "Error de conexiÃ³n. Verifica que el servidor estÃ© disponible o tu conexiÃ³n a internet.";
                } else if (error.message.includes('401') || error.message.includes('403')) {
                    errorMessage = "Credenciales incorrectas. Verifica tu email y contraseÃ±a.";
                } else {
                    errorMessage = error.message;
                }
            } else if (error.response?.data?.message) {
                errorMessage = error.response.data.message;
            } else if (error.response?.status === 401 || error.response?.status === 403) {
                errorMessage = "Credenciales incorrectas. Verifica tu email y contraseÃ±a.";
            } else if (error.response?.status >= 500) {
                errorMessage = "Error del servidor. Intenta nuevamente mÃ¡s tarde.";
            }
            
            setLoginError(errorMessage);
            
            // Mostrar notificaciÃ³n de error (persistirÃ¡ entre navegaciones)
            showError('Error al iniciar sesiÃ³n', errorMessage);
        } finally {
            setLoginLoading(false);
        }
    };

    // Manejador para los cambios en los inputs del registro
    const handleRegisterChange = (e) => {
        const { name, value } = e.target;
        setRegisterForm(prev => ({
            ...prev,
            [name]: value
        }));
    };

    // Manejador para el envÃ­o del formulario de registro
    const handleRegister = async (e) => {
        e.preventDefault();
        setRegisterError(null);
        setRegisterLoading(true);
        
        try {
            // Validaciones bÃ¡sicas
            if (!registerForm.dni || registerForm.dni.length < 7) {
                throw new Error("DNI invÃ¡lido (debe tener al menos 7 dÃ­gitos)");
            }
            if (!registerForm.nombre || registerForm.nombre.trim().length === 0) {
                throw new Error("El nombre es requerido");
            }
            if (!registerForm.apellido || registerForm.apellido.trim().length === 0) {
                throw new Error("El apellido es requerido");
            }
            if (!registerForm.email || !registerForm.email.includes('@')) {
                throw new Error("Email invÃ¡lido");
            }
            
            // ValidaciÃ³n de contraseÃ±a: mÃ­nimo 6 caracteres, al menos una mayÃºscula y un nÃºmero
            if (registerForm.password.length < 6) {
                throw new Error("La contraseÃ±a debe tener al menos 6 caracteres");
            }
            if (!/[A-Z]/.test(registerForm.password)) {
                throw new Error("La contraseÃ±a debe contener al menos una letra mayÃºscula");
            }
            if (!/[0-9]/.test(registerForm.password)) {
                throw new Error("La contraseÃ±a debe contener al menos un nÃºmero");
            }
            
            // Validar que las contraseÃ±as coincidan
            if (registerForm.password !== registerForm.confirmPassword) {
                throw new Error("Las contraseÃ±as no coinciden");
            }

            // Convertir DNI a nÃºmero
            const datosRegistro = {
                ...registerForm,
                dni: parseInt(registerForm.dni)
            };

            // Guardar tipo de usuario
            if (setUserType) {
                setUserType(userType);
            }
            localStorage.setItem("auth_userType", userType);
            
            if (userType === 'comprador' && nombreTienda) {
                localStorage.setItem("auth_tiendaActual", nombreTienda);
            }

            // Llamada al contexto de autenticaciÃ³n
            await registerUser(datosRegistro);
            
            // Mostrar notificaciÃ³n de Ã©xito (persistirÃ¡ entre navegaciones)
            showSuccess(
                'Cuenta creada con Ã©xito',
                userType === 'vendedor' 
                    ? 'Â¡Bienvenido! Redirigiendo al dashboard...' 
                    : 'Â¡Bienvenido! Redirigiendo...'
            );
            
            // RedirecciÃ³n segÃºn tipo de usuario
            if (userType === 'vendedor') {
                // Para vendedores: redirigir al dashboard despuÃ©s de 2 segundos
                setRegisterSuccess(true);
                setRegisterForm({
                    dni: '',
                    nombre: '',
                    apellido: '',
                    email: '',
                    password: '',
                    confirmPassword: ''
                });
                
                setTimeout(() => {
                    setIsRegisterActive(false);
                    setRegisterSuccess(false);
                    navigate("/admin/dashboard", { replace: true });
                }, 2000);
            } else if (userType === 'comprador') {
                // Para compradores: redirigir al catÃ¡logo despuÃ©s de 2 segundos
                setRegisterSuccess(true);
                setRegisterForm({
                    dni: '',
                    nombre: '',
                    apellido: '',
                    email: '',
                    password: '',
                    confirmPassword: ''
                });
                
                setTimeout(() => {
                    setIsRegisterActive(false);
                    setRegisterSuccess(false);
                    if (nombreTienda) {
                        navigate(`/tienda/${nombreTienda}/catalogo`, { replace: true });
                    } else {
                        navigate("/", { replace: true });
                    }
                }, 2000);
            } else {
                // Por defecto: cambiar al formulario de login
            setRegisterSuccess(true);
            setRegisterForm({
                dni: '',
                nombre: '',
                apellido: '',
                email: '',
                password: ''
            });
            
            setTimeout(() => {
                setIsRegisterActive(false);
                setRegisterSuccess(false);
            }, 2000);
            }

        } catch (error) {
            console.error("Error en registro:", error);
            const errorMessage = error.response?.data?.message || 
                error.message || 
                "Error al registrar usuario";
            
            setRegisterError(errorMessage);
            
            // Mostrar notificaciÃ³n de error (persistirÃ¡ entre navegaciones)
            showError('Error al registrar', errorMessage);
        } finally {
            setRegisterLoading(false);
        }
    };

    // Textos personalizados segÃºn el tipo de usuario
    const getWelcomeText = () => {
        if (userType === 'comprador') {
            return {
                register: {
                    title: "Â¡Bienvenido!",
                    message: `Â¿AÃºn no tienes una cuenta en ${nombreTienda || 'esta tienda'}? RegÃ­strate y comienza a comprar.`,
                    button: "RegÃ­strate"
                },
                login: {
                    title: "Â¡Nos alegra verte de nuevo!",
                    message: "Â¿Ya tienes una cuenta?",
                    button: "Inicia sesiÃ³n"
                }
            };
        } else {
            return {
                register: {
                    title: "Â¡Bienvenido!",
                    message: "Â¿AÃºn no tienes una cuenta?",
                    button: "RegÃ­strate"
                },
                login: {
                    title: "Â¡Nos alegra verte de nuevo!",
                    message: "Â¿Ya tienes una cuenta?",
                    button: "Inicia sesiÃ³n"
                }
            };
        }
    };

    const welcomeTexts = getWelcomeText();

    return (
        <div>
            {/* Header de navegaciÃ³n */}
            <header className="landing-header">
                <nav className="landing-nav">
                    <Link to="/" className="landing-logo-login">
                        <FaStore />
                        <h1>TradioGlobal</h1>
                    </Link>
                    <div className="landing-nav-actions">
                        <Link to="/info/acerca" className="landing-nav-link">Acerca de</Link>
                        <Link to="/info/ayuda" className="landing-nav-link">Soporte</Link>
                        <Link to="/tiendas" className="btn-primary-login">
                            <FaShoppingBag />
                            Explorar Tiendas
                        </Link>
                    </div>
                </nav>
            </header>

            {/* Contenedor principal del login */}
            <div className="main-login-landing">
                <div className={`all-login-container ${isRegisterActive ? "active" : ""}`}>

                    {/* FORM LOGIN */}
                    <div className="login-box">
                        <form onSubmit={handleLogin}>
                            <h2>Iniciar SesiÃ³n</h2>
                            {mostrarDniEnLogin && (
                                <div className="input-box">
                                    <span className="icon">
                                        <FaAddressCard name="dni-outline" size={20}/>
                                    </span>
                                    <input 
                                        type="text" 
                                        name="dni"
                                        value={loginForm.dni}
                                        onChange={handleLoginChange}
                                        pattern="^[0-9]{7,8}$" 
                                        inputMode="numeric" 
                                        maxLength="8"
                                        title="Ingrese un DNI vÃ¡lido (solo nÃºmeros, entre 7 y 8 dÃ­gitos)"
                                        required 
                                    />
                                    <label>DNI</label>
                                </div>
                            )}
                            <div className="input-box">
                                <span className="icon">
                                    <IoMail name="mail-outline" size={20}/>
                                </span>
                                <input 
                                    type="email" 
                                    name="email"
                                    value={loginForm.email}
                                    onChange={handleLoginChange}
                                    required 
                                />
                                <label>Email</label>
                            </div>
                            <div className="input-box">
                                <span className="icon">
                                    <FaLock name="lock-closed-outline" size={18}/>
                                </span>
                                <input 
                                    type={showLoginPassword ? "text" : "password"}
                                    name="password"
                                    value={loginForm.password}
                                    onChange={handleLoginChange}
                                    required 
                                />
                                <label>ContraseÃ±a</label>
                            </div>
                            <div className="password-details">
                                <label>
                                    <input 
                                        type="checkbox"
                                        checked={showLoginPassword}
                                        onChange={(e) => setShowLoginPassword(e.target.checked)}
                                    />
                                    Mostrar contraseÃ±a
                                </label>
                            </div>
                            <div className="submit-button-contenedor">
                                <button type="submit" disabled={loginLoading}>
                                    {loginLoading ? "Iniciando sesiÃ³n..." : "Iniciar SesiÃ³n"}
                                </button>
                                {loginError && (
                                    <div className="error-message" style={{ color: 'red', marginTop: '10px', textAlign: 'center' }}>
                                        {loginError}
                                    </div>
                                )}
                            </div>
                                <Link to="/forgot-password" className="password-forgot">
                                Â¿Olvidaste tu contraseÃ±a?
                                </Link>
                        </form>
                    </div>

                    {/* FORM REGISTRO */}
                    <div className="register-box">
                        <form onSubmit={handleRegister}>
                            <h2>Registrarse</h2>
                            <div className="input-box">
                                <span className="icon">
                                    <FaAddressCard name="dni-outline" size={20}/>
                                </span>
                                <input 
                                    type="text" 
                                    name="dni"
                                    value={registerForm.dni}
                                    onChange={handleRegisterChange}
                                    pattern="^[0-9]{7,8}$" 
                                    inputMode="numeric" 
                                    maxLength="8"
                                    title="Ingrese un DNI vÃ¡lido (solo nÃºmeros, entre 7 y 8 dÃ­gitos)"
                                    required 
                                    />
                                <label>DNI</label>
                            </div>
                            <div className="input-box">
                                <span className="icon">
                                    <IoPerson name="mail-outline" size={20}/>
                                </span>
                                <input 
                                    type="text" 
                                    name="nombre"
                                    value={registerForm.nombre}
                                    onChange={handleRegisterChange}
                                    required
                                    />
                                <label>Nombre</label>
                            </div>
                            <div className="input-box">
                                <span className="icon">
                                    <IoPerson name="mail-outline" size={20}/>
                                </span>
                                <input 
                                    type="text" 
                                    name="apellido"
                                    value={registerForm.apellido}
                                    onChange={handleRegisterChange}
                                    required
                                    />
                                <label>Apellido</label>
                            </div>
                            <div className="input-box">
                                <span className="icon">
                                    <IoMail name="mail-outline" size={20}/>
                                </span>
                                <input 
                                    type="email" 
                                    name="email"
                                    value={registerForm.email}
                                    onChange={handleRegisterChange}
                                    required 
                                    />
                                <label>Email</label>
                            </div>
                            <div className="input-box">
                                <span className="icon">
                                    <FaLock name="lock-closed-outline" size={18}/>
                                </span>
                                <input 
                                    type={showRegisterPassword ? "text" : "password"}
                                    name="password"
                                    value={registerForm.password}
                                    onChange={handleRegisterChange}
                                    required 
                                    />
                                <label>ContraseÃ±a</label>
                            </div>
                            <div className="input-box">
                                <span className="icon">
                                    <FaLock name="lock-closed-outline" size={18}/>
                                </span>
                                <input 
                                    type={showRegisterPassword ? "text" : "password"}
                                    name="confirmPassword"
                                    value={registerForm.confirmPassword}
                                    onChange={handleRegisterChange}
                                    required 
                                    />
                                <label>Confirmar ContraseÃ±a</label>
                            </div>
                            <div className="password-details">
                                <label>
                                    <input 
                                        type="checkbox"
                                        checked={showRegisterPassword}
                                        onChange={(e) => setShowRegisterPassword(e.target.checked)}
                                        />
                                    Mostrar contraseÃ±a
                                </label>
                            </div>
                            <small style={{ color: '#666', fontSize: '0.85rem', marginTop: '-10px', marginBottom: '10px', display: 'block' }}>
                                La contraseÃ±a debe tener mÃ­nimo 6 caracteres, al menos una letra mayÃºscula y un nÃºmero.
                            </small>
                            <div className="submit-button-contenedor">
                                <button type="submit" disabled={registerLoading}>
                                    {registerLoading ? "Registrando..." : "Registrarse"}
                                </button>

                            {registerError && (
                                <div className="error-message" style={{ color: 'red', marginTop: '10px', textAlign: 'center' }}>
                                    {registerError}
                                </div>
                            )}
                            {registerSuccess && (
                                <div className="success-message" style={{ color: 'green', marginTop: '10px', textAlign: 'center' }}>
                                        Â¡Registro exitoso! {userType === 'vendedor' ? 'Redirigiendo al dashboard...' : 'Redirigiendo...'}
                                </div>
                            )}
                            </div>
                        </form>
                    </div>

                    {/* CONTENEDOR DE BIENVENIDA */}
                    <div className="container-welcome">
                        {/* Panel para el registro */}
                        <div className={`welcome-panel welcome-register ${isRegisterActive ? "hidden" : "visible"}`} aria-hidden={isRegisterActive}>
                            <h2>{welcomeTexts.register.title}</h2>
                            <p>{welcomeTexts.register.message}</p>
                            <button type="button" className="welcome-btn" onClick={() => setIsRegisterActive(true)}>
                                {welcomeTexts.register.button}
                            </button>
                        </div>
                        {/* Panel para el login */}
                        <div className={`welcome-panel welcome-login ${isRegisterActive ? "visible" : "hidden"}`} aria-hidden={!isRegisterActive}>
                            <h2>{welcomeTexts.login.title}</h2>
                            <p>{welcomeTexts.login.message}</p>
                            <button type="button" className="welcome-btn" onClick={() => setIsRegisterActive(false)}>
                                {welcomeTexts.login.button}
                            </button>
                        </div>
                    </div>
                </div>

                {/* BotÃ³n mÃ³vil para cambiar entre login y registro (fuera del contenedor) */}
                <div className="mobile-toggle-btn-container">
                    <p className="mobile-toggle-text">
                        {isRegisterActive ? welcomeTexts.login.message : welcomeTexts.register.message}
                    </p>
                    <button 
                        type="button" 
                        className="mobile-toggle-btn"
                        onClick={() => setIsRegisterActive(!isRegisterActive)}
                    >
                        {isRegisterActive ? welcomeTexts.login.button : welcomeTexts.register.button}
                    </button>
                </div>
            </div>
            <Footer_Landing />
        </div>
    );
}

export default Login;
--- FILE: C:\Workspace\ecommerce-front\src\landing\pages\RestablecerContrasenia.jsx ---
import { useState, useEffect } from 'react';
import { useSearchParams, useNavigate } from 'react-router-dom';
import { resetPassword } from '../../tienda/services/auth'; 
import '../styles/Auth.css';

const RestablecerContrasenia = () => {
  const [searchParams] = useSearchParams();
  const navigate = useNavigate();
  const token = searchParams.get('token'); 

  const [passwords, setPasswords] = useState({ password: '', confirmPassword: '' });
  const [error, setError] = useState('');
  const [mensaje, setMensaje] = useState('');
  const [loading, setLoading] = useState(false);

  useEffect(() => {
    if (!token) setError('Token invÃ¡lido o expirado.');
  }, [token]);

  const handleChange = (e) => {
    setPasswords({ ...passwords, [e.target.name]: e.target.value });
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    setError('');

    if (passwords.password !== passwords.confirmPassword) {
      setError('Las contraseÃ±as no coinciden.');
      return;
    }
    // ValidaciÃ³n de contraseÃ±a: mÃ­nimo 6 caracteres, al menos una mayÃºscula y un nÃºmero
    if (passwords.password.length < 6) {
        setError('La contraseÃ±a debe tener al menos 6 caracteres.');
        return;
    }
    if (!/[A-Z]/.test(passwords.password)) {
        setError('La contraseÃ±a debe contener al menos una letra mayÃºscula.');
        return;
    }
    if (!/[0-9]/.test(passwords.password)) {
        setError('La contraseÃ±a debe contener al menos un nÃºmero.');
        return;
    }

    setLoading(true);
    try {
      await resetPassword({ token, newPassword: passwords.password });
      setMensaje('Â¡ContraseÃ±a actualizada con Ã©xito!');
      setTimeout(() => navigate('/login'), 3000);
    } catch (err) {
      const errorMsg = err.response?.data?.message || 'Error al restablecer la contraseÃ±a.';
      setError(errorMsg);
    } finally {
      setLoading(false);
    }
  };

  if (!token) return (
    <div className="auth-container">
        <div className="auth-card">
            <div className="msg-box msg-error">Error: No se encontrÃ³ el token de seguridad.</div>
        </div>
    </div>
  );

  return (
    <div className="auth-container">
      <div className="auth-card">
        <h2 className="auth-title">Nueva ContraseÃ±a</h2>
        <p className="auth-subtitle">Crea una contraseÃ±a nueva y segura.</p>

        {mensaje ? (
          <div className="msg-box msg-success">
            <div>
                <p><strong>{mensaje}</strong></p>
                <p style={{fontSize: '0.8rem'}}>Redirigiendo al login...</p>
            </div>
          </div>
        ) : (
          <form onSubmit={handleSubmit}>
            <div className="form-group">
              <input
                type="password"
                name="password"
                className="form-input"
                placeholder="MÃ­nimo 6 caracteres, una mayÃºscula y un nÃºmero"
                value={passwords.password}
                onChange={handleChange}
                required
              />
            </div>

            <div className="form-group">
              <input
                type="password"
                name="confirmPassword"
                className={`form-input ${passwords.confirmPassword && passwords.password !== passwords.confirmPassword ? 'error-border' : ''}`}
                placeholder="Confirmar contraseÃ±a"
                value={passwords.confirmPassword}
                onChange={handleChange}
                required
              />
            </div>

            {error && <div className="msg-box msg-error">âš ï¸ {error}</div>}

            <button type="submit" disabled={loading} className="btn-primary-auth">
              {loading ? 'Actualizando...' : 'Cambiar ContraseÃ±a'}
            </button>
          </form>
        )}
      </div>
    </div>
  );
};

export default RestablecerContrasenia;
--- FILE: C:\Workspace\ecommerce-front\src\landing\pages\SolicitarRecuperacion.jsx ---
import { useState } from 'react';
import { Link } from 'react-router-dom';
import { forgotPassword } from '../../tienda/services/auth'; 
import '../styles/Auth.css'; 

const SolicitarRecuperacion = () => {
  const [email, setEmail] = useState('');
  const [dni, setDni] = useState('');
  const [mensaje, setMensaje] = useState('');
  const [error, setError] = useState('');
  const [loading, setLoading] = useState(false);

  const handleSubmit = async (e) => {
    e.preventDefault();
    setLoading(true);
    setError('');
    setMensaje('');

    try {
      await forgotPassword({ dni, email });
      setMensaje('Â¡Solicitud enviada! Si los datos son correctos, recibirÃ¡s un correo.');
    } catch (err) {
      const errorMsg = err.response?.data?.message || 'Error al validar los datos. Verifica tu DNI y Email.';
      setError(errorMsg);
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="auth-container">
      <div className="auth-card">
        <h2 className="auth-title">Recuperar ContraseÃ±a</h2>
        <p className="auth-subtitle">Ingresa tu DNI y correo electrÃ³nico para validar tu identidad.</p>

        {mensaje ? (
          <div className="msg-box msg-success">
            <span>âœ… {mensaje}</span>
            <div style={{marginLeft: 'auto'}}>
                <Link to="/login" className="auth-link">Volver al Login</Link>
            </div>
          </div>
        ) : (
          <form onSubmit={handleSubmit}>
            <div className="form-group">
                <input
                id="dni"
                name="dni"
                type="text"            
                inputMode="numeric"    
                pattern="[0-9]*"        
                required
                className="form-input"
                placeholder="Ingresa tu DNI"
                value={dni}
                onChange={(e) => {
                    const soloNumeros = e.target.value.replace(/\D/g, '');
                    setDni(soloNumeros);
                }}
                maxLength={10} 
                />
            </div>

            <div className="form-group">
                <input
                  type="email"
                  required
                  className="form-input"
                  placeholder="tucorreo@ejemplo.com"
                  value={email}
                  onChange={(e) => setEmail(e.target.value)}
                />
            </div>

            {error && <div className="msg-box msg-error">âš ï¸ {error}</div>}
            <button type="submit" disabled={loading} className="btn-primary-auth">
                {loading ? 'Enviando...' : 'Enviar solicitud'}
            </button>

            <div className="auth-footer">
              <Link to="/login" className="auth-link">Cancelar y volver</Link>
            </div>
          </form>
        )}
      </div>
    </div>
  );
};

export default SolicitarRecuperacion;
--- FILE: C:\Workspace\ecommerce-front\src\landing\styles\Auth.css ---
/* src/landing/styles/Auth.css */

/* --- 1. FONDO Y CONTENEDOR --- */
.auth-container {
    /* border: 2px solid red; */
    margin: 0 auto;
    background: var(--gradient-sky, linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)); 
    min-height: 100vh;
    width: 100vw;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: var(--font-family, 'Segoe UI', sans-serif);
}

/* --- 2. TARJETA --- */
.auth-card {
    background-color: var(--bg-light-primary, #ffffff);
    width: 90%;
    max-width: 450px;
    padding: 40px;
    border-radius: var(--border-radius-2xl, 20px);
    box-shadow: var(--shadow-2xl, 0 25px 50px -12px rgba(0, 0, 0, 0.25));
    display: flex;
    flex-direction: column;
    position: relative;
    border: 1px solid rgba(255, 255, 255, 0.5); 
}

/* --- 3. TEXTOS --- */
.auth-title {
    font-size: var(--font-size-3xl, 1.8rem);
    font-weight: var(--font-weight-bold, 700);
    color: var(--text-gray-1, #1f2937);
    margin-bottom: 10px;
    text-align: center;
}

.auth-subtitle {
    text-align: center;
    color: var(--text-gray-3, #6b7280);
    font-size: var(--font-size-sm, 0.9rem);
    margin-bottom: 30px;
}

/* --- 4. INPUTS --- */
.form-group {
    margin-bottom: 20px;
}

.form-input {
    width: 100%;
    padding: 12px 15px;
    background: transparent;
    border: 1px solid var(--gray-200, #e5e7eb);
    border-radius: 8px;
    font-size: var(--font-size-base, 1rem);
    color: var(--text-gray-1, #1f2937);
    outline: none;
    transition: all 0.3s ease;
    box-sizing: border-box; 
}

.form-input:focus {
    border-color: var(--blue-600, #2563eb);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

.form-input::placeholder {
    color: var(--text-gray-4, #9ca3af);
}

/* --- 5. BOTONES --- */
.btn-primary-auth {
    width: 100%;
    margin-top: 10px;
    padding: 12px 28px;
    background: var(--blue-800, #1e40af);
    color: var(--text-white, #ffffff);
    border-radius: var(--border-radius-full, 9999px);
    border: none;
    cursor: pointer;
    font-weight: var(--font-weight-bold, 700);
    font-size: var(--font-size-base, 1rem);
    box-shadow: var(--shadow-blue, 0 4px 6px -1px rgba(30, 64, 175, 0.3));
    transition: all 0.3s ease;
}


.btn-primary-auth:hover {
    background: var(--blue-500, #3b82f6);
    transform: translateY(-2px);
    box-shadow: 0 10px 15px -3px rgba(30, 64, 175, 0.4);
}


.btn-primary-auth:disabled {
    background: var(--gray-400, #9ca3af);
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

/* --- 6. LINKS Y FOOTER --- */
.auth-footer {
    text-align: center;
    margin-top: 25px;
}

.auth-link {
    color: var(--blue-600, #2563eb);
    text-decoration: none;
    font-weight: 600;
    font-size: 0.9rem;
    transition: color 0.2s;
}

.auth-link:hover {
    color: var(--blue-800, #1e3a8a);
    text-decoration: underline;
}

/* --- 7. MENSAJES DE ESTADO --- */
.msg-box {
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 20px;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 10px;
    animation: fadeIn 0.5s ease;
}

.msg-success {
    background-color: #ecfdf5;
    color: #065f46;
    border: 1px solid #a7f3d0;
}

.msg-error {
    background-color: #fef2f2;
    color: #991b1b;
    border: 1px solid #fecaca;
}

/* Eliminar flechas en inputs numÃ©ricos */
input[type=number]::-webkit-inner-spin-button, 
input[type=number]::-webkit-outer-spin-button { 
    -webkit-appearance: none; 
    margin: 0; 
}
input[type=number] {
    -moz-appearance: textfield;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* ============================== RESPONSIVE ============================== */

/*-----seccion RESPONSIVA CONTENEDOR-------*/
@media (max-width: 768px) {
    .auth-container {
        padding: var(--padding-md);
    }
}

@media (max-width: 480px) {
    .auth-container {
        padding: var(--padding-sm);
        align-items: flex-start;
        padding-top: var(--padding-lg);
    }
}

/*-----seccion RESPONSIVA TARJETA-------*/
@media (max-width: 768px) {
    .auth-card {
        width: 100%;
        padding: 30px 20px;
        max-width: 100%;
    }
}

@media (max-width: 480px) {
    .auth-card {
        padding: 25px 15px;
        border-radius: var(--border-radius-lg);
    }
}

/*-----seccion RESPONSIVA TEXTOS-------*/
@media (max-width: 768px) {
    .auth-title {
        font-size: var(--font-size-2xl);
    }
    
    .auth-subtitle {
        font-size: var(--font-size-xs);
        margin-bottom: 20px;
    }
}

@media (max-width: 480px) {
    .auth-title {
        font-size: var(--font-size-xl);
        margin-bottom: 8px;
    }
    
    .auth-subtitle {
        font-size: 0.8rem;
        margin-bottom: 20px;
    }
}

/*-----seccion RESPONSIVA INPUTS-------*/
@media (max-width: 768px) {
    .form-group {
        margin-bottom: 15px;
    }
    
    .form-input {
        padding: 10px 12px;
        font-size: var(--font-size-sm);
    }
}

@media (max-width: 480px) {
    .form-input {
        padding: 10px;
    }
}

/*-----seccion RESPONSIVA BOTONES-------*/
@media (max-width: 768px) {
    .btn-primary-auth {
        padding: 12px 20px;
        font-size: var(--font-size-sm);
    }
}

@media (max-width: 480px) {
    .btn-primary-auth {
        padding: 14px 20px;
    }
}

/*-----seccion RESPONSIVA MENSAJES-------*/
@media (max-width: 768px) {
    .msg-box {
        padding: 12px;
        font-size: var(--font-size-xs);
    }
}
--- FILE: C:\Workspace\ecommerce-front\src\landing\styles\ExplorarTiendas.css ---
.explorar-page {
    min-height: 100vh;
    background-color: var(--gray-50);
    font-family: var(--font-family-Teachers);
}

.explorar-main {
    max-width: 1200px;
    margin: 0 auto;
    padding: 40px 20px;
    min-height: calc(100vh - 200px);
}

.explorar-hero {
    text-align: center;
    margin-bottom: 50px;
}

.explorar-title {
    color: var(--text-gray-1);
    margin-bottom: 10px;
    font-size: 2.5rem;
}

.explorar-subtitle {
    color: var(--text-gray-4);
    font-size: 1.1rem;
}

/* Grid */
.tiendas-grid {
    /* border: 3px solid red; */
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 30px;
}

.tienda-card {
    background: white;
    border: 1px solid rgb(196, 196, 196);
    border-radius: 15px;
    overflow: hidden;
    text-decoration: none;
    box-shadow: var(--shadow-sm);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    display: flex;
    flex-direction: column;
    height: 320px; /* Altura fija para uniformidad */
}

.tienda-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-xl);
}

.tienda-card-banner {
    max-height: 100px;
    height: 100px;
    background-color: var(--gray-200);
    overflow: hidden;
}

.tienda-card-banner img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.banner-placeholder {
    width: 100%;
    height: 100%;
    background: var(--gradient-blue-soft);
}

.tienda-card-content {
    padding: 20px;
    padding-top: 40px;
    position: relative;
    text-align: center;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.tienda-logo-wrapper {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: white;
    padding: 4px;
    position: absolute;
    top: -40px;
    left: 50%;
    transform: translateX(-50%);
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.tienda-logo {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
    background-color: white;
}

.tienda-nombre {
    margin: 10px 0 5px 0;
    color: var(--text-gray-1);
    font-size: 1.3rem;
    font-weight: bold;
}

.tienda-desc {
    color: var(--text-gray-4);
    font-size: 0.9rem;
    line-height: 1.4;
    margin-bottom: 15px;
    flex-grow: 1;
}

.btn-visitar {
    background-color: var(--blue-600);
    color: white;
    padding: 8px 20px;
    border-radius: 20px;
    font-weight: bold;
    font-size: 0.9rem;
    transition: background-color 0.2s;
}

.tienda-card:hover .btn-visitar {
    background-color: var(--blue-700);
}

.explorar-loading, .explorar-error, .explorar-empty {
    text-align: center;
    padding: 50px;
    font-size: 1.2rem;
    color: var(--text-gray-4);
}

.btn-crear {
    display: inline-block;
    margin-top: 20px;
    padding: 10px 25px;
    background-color: var(--blue-600);
    color: white;
    text-decoration: none;
    border-radius: 8px;
    font-weight: bold;
}

/* ============================== RESPONSIVE ============================== */

/*-----seccion RESPONSIVA CONTENEDOR-------*/
@media (max-width: 768px) {
    .explorar-main {
        padding: 30px 15px;
    }
}

@media (max-width: 480px) {
    .explorar-main {
        padding: 20px 10px;
    }
}

/*-----seccion RESPONSIVA HERO-------*/
@media (max-width: 768px) {
    .explorar-hero {
        margin-bottom: 30px;
    }
    
    .explorar-title {
        font-size: 2rem;
    }
    
    .explorar-subtitle {
        font-size: 1rem;
    }
}

@media (max-width: 480px) {
    .explorar-title {
        font-size: 1.5rem;
    }
    
    .explorar-subtitle {
        font-size: 0.9rem;
    }
}

/*-----seccion RESPONSIVA GRID-------*/

@media (max-width: 768px) {
    .tiendas-grid {
        grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
        gap: 20px;
    }
}

@media (max-width: 480px) {
    .tiendas-grid {
        margin: 0px 10px 10px 10px;
        grid-template-columns: 1fr;
        gap: 15px;
    }
}

/*-----seccion RESPONSIVA HEADER MOBILE-------*/
@media (max-width: 480px) {
    .landing-header-mobile {
        display: block !important;
        padding: var(--padding-md);
        background-color: var(--bg-light-primary);
        position: sticky;
        top: 0;
        z-index: var(--z-sticky);
    }
    
    .btn-primary-header, .landing-nav-link-mobile {
        display: none !important;
    }
    
    .btn-primary-header-mobile, 
    .btn-secondary-header-mobile, 
    .btn-logout-mobile {
        width: 170px;
        margin: 0 auto;
        text-align: center;
        justify-content: center;
    }
}   

/*-----seccion RESPONSIVA TARJETAS-------*/
@media (max-width: 768px) {
    .tienda-card {
        height: auto;
        min-height: 280px;
    }
    
    .tienda-card-content {
        padding: 15px;
        padding-top: 35px;
    }
    
    .tienda-logo-wrapper {
        width: 70px;
        height: 70px;
        top: -35px;
    }
    
    .tienda-nombre {
        font-size: 1.1rem;
    }
    
    .tienda-desc {
        font-size: 0.85rem;
    }
    
    .btn-visitar {
        padding: 6px 16px;
        font-size: 0.85rem;
    }
}

@media (max-width: 480px) {
    .tienda-card {
        min-height: 260px;
    }
    
    .tienda-card-banner {
        max-height: 80px;
        height: 80px;
    }
    
    .tienda-card-content {
        padding: 12px;
        padding-top: 30px;
    }
    
    .tienda-logo-wrapper {
        width: 60px;
        height: 60px;
        top: -30px;
    }
    
    .tienda-nombre {
        font-size: 1rem;
        margin: 8px 0 4px 0;
    }
    
    .tienda-desc {
        font-size: 0.8rem;
        margin-bottom: 10px;
    }
    
    .btn-visitar {
        padding: 6px 14px;
        font-size: 0.8rem;
    }
    
    .btn-crear {
        padding: 8px 20px;
        font-size: 0.9rem;
    }
}

/*-----seccion RESPONSIVA MENSAJES-------*/
@media (max-width: 768px) {
    .explorar-loading, 
    .explorar-error, 
    .explorar-empty {
        padding: 30px 15px;
        font-size: 1rem;
    }
}
--- FILE: C:\Workspace\ecommerce-front\src\landing\styles\Footer_Landing.css ---
/* Footer */
.footer {
    background: var(--gray-800);
    color: var(--text-white);
    padding: var(--margin-lg) var(--padding-xl) var(--padding);
}

.footer-container {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--gap-xl);
    /* margin-bottom: var(--margin-xl); */
}

.footer-section h3 {
    margin-bottom: var(--margin);
    color: var(--icon-color-blue);
}

.footer-section p {
    margin-bottom: var(--margin);
    color: var(--text-gray-4);
}

.footer-section a {
    color: var(--text-gray-4);
    text-decoration: none;
    transition: var(--main-transition-fast);
}

.footer-section a:hover {
    color: var(--icon-color-blue);
}

.footer-bottom {
    max-width: 1200px;
    margin: 0 auto;
    border-top: var(--border-width-sm) solid rgba(255, 255, 255, 0.1);
    text-align: center;
    color: var(--text-gray-3);
}

.link-to-landing {
    display: flex;
    align-items: center;
    gap: var(--gap-sm);
    text-decoration: none;
    color: var(--text-gray-4);
    transition: var(--main-transition-fast);
}

/* ============================== RESPONSIVE ============================== */

/*-----seccion RESPONSIVA FOOTER-------*/
@media (max-width: 768px) {
    .footer {
        /* border: 3px solid red; */
        padding: var(--margin-md) var(--padding-md) var(--padding-md);
    }
    
    .footer-container {
        /* border: 3px solid blue; */
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
        justify-items: center;
        gap: var(--gap-xl);
        text-align: start;
        margin: 20px 10px 0px 10px;
    }
    
    .footer-section h3 {
        /* border: 3px solid yellow; */
        font-size: var(--font-size-lg);
        margin: 0;
        padding: 0;
    }
    
    .footer-section p,
    .footer-section a {
        /* border: 3px solid purple; */
        font-size: var(--font-size-sm);
        margin: 0;
        padding: 7px 0px 5px 0px;
    }
    
    .footer-bottom {
        /* border: 3px solid rgb(255, 0, 0); */
        padding-top: var(--padding-md);
        font-size: var(--font-size-xs);
    }
}


@media (max-width: 480px) {
    .footer {
        /* border: 3px solid red; */
        padding: var(--margin-md) var(--padding-md) var(--padding-md);
    }
    
    .footer-container {
        /* border: 3px solid blue; */
        grid-template-columns: 1fr;
        gap: var(--gap-lg);
        text-align: start;
    }
    
    .footer-section {
        /* border: 3px solid green; */
        width: 100%;
    }

    .footer-section h3 {
        /* border: 3px solid yellow; */
        font-size: var(--font-size-lg);
        margin: 0;
        padding: 0;
    }
    
    .footer-section p,
    .footer-section a {
        /* border: 3px solid purple; */
        font-size: var(--font-size-sm);
        margin: 0;
        padding: 7px 0px 5px 0px;
    }
    
    .footer-bottom {
        /* border: 3px solid rgb(255, 0, 0); */
        padding-top: var(--padding-md);
        font-size: var(--font-size-xs);
    }
}

/* Footer desktop: distribuir columnas con space-between */
@media (min-width: 768px) {
    .footer-container {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
    }

    .footer-section {
        max-width: 250px;
    }
}
--- FILE: C:\Workspace\ecommerce-front\src\landing\styles\InfoPages.css ---
/* Wrapper principal */
.info-page-wrapper {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    background-color: var(--gray-50); /* Fondo suave estilo landing */
}

/* SecciÃ³n principal centrada */
.info-main-section {
    flex: 1;
    padding: 60px 20px;
    display: flex;
    justify-content: center;
    /* Un degradado muy sutil opcional, similar al hero de la landing */
    background: var(--gradient-sky-light, linear-gradient(180deg, #fff 0%, var(--gray-50) 100%));
}

.info-container {
    max-width: 900px;
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

/* Enlace de volver */
.info-back-link {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    color: var(--text-gray-4);
    text-decoration: none;
    font-weight: 600;
    transition: color 0.2s;
    font-size: 0.95rem;
    align-self: flex-start;
}

.info-back-link:hover {
    color: var(--blue-600); /* Azul de la landing */
}

/* Tarjeta de contenido (Hoja de papel) */
.info-card {
    background: white;
    padding: 50px;
    border-radius: 16px;
    box-shadow: 0 4px 25px rgba(0,0,0,0.05); /* Sombra suave */
    border: 1px solid var(--gray-100);
}

/* TipografÃ­a alineada a la landing */
.info-title {
    font-size: 2.5rem;
    color: var(--text-gray-1);
    margin: 0 0 20px 0;
    font-family: var(--font-family-Teachers); /* Fuente de la app */
    font-weight: 700;
    letter-spacing: -0.02em;
}

.info-divider {
    height: 4px;
    width: 60px;
    background-color: var(--blue-500); /* Acento azul landing */
    margin-bottom: 40px;
    border-radius: 2px;
}

.info-content-body {
    font-family: var(--font-family-Inter, sans-serif); /* Fuente legible para texto largo */
    color: var(--text-gray-3);
    line-height: 1.8;
    font-size: 1.05rem;
}

.info-highlight {
    font-size: 1.2rem;
    color: var(--text-gray-2);
    font-weight: 500;
    margin-bottom: 30px;
}

.info-content-body h3 {
    color: var(--text-gray-1);
    margin-top: 30px;
    margin-bottom: 15px;
    font-size: 1.5rem;
}

.info-content-body p {
    margin-bottom: 20px;
}

.info-content-body ul {
    margin-bottom: 20px;
    padding-left: 20px;
}

.info-content-body li {
    margin-bottom: 10px;
}

/* Responsive */
@media (max-width: 768px) {
    .info-main-section {
        padding: 30px 15px;
    }

    .info-card {
        padding: 30px 20px;
    }
    
    .info-title {
        font-size: 2rem;
    }
}
--- FILE: C:\Workspace\ecommerce-front\src\landing\styles\Landing.css ---
.landing-header-mobile {
    display: none !important;
}

/* Landing Page Styles */
.landing-page {
    /* border: 1px solid red; */
    min-height: 100vh;
}

/* Header */
.landing-header {
    /* border: 10px solid red; */
    background: var(--bg-light-primary);
    box-shadow: var(--shadow-sm);
    border-bottom: 1px solid rgb(196, 196, 196);
    position: sticky;
    height: 70px;
    top: 0;
    z-index: var(--z-sticky);
}

.landing-nav {
    /* border: 1px solid red; */
    max-width: 1270px;
    height: 70px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 0;
    padding: 0 var(--padding-md);
}

.landing-logo, .landing-logo-login {
    /* border: 1px solid red; */
    max-height: 70px;
    display: flex;
    align-items: center;
    gap: var(--gap-sm);
    text-decoration: none;
    color: var(--text-gray-1);
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-bold);
}

.landing-logo svg, .landing-logo-login svg {
    font-size: var(--icon-size-lg);
    color: var(--icon-color-blue);
    flex-shrink: 0;
}

.landing-logo i, .landing-logo-login i {
    font-size: var(--icon-size-lg);
    color: var(--icon-color-blue);
}

.landing-nav-container {
    /* border: 1px solid red; */
    display: flex;
    justify-content: end;
    gap: var(--gap-lg);
}

.landing-nav-links-container {
    /* border: 1px solid red; */
    display: flex;
    align-items: center;
    justify-content: end;
    gap: var(--gap-lg);
}

.landing-nav-link {
    color: var(--text-gray-2);
    text-decoration: none;
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-medium);
    transition: var(--main-transition-all-normal);
}

.landing-nav-link:hover {
    color: var(--blue-500);
}

.landing-nav-actions {
    display: flex;
    align-items: center;
    gap: var(--gap);
    font-size: var(--font-size-sm);
}

.btn-primary, .btn-primary-login, .btn-primary-header, .btn-secondary-header, .btn-secondary, 
.btn-logout, .btn-primary-inverse, .btn-secundary-inverse, .btn-primary-header-mobile, 
.btn-secondary-header-mobile, .btn-primary-header-mobile, .btn-logout-mobile {
    /* border: 1px solid red; */
    height: 45px;
    padding: var(--padding-md) var(--padding-md);
    border: none;
    border-radius: var(--border-radius);
    font-weight: var(--font-weight-semibold);
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: var(--gap-sm);
    transition: var(--main-transition-all-normal);
    text-decoration: none;
}

.btn-primary svg, .btn-primary-login svg, .btn-secondary svg, .btn-logout svg, .btn-primary-inverse svg, 
.btn-secundary-inverse svg, .btn-primary-header-mobile svg, .btn-secondary-header-mobile svg, 
.btn-primary-header-mobile svg, .btn-logout-mobile svg {
    flex-shrink: 0;
    width: 1em;
    height: 1em;
}

.btn-primary, .btn-primary-login, .btn-primary-header, .btn-primary-header-mobile {
    background: var(--blue-500);
    color: var(--text-white);
}

.btn-primary:hover, .btn-primary-login:hover, .btn-primary-header:hover, .btn-primary-header-mobile:hover {
    background: var(--blue-700);
    transform: translateY(-2px);
}

.btn-secondary-header, .btn-secondary, .btn-secondary-header-mobile {
    background: transparent;
    color: var(--blue-500);
    border: var(--border-width) solid var(--blue-500);
}

.btn-secondary-header:hover, .btn-secondary:hover, .btn-secondary-header-mobile:hover {
    background: var(--blue-500);
    color: var(--text-white);
}

.btn-logout, .btn-logout-mobile {
    color: var(--red-500);
    background: var(--bg-overlay-red);
    font-size: var(--font-size-sm);
    border: var(--border-width) solid var(--red-400)
}

.btn-logout:hover, .btn-logout-mobile:hover {
    border: var(--border-width) solid var(--red-500);
    background: var(--red-500);
    color: var(--text-white);
}


/* Hero Section */
.hero-section {
    padding: var(--padding-4xl) var(--padding-xl);
    /* max-width: 1200px; */
    margin: 0 auto;
    background: var(--gradient-blue-vertical-soft);
    padding-top: 120px;
}


.hero-content {
    text-align: center;
}

.hero-title {
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    color: var(--text-gray-1);
    margin-bottom: var(--margin-lg);
    line-height: var(--line-height-tight);
}

.hero-subtitle {
    font-size: var(--font-size-xl);
    color: var(--text-gray-2);
    margin-bottom: var(--margin-2xl);
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
    line-height: var(--line-height-relaxed);
}

.hero-actions {
    display: flex;
    gap: var(--gap);
    justify-content: center;
    margin-bottom: var(--margin-3xl);
    flex-wrap: wrap;
}

.hero-image {
    margin-top: var(--margin-3xl);
}

.hero-dashboard-preview {
    /* border: 1px solid red; */
    background: var(--bg-light-primary);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-lg);
    padding: var(--padding-xl);
    max-width: 500px;
    margin: 0 auto;
}

.preview-header {
    /* border: 1px solid red; */
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--margin-xl);
    padding-bottom: var(--padding);
    border-bottom: var(--border-width) solid var(--border-color);
}

.preview-header {
    margin: 0px 0px 30px 0px;
    border-bottom: 1px solid rgb(138, 138, 138);
}
.preview-logo {
    /* border: 1px solid red; */
    display: flex;
    align-items: center;
    gap: var(--gap-sm);
    font-weight: var(--font-weight-semibold);
    color: var(--text-gray-1);
}

.preview-logo svg {
    flex-shrink: 0;
    width: 1.2em;
    height: 1.2em;
    color: var(--icon-color-blue);
}

.preview-stats {
    /* border: 1px solid red; */
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--gap-lg);
}

.preview-stat {
    /* border: 1px solid red; */
    text-align: center;
    background: var(--bg-light-secondary);
    border-radius: var(--border-radius);
}

.preview-stat-number {
    display: block;
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    color: var(--text-blue-light);
    margin-bottom: var(--margin-sm);
}

.preview-stat-label {
    display: block;
    color: var(--text-gray-2);
    font-size: var(--font-size-sm);
}

/* Features Section */
.features-section {
    padding: 1px;
    background: var(--gradient-blue-vertical-soft-2);
}

.features-container {
    /* border: 1px solid red; */
    max-width: 1200px;
    margin: 0 auto;
}

.section-title {
    /* border: 1px solid red; */
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    color: var(--text-gray-1);
    text-align: center;
    margin-bottom: var(--margin);
}

.section-subtitle {
    /* border: 1px solid red; */
    font-size: var(--font-size-lg);
    color: var(--text-gray-2);
    text-align: center;
    margin-bottom: var(--margin-3xl);
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.features-grid {
    /* border: 1px solid red; */
    display: flex;
    flex-flow: row wrap;
    justify-content: center;
    gap: var(--gap-xl);
}

.feature-card {
    /* border: 1px solid red; */
    max-width: 300px;
    background: var(--bg-light-secondary);
    padding: var(--padding-sm);
    border-radius: var(--border-radius-lg);
    text-align: center;
    transition: transform var(--main-transition-normal), box-shadow var(--main-transition-normal);
}

.feature-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-xl);
}

.feature-icon {
    font-size: var(--icon-size-3xl);
    color: var(--icon-color-blue);
    margin-bottom: var(--margin);
    display: flex;
    justify-content: center;
    align-items: center;
}

.feature-icon svg {
    margin-top: 10px;
    width: 1em;
    height: 1em;
    color: var(--icon-color-blue);
}


.feature-title {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-semibold);
    color: var(--text-gray-1);
    margin-bottom: var(--margin);
}

.feature-description {
    color: var(--text-gray-2);
    line-height: var(--line-height-relaxed);
}

/* CTA Section */
.cta-section {
    padding: var(--padding-4xl) var(--padding-xl);
    background: var(--gradient-vertical-violet-blue);
    color: var(--text-black);
}

.cta-container {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
}

.cta-title {
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    margin-bottom: var(--margin);
}

.cta-description {
    font-size: var(--font-size-xl);
    margin-bottom: var(--margin-2xl);
    opacity: 0.95;
}

.cta-actions {
    display: flex;
    gap: var(--gap);
    justify-content: center;
    flex-wrap: wrap;
}

.btn-primary-inverse {
    background: var(--bg-light-primary);
    color: var(--violet-600);
    color: var(--text-violet-light-2);

}

.btn-primary-inverse:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.btn-secundary-inverse {
    background: transparent;
    color: var(--text-white);
    border: var(--border-width) solid var(--text-white);
}

.btn-secundary-inverse:hover {
    background: var(--bg-light-primary);
    color: var(--text-violet-light-2);
}

/* ============================== RESPONSIVE ============================== */

/*-----seccion RESPONSIVA HEADER-------*/
@media (max-width: 1000px) {
    .btn-secondary-header {
        display: none !important;
    }
}

@media (max-width: 768px) {
    .landing-header {
        position: relative;
        height: auto;
    }
    
    .landing-nav-links-container :nth-child(1), .landing-nav-links-container :nth-child(2) {
        display: none !important;
    }
}

@media (max-width: 580px)  {
    .landing-nav-links-container :nth-child(3) {
        display: none !important;
    }
}

@media (max-width: 480px) {
    .landing-logo {
        /* border: 3px solid red; */
        font-size: var(--font-size-md);
        margin: 0 auto;
    }
    .landing-logo svg, .landing-logo-login svg {
        font-size: var(--icon-size-md);
    }

    .btn-logout {
        display: none !important;
    }

    .landing-header-mobile {
        display: block !important;
        padding: var(--padding-md);
        background-color: var(--bg-light-primary);
        position: sticky;
        top: 0;
        z-index: var(--z-sticky);
    }
    .btn-primary-header, .landing-nav-link-mobile {
        display: none !important;
    }
    .btn-primary-header-mobile, .btn-secondary-header-mobile, .btn-primary-header-mobile, .btn-logout-mobile {
        /* border: 3px solid red; */
        width: 170px;
        margin: 0 auto;
        text-align: center;
        justify-content: center;
    }
}   

/*-----seccion RESPONSIVA HERO-------*/
@media (max-width: 768px) {
    .hero-section {
        /* border: 5px solid red; */
        padding: var(--padding-xl) var(--padding-md);
        padding-bottom: 25px;
        margin-bottom: 0px;
    }
    
    .hero-title {
        /* border: 5px solid blue; */
        font-size: var(--font-size-3xl);
    }
    
    .hero-subtitle {
        /* border: 5px solid green; */
        font-size: var(--font-size-lg);
    }
    
    .hero-dashboard-preview {   
        /* border: 5px solid orange; */
        padding: var(--padding-md);
        font-size: var(--font-size-lg);
    }
    
    .preview-stat-number {
        /* border: 5px solid yellow; */
        font-size: var(--font-size-3xl);
    }

    .preview-stat-label {
        /* border: 5px solid purple; */
        font-size: var(--font-size-lg);
    }
}

@media (max-width: 480px)  {
    .hero-dashboard-preview {
        /* border: 3px solid red; */
        max-width: 350px;
    }
    .preview-stats {
        /* border: 3px solid red; */
        display: flex;
        flex-flow: column wrap;
    }
}

/*-----seccion RESPONSIVA FEATURES-------*/
@media (max-width: 768px) {
    .features-section {
        /* border: 5px solid red; */
        padding-top: 25px;
    }
    .section-title {
        /* border: 1px solid red; */
        font-size: var(--font-size-3xl);
    }
    
    .section-subtitle {
        /* border: 1px solid red; */
        font-size: var(--font-size-lg);
    }
    
    .features-grid {
        /* border: 3px solid red; */
        gap: var(--gap);
    }
}

/*-----seccion RESPONSIVA CTA-------*/
@media (max-width: 768px) {
    .cta-title {
        /* border: 3px solid red; */
        font-size: var(--font-size-3xl);
    }
    
    .cta-description {
        /* border: 3px solid blue; */
        font-size: var(--font-size-lg);
    }

    .cta-actions {
        /* border: 3px solid green; */
        flex-flow: column wrap;
    }

    .btn-primary-inverse, .btn-secundary-inverse {
        /* border: 3px solid blue; */
        width: 250px;
        margin: 0 auto;
        display: flex;
        text-align: center;
        justify-content: center;
    }
}
--- FILE: C:\Workspace\ecommerce-front\src\landing\styles\Login.css ---
.main-login-tienda {
    margin: 0 auto;
    background: var(--gradient-green-soft-2);
    height: 100vh;
    min-height: 100vh;
    width: 100vw;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    padding: 50px 0px 50px 0px;
}

.input-box-tienda input:focus + label,
.input-box-tienda input:not(:placeholder-shown) + label {
    top: -8px;
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-semibold);
    color: var(--green-600);
}

.input-box-tienda input:focus ~ .icon {
    color: var(--green-600);
}

.password-forgot-tienda {
    color: var(--green-600);
    position: relative;
    display: block;
    width:100%;
    margin-bottom: var(--margin-sm);
    right: 0;
    font-weight: var(--font-weight-semibold);
    font-size: var(--font-size-sm);
    transition: var(--main-transition-fast);
    text-align: center;
    margin-top: var(--margin-md);
    text-decoration: none;
}
.password-forgot-tienda:hover {
    color: var(--green-800);
    text-decoration: underline;
}

.submit-button-contenedor-tienda button { 
    background: var(--green-800);
    color: var(--text-white);
    width: 100%;
    margin-bottom: var(--margin-sm);
    padding: 12px 28px;
    border-radius: var(--border-radius-full);
    border: none;
    cursor: pointer;
    font-weight: var(--font-weight-bold);
    font-size:var(--font-size-base);
    box-shadow: var(--shadow-green);
    transition: var(--margin-transition-normal);
}
.submit-button-contenedor-tienda button:hover {
    background: var(--green-500);
    transform: translateY(-2px);
    box-shadow:var(--shadow-blue);
}

.container-welcome-tienda {
    position: absolute;
    top: 0;
    right: 0;
    width: 50%;
    height: 100%;
    z-index: 2; /* por debajo de los formularios */
    overflow: hidden;
    background: var(--gradient-green);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.7s cubic-bezier(.2,.8,.2,1);
    border-top-right-radius: var(--border-radius-2xl);
    border-bottom-right-radius: var(--border-radius-2xl);
}

.welcome-panel-tienda p { 
    margin: 0 0 var(--margin-xl) 0; 
    font-size: var(--font-size-base);
    line-height: var(--line-height-relaxed);
    color: var(--green-50);
}

.welcome-btn-tienda:hover {
    background: var(--white);
    color: var(--green-600);
}

@media (max-width: 880px) {    
    .mobile-toggle-btn-tienda {
        display: block !important;
        width: 100%;
        max-width: 500px;
        margin: 0;
        padding: 12px 36px;
        border-radius: var(--border-radius-full);
        border: 2px solid var(--green-600);
        background: transparent;
        color: var(--green-600);
        cursor: pointer;
        font-weight: var(--font-weight-bold);
        font-size: var(--font-size-base);
        transition: var(--main-transition-fast);
        position: relative;
        z-index: 10;
    }

    .mobile-toggle-btn-tienda:hover {
        background: var(--green-600);
        color: var(--text-white);
    
    }
}




/* ------------------- contenedor principal ------------------- */
.main-login-landing {
    margin: 0 auto;
    background: var(--gradient-blue-vertical-soft-2);
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    padding: 50px 0px 50px 0px;
}


.all-login-container {
    /* border: 2px solid red; */
    margin-left: 20px;
    margin-right: 20px;
    position: relative;
    width: 100%;
    max-width: 900px;
    height: 100%;
    max-height: 700px;
    min-height: 520px;
    overflow: hidden;
    border-radius: var(--border-radius-2xl);
    box-shadow: var(--shadow-2xl);
    background: var(--bg-light-primary); 
}

/* En mÃ³viles: permitir que el contenedor se expanda cuando estÃ¡ en modo registro */
@media (max-width: 880px) {
    .all-login-container {
        overflow: visible;
    }
    
    .all-login-container.active {
        overflow: visible;
        max-height: none !important;
    }
}

/* --- cajas de formulario (posicionadas) --- */
.login-box, .register-box {
    /* border: 2px solid blue; */
    position: absolute;
    top: 0;
    width: 50%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: transform 0.7s cubic-bezier(.2,.8,.2,1), opacity var(--transition-slow);
    z-index: 3; /* formularios encima del panel de bienvenida */
    background-color: var(--bg-light-primary);
}

/* En mÃ³viles: sin animaciÃ³n, solo mostrar/ocultar */
@media (max-width: 880px) {
    .login-box, .register-box {
        transition: none;
    }
}

/* login a la izquierda por defecto */
.login-box {
    /* border: 2px solid green;     */
    left: 0;
    transform: translateX(0);
    opacity: 1;
}

/* registro "fuera" a la derecha por defecto */
.register-box {
    /* border: 2px solid yellow; */
    right: 0;
    transform: translateX(100%);
    opacity: 0;
    overflow-y: auto;
    overflow-x: hidden;
    align-items: flex-start;
    padding: var(--padding-lg) 0;
}

/* --- cuando estamos en modo registro: login se va a la izquierda y registro entra --- */
.all-login-container.active .login-box {
    transform: translateX(-100%);
    opacity: 0;
    pointer-events: none; /* evita que el formulario oculto reciba clicks */
}

.all-login-container.active .register-box {
    transform: translateX(0%);
    opacity: 1;
    pointer-events: auto;
}

/* En mÃ³viles: sin animaciÃ³n, solo mostrar/ocultar */
@media (max-width: 880px) {
    /* Por defecto, solo mostrar login-box */
    .login-box {
        display: flex !important;
        position: relative !important;
        width: 100% !important;
        height: 100% !important;
        transform: none !important;
        opacity: 1 !important;
    }
    
    .register-box {
        display: none !important;
        position: relative !important;
        width: 100% !important;
        height: 100% !important;
        transform: none !important;
        opacity: 1 !important;
    }
    
    /* Cuando estÃ¡ activo (modo registro), mostrar register-box y ocultar login-box */
    .all-login-container.active .login-box {
        display: none !important;
    }
    
    .all-login-container.active .register-box {
        display: flex !important;
    }
    
    /* Cuando NO estÃ¡ activo (modo login), mostrar login-box y ocultar register-box */
    .all-login-container:not(.active) .login-box {
        display: flex !important;
    }
    
    .all-login-container:not(.active) .register-box {
        display: none !important;
    }
}

/* --- form interno --- */
.all-login-container form {
    width: 80%;
    max-width: 420px;
    display: flex;
    flex-direction: column;
    margin: 0 auto;
}

/* En mÃ³viles: formulario de registro ocupa todo el espacio disponible */
@media (max-width: 880px) {
    .all-login-container.active form,
    .register-box form {
        width: 90%;
        max-width: 100%;
    }
}

.all-login-container h2 {
    /*margin: 0 0 12px 0;*/
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    margin-bottom: var(--margin-lg);
    color: var(--text-gray-1);
    text-align: center;
}

/* --- inputs --- */
.input-box, .input-box-tienda {
    width: 100%;
    margin-bottom: var(--margin-lg);
    position: relative;
    border-bottom: 1px solid var(--gray-400);
}

.input-box input, .input-box-tienda input {
    width: 100%;
    height: 42px;
    background: transparent;
    border: none;
    outline: none;
    color: var(--text-gray-1);
    padding: 0 46px 0 6px;
    font-size: var(--font-size-base);
    font-family: var(--font-family);
}

.input-box label, .input-box-tienda label {
    position: absolute;
    left: 6px;
    top: 50%;
    transform: translateY(-50%);
    font-size: var(--font-size-sm);
    color: var(--text-gray-3);
    pointer-events: none;
    transition: var(--main-transition-fast);
}

.input-box input:focus + label,
.input-box input:not(:placeholder-shown) + label {
    top: -8px;
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-semibold);
    color: var(--blue-600);
}

.input-box input:focus ~ .icon {
    color: var(--blue-600);
}

/* icon */
.input-box .icon, .input-box-tienda .icon {
    position: absolute;
    right: 6%;
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-gray-4);
    font-size: var(--icon-size-md);
    transition: var(--main-transition-fast);
}


/* Mostrar contraseÃ±a */
.password-details {
    color: var(--text-gray-2);
    display: flex;
    justify-content: space-between;
    font-size: var(--font-size-sm);
    align-items: center;
    margin-bottom: var(--margin);
}

.password-details label {
    display: flex;
    align-items: center;
    gap: var(--gap-xs);
    cursor: pointer;
}

/* Recuperar contraseÃ±a */
.password-forgot {
    color: var(--blue-600);
    position: relative;
    display: block;
    width:100%;
    margin-bottom: var(--margin-sm);
    right: 0;
    font-weight: var(--font-weight-semibold);
    font-size: var(--font-size-sm);
    transition: var(--main-transition-fast);
    text-align: center;
    margin-top: var(--margin-md);
    text-decoration: none;
}
.password-forgot:hover {
    color: var(--blue-800);
    text-decoration: underline;
}

/* --- botones --- */
.submit-button-contenedor, .submit-button-contenedor-tienda { 
    margin-top: var(--margin-md); 
}

.submit-button-contenedor button { 
    background: var(--blue-800);
    color: var(--text-white);
    width: 100%;
    margin-bottom: var(--margin-sm);
    padding: 12px 28px;
    border-radius: var(--border-radius-full);
    border: none;
    cursor: pointer;
    font-weight: var(--font-weight-bold);
    font-size:var(--font-size-base);
    box-shadow: var(--shadow-blue);
    transition: var(--margin-transition-normal);
}
.submit-button-contenedor button:hover {
    background: var(--blue-500);
    transform: translateY(-2px);
    box-shadow:var(--shadow-blue);
}

.submit-button-contenedor button:disabled, .submit-button-contenedor-tienda button:disabled {
    background: var(--gray-400);
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

/* --- panel de bienvenida (ocupa la mitad derecha inicialmente) --- */
.container-welcome {
    position: absolute;
    top: 0;
    right: 0;
    width: 50%;
    height: 100%;
    z-index: 2; /* por debajo de los formularios */
    overflow: hidden;
    background: var(--gradient-blue);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.7s cubic-bezier(.2,.8,.2,1);
    border-top-right-radius: var(--border-radius-2xl);
    border-bottom-right-radius: var(--border-radius-2xl);
}

/* mover panel de bienvenida a la izquierda cuando active */
.all-login-container.active .container-welcome, .all-login-container.active .container-welcome-tienda {
    transform: translateX(-100%);
    border-radius: var(--border-radius-2xl) 0 0 var(--border-radius-2xl);
}

/* --- paneles internos de bienvenida --- */
.welcome-panel, .welcome-panel-tienda {
    position: absolute;
    width: 100%;
    padding: var(--padding-xl);
    text-align: center;
    color: var(--text-white);
    transition: opacity .45s ease, transform .45s ease;
    pointer-events: none; /* por defecto no reciben clicks */
}

/* welcome-register estÃ¡ visible por defecto */
.welcome-register {
    transform: translateX(0);
    opacity: 1;
    pointer-events: auto; /* el que estÃ¡ visible acepta clics */
}

/* welcome-login estÃ¡ oculto por defecto (se hara visible en active) */
.welcome-login {
    transform: translateX(-20%);
    opacity: 0;
    /*pointer-events: none;*/
}

/* cuando active: invertimos visibilidad */
.all-login-container.active 
.welcome-register {
    transform: translateX(20%);
    opacity: 0;
    /*pointer-events: none;*/
}

.all-login-container.active .welcome-login {
    transform: translateX(0);
    opacity: 1;
    pointer-events: auto;
}

/* --- pequeÃ±os ajustes visuales --- */
.welcome-panel h2, .welcome-panel-tienda h2 { 
    margin-bottom: var(--margin-md); 
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    color: var(--white);
}

.welcome-panel p { 
    margin: 0 0 var(--margin-xl) 0; 
    font-size: var(--font-size-base);
    line-height: var(--line-height-relaxed);
    color: var(--blue-50);

}


/* BotÃ³n "Ghost" (Transparente) dentro del panel */
.welcome-btn, .welcome-btn-tienda {
    padding: 10px 36px;
    border-radius: var(--border-radius-full);
    border: 2px solid var(--white);
    background: transparent;
    color: var(--white);
    cursor: pointer;
    font-weight: var(--font-weight-bold);
    font-size: var(--font-size-base);
    transition: var(--main-transition-fast);
}

.welcome-btn:hover {
    background: var(--white);
    color: var(--blue-600);
}

/* BotÃ³n mÃ³vil para cambiar entre login y registro (oculto por defecto) */
.mobile-toggle-btn-container {
    display: none;
}

.mobile-toggle-btn, .mobile-toggle-btn-tienda {
    display: none;
}

.mobile-toggle-text {
    display: none;
}

/* ============================== RESPONSIVE ============================== */

/*-----seccion RESPONSIVA CONTENEDOR-------*/
@media (max-width: 880px) {
    .mobile-toggle-text {
        display: block;
    }

    .main-login-landing, .main-login-tienda {
        padding: var(--padding-md);
    }

    .landing-nav-link {
        display: none !important;
    }

    .all-login-container {
        height: auto;
        padding: var(--padding-xl) var(--padding-md);
        max-width: 500px;
        width: 100%;
    }
}

@media (max-width: 480px) {
    .landing-logo-login {
        /* border: 3px solid red; */
        font-size: var(--font-size-md);
    }
    .landing-nav-login {
        display: none !important;
    }

    .landing-nav-link-login {
        display: none !important;
    }

    .btn-primary-login {
        width: 110px;
        text-align: center;
    }

    .main-login-landing, .main-login-tienda {
        padding: var(--padding-sm);
    }
    
    .all-login-container {
        padding: var(--padding-lg) var(--padding-sm);
        border-radius: var(--border-radius-lg);
    }
}

/*-----seccion RESPONSIVA FORMULARIOS-------*/
@media (max-width: 880px) {
    .main-login-landing, .main-login-tienda {
        flex-flow: column nowrap;
        height: auto;
        min-height: calc(100vh - 140px); /* Restar altura del header y footer */
        align-items: flex-start;
        padding: 80px 0 60px 0; /* Espacio para header arriba y footer abajo */
        overflow-y: auto;
        overflow-x: hidden;
    }

    .all-login-container {
        /* border: 2px solid red; */
        display: flex;
        flex-direction: column nowrap;
        position: relative;
        margin: 20px auto;
        margin-bottom: var(--margin-md);
        height: auto;
        min-height: 500px;
        max-width: 600px;
        width: calc(100% - 40px);
    }
    
    /* Cuando estÃ¡ en modo registro, expandir completamente */
    .all-login-container.active {
        height: auto !important;
        min-height: auto !important;
        max-height: none !important;
        margin-bottom: var(--margin-md);
    }
    
    .login-box,
    .register-box {
        width: 100% !important;
        position: relative !important;
        height: auto !important;
        min-height: 100%;
        overflow-y: auto;
        overflow-x: hidden;
        align-items: flex-start;
        padding: var(--padding-lg) 0;
        flex: 1;
    }
    
    .input-box, .input-box-tienda {
        /* border: 2px solid red; */
        font-size: var(--font-size-sm);
        margin-top: var(--margin-lg);
    }
    
    /* Asegurar que solo se muestre un formulario a la vez */
    .all-login-container.active .login-box {
        display: none !important;
    }
    
    .all-login-container.active .register-box {
        display: flex !important;
    }
    
    .all-login-container:not(.active) .login-box {
        display: flex !important;
    }
    
    .all-login-container:not(.active) .register-box {
        display: none !important;
    }
    
    .all-login-container h2 {
        font-size: var(--font-size-2xl);
    }
    
    .submit-button-contenedor button, .submit-button-contenedor-tienda button {
        padding: 14px 28px;
        font-size: var(--font-size-sm);
    }
}

@media (max-width: 880px) {
        /* --------------------------------- BotÃ³n mÃ³vil para cambiar entre login y registro (fuera del contenedor) --------------------------------- */
    .mobile-toggle-btn-container {
        /* border: 1px solid red;    */
        display: flex;
        flex-flow: column nowrap;
        justify-content: center;
        align-items: center;
        width: 80%;
        margin: 0 auto;
        margin-top: var(--margin-md);
        gap: var(--gap-sm);
    }
    
    .mobile-toggle-text {
        text-align: center;
        color: var(--text-gray-2);
        font-size: var(--font-size-base);
        margin: 0;
        padding: 0 var(--padding-md);
    }

    .mobile-toggle-btn {
        display: block !important;
        width: 100%;
        max-width: 500px;
        margin: 0;
        padding: 12px 36px;
        border-radius: var(--border-radius-full);
        border: 2px solid var(--blue-600);
        background: transparent;
        color: var(--blue-600);
        cursor: pointer;
        font-weight: var(--font-weight-bold);
        font-size: var(--font-size-base);
        transition: var(--main-transition-fast);
        position: relative;
        z-index: 10;
    }
    
    .mobile-toggle-btn:hover {
        background: var(--blue-600);
        color: var(--text-white);
    }
    /* ---------------------------------FIN DEL BOTON MOVIL --------------------------------- */
}



/* --------------------------------- RESPONSIVA FORMULARIOS --------------------------------- */
/* Entre 550px y 880px: mantener mÃ¡rgenes */
@media (min-width: 551px) and (max-width: 880px) {
    .all-login-container {
        max-width: 600px;
        width: calc(100% - 40px);
        margin: 20px auto;
    }
}

@media (max-width: 550px) {
    .all-login-container {
        /* border: 2px solid red; */
        width: 90%;
        max-width: 90%;
    }

    .all-login-container h2 {
        /* border: 2px solid rgb(0, 255, 213); */
        font-size: var(--font-size-3xl);
        margin: 0px 0px 20px 0px;
    }
    
    .input-box input, .input-box-tienda input {
        height: 40px;
        font-size: var(--font-size-sm);
    }
    
    .input-box label, .input-box-tienda label {
        font-size: var(--font-size-sm);
    }
    
    .password-details {
        font-size: var(--font-size-xs);
        flex-direction: column;
        align-items: flex-start;
        gap: var(--gap-xs);
    }
    
    .password-forgot, .password-forgot-tienda {
        font-size: var(--font-size-xs);
        margin-top: var(--margin-lg);
    }
}

/*-----seccion RESPONSIVA PANEL BIENVENIDA-------*/
@media (max-width: 880px) {
    .container-welcome, .container-welcome-tienda {
        display: none;
    }
}
--- FILE: C:\Workspace\ecommerce-front\src\styles\NotificationModal.css ---
/* Toast Notification - Sin overlay, posicionado en esquina superior derecha */
.notification-toast {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 10000;
    min-width: 300px;
    max-width: 400px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    animation: slideInRight 0.3s ease-out;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s, opacity 0.3s ease-out;
}

.notification-toast.closing {
    animation: slideOutRight 0.3s ease-in;
}

.notification-toast:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
}

@keyframes slideInRight {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes slideOutRight {
    from {
        transform: translateX(0);
        opacity: 1;
    }
    to {
        transform: translateX(100%);
        opacity: 0;
    }
}

.notification-toast-content {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 16px;
}

.notification-toast-icon {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    font-weight: bold;
    flex-shrink: 0;
    margin-top: 2px;
}

.notification-toast-icon.notification-success {
    background-color: #d4edda;
    color: #155724;
}

.notification-toast-icon.notification-error {
    background-color: #f8d7da;
    color: #721c24;
}

.notification-toast-icon.notification-warning {
    background-color: #fff3cd;
    color: #856404;
}

.notification-toast-icon.notification-info {
    background-color: #d1ecf1;
    color: #0c5460;
}

.notification-toast-text {
    flex: 1;
    min-width: 0;
}

.notification-toast-title {
    font-size: 14px;
    font-weight: 600;
    color: #2c3e50;
    margin-bottom: 4px;
    line-height: 1.3;
}

.notification-toast-message {
    font-size: 13px;
    color: #555;
    line-height: 1.4;
    word-wrap: break-word;
}

.notification-toast-close {
    background: none;
    border: none;
    font-size: 20px;
    color: #999;
    cursor: pointer;
    padding: 0;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: all 0.2s;
    flex-shrink: 0;
    margin-top: 2px;
}

.notification-toast-close:hover {
    background-color: #f0f0f0;
    color: #333;
}

/* Variantes de color segÃºn el tipo - borde izquierdo */
.notification-toast.notification-success {
    border-left: 4px solid #28a745;
}

.notification-toast.notification-error {
    border-left: 4px solid #dc3545;
}

.notification-toast.notification-warning {
    border-left: 4px solid #ffc107;
}

.notification-toast.notification-info {
    border-left: 4px solid #17a2b8;
}

/* Responsive */
@media (max-width: 600px) {
    .notification-toast {
        top: 10px;
        right: 10px;
        left: 10px;
        min-width: auto;
        max-width: none;
    }
}
--- FILE: C:\Workspace\ecommerce-front\src\tienda\components\CarouselImg.jsx ---
import { useState, useEffect } from "react";
import { FaChevronLeft, FaChevronRight } from "react-icons/fa";
import "../styles/CarouselImg.css";

/**
 * Componente CarouselImg
 * Reutilizado para banners principales y ahora para imÃ¡genes de productos.
 * * @param {Array<string>} images - URLs de las imÃ¡genes
 * @param {boolean} isProduct - Indica si se usa en una tarjeta de producto (deshabilita auto-slide)
 */
function CarouselImg({ images = [], isProduct = false }) {
    const [index, setIndex] = useState(0);

    // Cambio automÃ¡tico solo si NO es un producto
    useEffect(() => {
        if (isProduct) return;
        
        const interval = setInterval(() => {
            setIndex((prev) => (prev + 1) % images.length);
        }, 8000);

        return () => clearInterval(interval);
    }, [images.length, isProduct]);

    // Estilos dinÃ¡micos para la imagen
    const imageStyle = isProduct ? { 
        // Productos: Usamos 'contain' para NO deformar
        objectFit: 'contain' 
    } : {
        // Banner Principal: Usamos 'cover' para que se vea bien en mÃ³vil sin deformarse tanto,
        // o 'fill' si prefieres que se estire a la fuerza.
        objectFit: 'fill' 
    };

    return (
        // FIX: Usamos clases en lugar de estilos inline para poder hacer responsive el height
        <div className={`carousel-container ${isProduct ? 'product-mode' : 'banner-mode'}`}>
            <div
                className="carousel-track"
                style={{ 
                    transform: `translateX(-${index * 100}%)`,
                    height: '100%'
                }}
            >
                {images.map((src, i) => (
                    <div className="carousel-slide" key={i}>
                        <img 
                            src={src} 
                            alt={`slide-${i}`}
                            style={imageStyle}
                            onError={(e) => {
                                // Fallback para imÃ¡genes
                                if (!e.target.dataset.fallback) {
                                    e.target.dataset.fallback = "true";
                                    e.target.src = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Crect fill='%23ddd' width='200' height='200'/%3E%3Ctext fill='%23999' font-family='sans-serif' font-size='14' dy='10.5' font-weight='bold' x='50%25' y='50%25' text-anchor='middle'%3ESin imagen%3C/text%3E%3C/svg%3E";
                                }
                            }}
                        />
                    </div>
                ))}
            </div>

            {/* Botones izquierda/derecha */}
            {images.length > 1 && (
                <>
                    <button
                        className="carousel-btn left"
                        onClick={() => setIndex((index - 1 + images.length) % images.length)}
                    >
                        <FaChevronLeft />
                    </button>

                    <button
                        className="carousel-btn right"
                        onClick={() => setIndex((index + 1) % images.length)}
                    >
                        <FaChevronRight />
                    </button>
                </>
            )}
            
            {/* Indicadores de posiciÃ³n (opcional, pero Ãºtil) */}
            {images.length > 1 && (
                <div className="carousel-indicators">
                    {images.map((_, i) => (
                        <div 
                            key={i} 
                            className={`indicator ${i === index ? 'active' : ''}`}
                            onClick={() => setIndex(i)}
                        ></div>
                    ))}
                </div>
            )}
        </div>
    );
}

export default CarouselImg;
--- FILE: C:\Workspace\ecommerce-front\src\tienda\components\Header.jsx ---
import { Link, useParams, useLocation, useNavigate, useSearchParams } from "react-router-dom";
import { useState, useEffect } from "react";
import { useAuth } from "../contexts/AuthContext.jsx";
import { useTienda } from "../contexts/TiendaContext";
import Nav_Categories from "./Nav_Category";

import "../styles/Header.css";

import { MdOutlineShoppingCart } from "react-icons/md";
import { VscAccount } from "react-icons/vsc";
import { FaSearch } from "react-icons/fa";
import { FaTimes } from "react-icons/fa";

/**
* Componente Header
* * Renderiza el encabezado principal de la aplicaciÃ³n con navegaciÃ³n.
* Detecta automÃ¡ticamente si estÃ¡ en una tienda para usar el login correcto.
*/

function Header() {
    const { nombreTienda } = useParams();
    const location = useLocation();
    const navigate = useNavigate();
    const [searchParams] = useSearchParams();
    const { isAuthenticated, userType, tiendaUsuario, usuario } = useAuth();
    const { tienda } = useTienda();
    const [terminoBusqueda, setTerminoBusqueda] = useState('');
    
    // Si no hay nombreTienda en params, intentar extraerlo de la URL como fallback
    const tiendaSlug = nombreTienda || location.pathname.split("/")[2];
    const loginPath = tiendaSlug ? `/tienda/${tiendaSlug}/login` : "/login";
    
    // --- LÃ“GICA CORREGIDA DEL BOTÃ“N MI CUENTA ---
    let cuentaPath = loginPath;

    if (isAuthenticated) {
        // Caso 1: Es vendedor Y tiene una tienda creada -> Va al Admin
        if (userType === 'vendedor' && tiendaUsuario && tiendaUsuario.nombreUrl) {
            const adminSlug = tiendaUsuario.nombreUrl;
            cuentaPath = `/admin/${adminSlug}/dashboard`;
        } 
        // Caso 2: Es comprador O vendedor sin tienda -> Va al Perfil de Usuario
        else {
            cuentaPath = "/perfil/compras";
        }
    }

    // Obtener el nombre de la tienda (nombreFantasia) o usar un valor por defecto
    const nombreTiendaDisplay = tienda?.nombreFantasia || "TradioGlobal";
    
    // Obtener el nombre del usuario para mostrar
    const nombreUsuario = usuario?.nombre && usuario?.apellido 
        ? `${usuario.nombre} ${usuario.apellido}`
        : usuario?.nombre || usuario?.email || "Mi Cuenta";

    // Sincronizar el tÃ©rmino de bÃºsqueda con la URL
    useEffect(() => {
        const q = searchParams.get('q') || '';
        setTerminoBusqueda(q);
    }, [searchParams]);

    // Manejar bÃºsqueda
    const handleBusqueda = (e) => {
        e.preventDefault();
        if (tiendaSlug && terminoBusqueda.trim() !== '') {
            navigate(`/tienda/${tiendaSlug}/catalogo?q=${encodeURIComponent(terminoBusqueda.trim())}`);
        }
    };

    // Limpiar bÃºsqueda
    const handleLimpiarBusqueda = () => {
        setTerminoBusqueda('');
        if (location.pathname.includes('/catalogo') && tiendaSlug) {
            navigate(`/tienda/${tiendaSlug}/catalogo`);
        }
    };

    return (
        <>
            {/* Contenedor principal del header */}
            <div className="header-all-contenedor">
                <header className="header">

                    {/* Logo de la aplicaciÃ³n con enlace a la pÃ¡gina principal */}
                    <Link to={tiendaSlug ? `/tienda/${tiendaSlug}/home` : "/"} className="link-logo">
                        <div className="header-logo">
                            {tienda?.logo ? (
                                <div className="header-logo-container">
                                    <img 
                                        src={tienda.logo} 
                                        alt={nombreTiendaDisplay}
                                        className="header-logo-img"
                                    />
                                    <h1 className="header-logo-text">{nombreTiendaDisplay}</h1>
                                </div>
                            ) : (
                                <h1 className="header-logo-text">{nombreTiendaDisplay}</h1>
                            )}
                        </div>
                    </Link>

                    {/* SecciÃ³n central: Barra de bÃºsqueda de productos */}
                    <div className="header-search">
                        <form className="search-box" onSubmit={handleBusqueda}>
                            <FaSearch className="lupa"/>
                            <p style={{ margin: "0 3px", fontSize: "1.5rem", fontWeight: "500", color: "var(--green-900)" }}>|</p>
                            <input 
                                type="text" 
                                className="buscador" 
                                placeholder="Buscar productos..."
                                aria-label="Buscar productos"
                                value={terminoBusqueda}
                                onChange={(e) => setTerminoBusqueda(e.target.value)}
                            />
                            {terminoBusqueda && (
                                <button
                                    type="button"
                                    onClick={handleLimpiarBusqueda}
                                    className="search-clear-btn"
                                    aria-label="Limpiar bÃºsqueda"
                                >
                                    <FaTimes />
                                </button>
                            )}
                        </form>
                    </div>

                    {/* SecciÃ³n derecha: Enlaces a cuenta y carrito */}
                    <div className="header-right">
                        {/* Enlace a la pÃ¡gina de login/inicio de sesiÃ³n */}
                        {!isAuthenticated ? (
                            <Link 
                                to={loginPath} 
                                className="link-login"
                                state={{ from: location.pathname }}
                            >
                                <div className="cuenta-box">
                                    <VscAccount className="logo-cuenta" size={24}/>
                                    <span>Iniciar SesiÃ³n</span>
                                </div>
                            </Link>
                        ) : (
                            <Link to={cuentaPath} className="link-login">
                                <div className="cuenta-box">
                                    <VscAccount className="logo-cuenta" size={26}/>
                                    <span>{nombreUsuario}</span>
                                </div>
                            </Link>
                        )}

                        {/* Enlace al carrito de compras */}
                        <Link 
                            to={tiendaSlug ? `/tienda/${tiendaSlug}/carrito` : "/"} 
                            className="link-carrito"
                        >
                            <div className="cart-icon">
                                <MdOutlineShoppingCart size={25}/>
                            </div>
                        </Link>
                    </div>
                </header>
            </div>

            {/* Componente de navegaciÃ³n por categorÃ­as */}
            <Nav_Categories />
        </>
    );
};
export default Header;
--- FILE: C:\Workspace\ecommerce-front\src\tienda\components\Nav_Category.jsx ---
import { useEffect, useState } from "react";
import { getCategoriasByTienda } from "../services/categorias";
import { Link } from "react-router-dom";
import { useParams } from "react-router-dom";
import "../styles/Nav_Category.css";
import "../styles/Header.css";
import { FaBars } from "react-icons/fa6";
import { FaChevronRight } from "react-icons/fa";

/**
 * Convierte un nombre de categorÃ­a a un slug para la URL
 */
function categoriaToSlug(nombre) {
    return nombre
        .toLowerCase()
        .normalize("NFD")
        .replace(/[\u0300-\u036f]/g, "")
        .replace(/[^a-z0-9]+/g, "-")
        .replace(/^-+|-+$/g, "");
}

/**
* Componente Nav_Categories
*/
function Nav_Categories() {
    const { nombreTienda } = useParams();
    const [categorias, setCategorias] = useState([]);
    const [isMenuOpen, setIsMenuOpen] = useState(false);
    const [error, setError] = useState(null);

    const ordenarCategorias = (categorias) => {
        const otras = categorias.filter(cat => 
            cat.nombre.toLowerCase().trim() === 'otros'
        );
        const resto = categorias.filter(cat => 
            cat.nombre.toLowerCase().trim() !== 'otros'
        );
        return [...resto, ...otras];
    };

    useEffect(() => {
        if (!nombreTienda) {
            setError("Nombre de tienda no disponible");
            return;
        }

        getCategoriasByTienda(nombreTienda)
            .then(data => {
                let categoriasData = [];
                if (Array.isArray(data)) {
                    categoriasData = data;
                } else if (data && Array.isArray(data.content)) {
                    categoriasData = data.content;
                }
                setCategorias(ordenarCategorias(categoriasData));
            })
            .catch(err => {
                console.error("Error cargando categorÃ­as:", err);
                setError("Error cargando categorÃ­as");
            });
    }, [nombreTienda]);

    const toggleMenu = () => {
        setIsMenuOpen(!isMenuOpen);
    };

    // FunciÃ³n para cerrar el menÃº explÃ­citamente
    const closeMenu = () => {
        setIsMenuOpen(false);
    };

    return (
        <div className="main-nav"> 
            <div className="nav-cont-categ">

                {/* SecciÃ³n izquierda: BotÃ³n de menÃº hamburguesa */}
                {/* FIX: Quitamos onMouseEnter/Leave y usamos onClick para mÃ³vil */}
                <div className="nav-menu">
                    <div 
                        className="faBar-icon" 
                        onClick={toggleMenu} // Evento click funciona en web y mÃ³vil
                    >
                        <FaBars size={20}/>
                        <span>CategorÃ­as</span>
                    </div>
                    
                    {/* MenÃº desplegable */}
                    {isMenuOpen && (
                        <>
                            {/* Overlay transparente para cerrar al hacer clic afuera */}
                            <div className="menu-overlay" onClick={closeMenu}></div>
                            
                            <div className="menu-desplegable">
                                <Link 
                                    to={`/tienda/${nombreTienda}/catalogo`} 
                                    className="menu-item" 
                                    onClick={closeMenu}
                                >
                                    Todas las categorÃ­as <FaChevronRight style={{fontSize: '0.8em', marginLeft: 'auto'}}/>
                                </Link>
                                
                                {categorias.map((categoria) => (
                                    <Link 
                                        key={categoria.id} 
                                        to={`/tienda/${nombreTienda}/categoria/${categoriaToSlug(categoria.nombre)}`}
                                        className="menu-item categoria"
                                        onClick={closeMenu}
                                    >
                                        {categoria.nombre}
                                    </Link>
                                ))}

                                {error && <p className="menu-error">{error}</p>}
                            </div>
                        </>
                    )}
                </div>

                {/* Renderiza las categorÃ­as horizontales (Se ocultarÃ¡n en mÃ³vil vÃ­a CSS) */}
                <div className="desktop-categories">
                    {categorias.map((cat) => (
                        <Link 
                            key={cat.id} 
                            to={`/tienda/${nombreTienda}/categoria/${categoriaToSlug(cat.nombre)}`}
                            className="categoria-link"
                        >
                            <span className="categoria-item">{cat.nombre}</span>
                        </Link>
                    ))} 
                </div>
            </div>
        </div>
    );
}
export default Nav_Categories;
--- FILE: C:\Workspace\ecommerce-front\src\tienda\components\PedidosID.jsx ---
import { useEffect, useState } from "react";
import { getPedidoById } from "../services/pedidos";

/**
* Componente PedidoDetalle
* 
* Muestra los detalles de un pedido especÃ­fico obtenido por su ID.
* Obtiene la informaciÃ³n del pedido desde la API cuando el componente
* se monta o cuando cambia el ID del pedido.
*/

function PedidoDetalle({ id }) {
    // Estado para almacenar los datos del pedido
    const [pedido, setPedido] = useState(null);

    // Efecto que obtiene el pedido por ID cuando cambia el id
    useEffect(() => {
        getPedidoById(id)
        .then(setPedido)
        .catch(console.error);
    }, [id]);

    // Muestra mensaje de carga mientras se obtienen los datos
    if (!pedido) return <p>Cargando...</p>;

    return (
        <div>
            {/* Muestra el ID del pedido */}
            <h2>Pedido #{pedido.id}</h2>
            {/* Muestra la fecha del pedido */}
            <p>Fecha: {pedido.fecha}</p>
            {/* Muestra el total del pedido */}
            <p>Total: ${pedido.total}</p>
        </div>
    );
}

export default PedidoDetalle;
--- FILE: C:\Workspace\ecommerce-front\src\tienda\components\Product_Home.jsx ---
import { useEffect, useState } from "react";
import { getProductoById } from "../services/productos";
// --- FIX BACKEND: Importamos el carrusel para soportar mÃºltiples imÃ¡genes ---
import { MdOutlineAddShoppingCart } from "react-icons/md";
import CarouselImg from "./CarouselImg";
import "../styles/Productos.css";

/* FunciÃ³n para formatear precios con puntos como separadores de miles  */
function formatearPrecio(precio) {
    const precioRedondeado = Math.round(precio || 0);
    return precioRedondeado.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
} 

/**
* Componente ProductoHome
* Muestra productos para la pagina pricipal con su imagen, descripcion, precio, nombre por ID
*/

function ProductoHome({ id }) {
    // Estado para almacenar los datos del producto
    const [producto, setProducto] = useState(null);
    // Efecto que obtiene el producto por ID cuando cambia el id
    useEffect(() => {
        getProductoById(id)
        .then(setProducto)
        .catch(console.error);
    }, [id]);
    // Muestra mensaje de carga mientras se obtienen los datos
    if (!producto) return <p>Cargando productos...</p>;

    // --- FIX BACKEND: Normalizar las imagenes a un array ---
    let listaImagenes = [];
    if (producto.imagenes && Array.isArray(producto.imagenes) && producto.imagenes.length > 0) {
        listaImagenes = producto.imagenes;
    } else if (producto.imagen && typeof producto.imagen === 'string' && producto.imagen.trim() !== "") {
        listaImagenes = [producto.imagen];
    } else {
        listaImagenes = ["/default-product.png"];
    }
    // -------------------------------------------------------

    return (
        
        <div className="prod-home-container">
            {/* Imagen del producto (O Carrusel si hay varias) */}
            {listaImagenes.length > 1 ? (
                 <div style={{ width: '100%', marginBottom: '15px' }}>
                    <CarouselImg images={listaImagenes} />
                </div>
            ) : (
                <img 
                    src={listaImagenes[0]} 
                    alt={producto.nombre} 
                    className="prod-home-image"
                    onError={(e) => {
                        // Si la imagen falla al cargar, evitar bucle infinito
                        if (!e.target.dataset.fallback) {
                            e.target.dataset.fallback = 
                            "true";
                            // Usar una imagen placeholder SVG
                            e.target.src = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Crect fill='%23ddd' width='200' height='200'/%3E%3Ctext fill='%23999' font-family='sans-serif' font-size='14' dy='10.5' font-weight='bold' x='50%25' y='50%25' text-anchor='middle'%3ESin imagen%3C/text%3E%3C/svg%3E";
                        }
            
                    }}
                />
            )}
            
            {/* Nombre del producto */}
            <h2 className="prod-home-nombre">{producto.nombre}</h2>
            {/* Precio del producto */}
            <p className="prod-home-precio">Precio: ${formatearPrecio(producto.precio)}</p>
            {/* Stock disponible del producto */}
            <p className="prod-home-stock">Stock: {producto.stock}</p>
            {/* DescripciÃ³n del producto */}
            <p className="prod-home-descripcion">DescripciÃ³n: {producto.descripcion}</p>
            {/* BotÃ³n para agregar el producto al carrito */}
            <button className="prod-home-btn-carrito"><MdOutlineAddShoppingCart size={25}/> Agreggar al carrito</button>
        </div>
    );
}

export default ProductoHome;
--- FILE: C:\Workspace\ecommerce-front\src\tienda\components\UsuarioID.jsx ---
import { useState } from "react";
import { getUsuarioByDni } from "../services/usuarios";

/**
* Componente BuscarUsuario
* 
* Permite buscar un usuario por su DNI.
* Muestra un campo de entrada para el DNI y un botÃ³n de bÃºsqueda.
* Cuando se encuentra un usuario, muestra su informaciÃ³n (apellido, nombre y email).
*/

function BuscarUsuario() {
    // Estado para almacenar el DNI ingresado
    const [dni, setDni] = useState("");
    // Estado para almacenar los datos del usuario encontrado
    const [usuario, setUsuario] = useState(null);

    /**
    * FunciÃ³n que busca un usuario por DNI en la API
    * y actualiza el estado con los datos del usuario encontrado
    */
    const buscar = () => {
        getUsuarioByDni(dni)
        .then(setUsuario)
        .catch(console.error);
    };

    return (
        <div>
            {/* Campo de entrada para el DNI */}
            <input
                type="text"
                value={dni}
                onChange={(e) => setDni(e.target.value)}
                placeholder="Ingrese DNI"
            />
            {/* BotÃ³n que ejecuta la bÃºsqueda del usuario */}
            <button onClick={buscar}>Buscar</button>

            {/* Muestra la informaciÃ³n del usuario si fue encontrado */}
            {usuario && (
                <div>
                    {/* Nombre completo del usuario */}
                    <h2>{usuario.apellido} {usuario.nombre}</h2>
                    {/* Email del usuario */}
                    <p>Email: {usuario.email}</p>
                </div>
            )}
        </div>
    );
}

export default BuscarUsuario;
--- FILE: C:\Workspace\ecommerce-front\src\tienda\contexts\AuthContext.jsx ---
import { createContext, useContext, useState, useEffect } from "react";
import { login as loginService, register as registerService } from "../services/auth";
import { getUsuarioByDni } from "../services/usuarios";
import { getTiendaByVendedor, getTiendaBySlug } from "../services/tiendas";

/**
 * Contexto de AutenticaciÃ³n
 * 
 * Proporciona el estado y funciones relacionadas con la autenticaciÃ³n del usuario.
 * Gestiona el token JWT y la informaciÃ³n del usuario autenticado.
 * 
 * Funcionalidades:
 * - Almacenar token JWT en localStorage
 * - Gestionar estado de autenticaciÃ³n
 * - Proporcionar funciones de login, register y logout
 * - Cargar informaciÃ³n del usuario autenticado
 * - Verificar si el usuario estÃ¡ autenticado
 */

const AuthContext = createContext(null);

/**
 * Hook personalizado para usar el contexto de autenticaciÃ³n
 * @returns {Object} Objeto con el estado y funciones de autenticaciÃ³n
 * @throws {Error} Si se usa fuera del AuthProvider
 */
export function useAuth() {
    const context = useContext(AuthContext);
    if (!context) {
        throw new Error("useAuth debe ser usado dentro de un AuthProvider");
    }
    return context;
}

/**
 * Provider del contexto de autenticaciÃ³n
 * 
 * @param {React.ReactNode} children - Componentes hijos
 */
export function AuthProvider({ children }) {
    const [token, setToken] = useState(null);
    const [usuario, setUsuario] = useState(null);
    const [tiendaUsuario, setTiendaUsuario] = useState(null); // Tienda del usuario si es vendedor
    const [userType, setUserType] = useState(null); // 'vendedor' | 'comprador' | null
    const [tiendaActual, setTiendaActual] = useState(null); // Tienda actual donde estÃ¡ el comprador
    const [loading, setLoading] = useState(true);

    /**
     * Efecto que verifica si hay un token guardado al cargar la aplicaciÃ³n
     */
    useEffect(() => {
        const tokenGuardado = localStorage.getItem("auth_token");
        const usuarioGuardado = localStorage.getItem("auth_user");
        const tiendaGuardada = localStorage.getItem("auth_tienda");
        const userTypeGuardado = localStorage.getItem("auth_userType");
        const tiendaActualGuardada = localStorage.getItem("auth_tiendaActual");

        if (tokenGuardado) {
            setToken(tokenGuardado);
            
            // Cargar tipo de usuario
            if (userTypeGuardado) {
                setUserType(userTypeGuardado);
            }
            
            // Cargar tienda actual (para compradores)
            if (tiendaActualGuardada) {
                setTiendaActual(tiendaActualGuardada);
            }
            
            if (usuarioGuardado) {
                try {
                    const usuarioData = JSON.parse(usuarioGuardado);
                    
                    // Verificar que el usuario tenga DNI
                    if (!usuarioData?.dni) {
                        // Intentar obtener el DNI del token
                        try {
                            const payload = JSON.parse(atob(tokenGuardado.split('.')[1]));
                            const dni = payload.dni || payload.sub || payload.userId || payload.id;
                            if (dni) {
                                // Intentar obtener el usuario completo desde el servidor
                                getUsuarioByDni(dni)
                                    .then(usuarioCompleto => {
                                        guardarUsuario(usuarioCompleto);
                                    })
                                    .catch(() => {
                                        // Si falla, usar el usuario guardado pero agregar el DNI del token
                                        usuarioData.dni = dni;
                                        setUsuario(usuarioData);
                                        localStorage.setItem("auth_user", JSON.stringify(usuarioData));
                                    });
                            } else {
                                setUsuario(usuarioData);
                            }
                        } catch (error) {
                            setUsuario(usuarioData);
                        }
                    } else {
                        setUsuario(usuarioData);
                    }
                    
                    // Verificar tienda en localStorage primero (para vendedores)
                    const dniParaTienda = usuarioData?.dni;
                    if (dniParaTienda && tiendaGuardada) {
                        try {
                            const tienda = JSON.parse(tiendaGuardada);
                            // Verificar que la tienda pertenezca al usuario actual
                            // vendedorDni puede ser nÃºmero o string, normalizar para comparar
                            const tiendaVendedorDni = typeof tienda.vendedorDni === 'string' 
                                ? parseInt(tienda.vendedorDni) 
                                : tienda.vendedorDni;
                            const usuarioDni = typeof dniParaTienda === 'string' 
                                ? parseInt(dniParaTienda) 
                                : dniParaTienda;
                            
                            if (tiendaVendedorDni === usuarioDni || 
                                (tienda.vendedor && tienda.vendedor.dni === usuarioDni)) {
                                // Si la tienda tiene nombreUrl, obtener la versiÃ³n actualizada del servidor
                                if (tienda.nombreUrl) {
                                    getTiendaBySlug(tienda.nombreUrl)
                                        .then(tiendaActualizada => {
                                            // Verificar que la tienda actualizada pertenezca al usuario
                                            const tiendaActualizadaVendedorDni = typeof tiendaActualizada.vendedorDni === 'string'
                                                ? parseInt(tiendaActualizada.vendedorDni)
                                                : tiendaActualizada.vendedorDni;
                                            
                                            if (tiendaActualizadaVendedorDni === usuarioDni) {
                                                setTiendaUsuario(tiendaActualizada);
                                                localStorage.setItem("auth_tienda", JSON.stringify(tiendaActualizada));
                                                setUserType('vendedor');
                                                localStorage.setItem("auth_userType", "vendedor");
                                            } else {
                                                // La tienda no pertenece a este usuario, limpiar
                                                console.warn("Tienda actualizada no pertenece al usuario actual");
                                                localStorage.removeItem("auth_tienda");
                                                setTiendaUsuario(null);
                                                if (!userTypeGuardado) {
                                                    setUserType('comprador');
                                                    localStorage.setItem("auth_userType", "comprador");
                                                }
                                            }
                                        })
                                        .catch((error) => {
                                            // Si falla obtener la tienda del servidor (404, etc.), usar la de localStorage
                                            console.warn("No se pudo obtener la tienda actualizada del servidor, usando la de localStorage:", error);
                                            // Asegurarse de que la tienda de localStorage se mantenga
                                            if (tienda) {
                                                setTiendaUsuario(tienda);
                                                localStorage.setItem("auth_tienda", JSON.stringify(tienda));
                                                setUserType('vendedor');
                                                localStorage.setItem("auth_userType", "vendedor");
                                            }
                                        });
                                } else {
                                    // Si no tiene nombreUrl, usar la tienda de localStorage directamente
                                    setTiendaUsuario(tienda);
                                    setUserType('vendedor');
                                    localStorage.setItem("auth_userType", "vendedor");
                                }
                            } else {
                                // La tienda no pertenece a este usuario, limpiar
                                console.warn("Tienda en localStorage no pertenece al usuario actual, limpiando...");
                                localStorage.removeItem("auth_tienda");
                                setTiendaUsuario(null);
                                if (!userTypeGuardado) {
                                    setUserType('comprador');
                                    localStorage.setItem("auth_userType", "comprador");
                                }
                            }
                        } catch (e) {
                            console.error("Error parseando tienda guardada:", e);
                            localStorage.removeItem("auth_tienda");
                            setTiendaUsuario(null);
                        }
                    } else if (dniParaTienda) {
                        // Siempre intentar obtener la tienda del servidor para tener la versiÃ³n mÃ¡s actualizada
                        getTiendaByVendedor(dniParaTienda)
                            .then(tienda => {
                                if (tienda) {
                                    setTiendaUsuario(tienda);
                                    localStorage.setItem("auth_tienda", JSON.stringify(tienda));
                                    setUserType('vendedor');
                                    localStorage.setItem("auth_userType", "vendedor");
                                } else {
                                    // Si no tiene tienda y no hay tipo guardado, puede ser comprador
                                    setTiendaUsuario(null);
                                    localStorage.removeItem("auth_tienda");
                                    if (!userTypeGuardado) {
                                        setUserType('comprador');
                                        localStorage.setItem("auth_userType", "comprador");
                                    }
                                }
                            })
                            .catch((error) => {
                                // Si el endpoint devuelve 404 o 403, el usuario no tiene tienda
                                if (error.response?.status === 404 || error.response?.status === 403) {
                                    setTiendaUsuario(null);
                                    localStorage.removeItem("auth_tienda");
                                    if (!userTypeGuardado) {
                                        setUserType('comprador');
                                        localStorage.setItem("auth_userType", "comprador");
                                    }
                                } else {
                                    // Para otros errores, mantener la tienda de localStorage si existe
                                    if (tiendaGuardada) {
                                        try {
                                            const tienda = JSON.parse(tiendaGuardada);
                                            const tiendaVendedorDni = typeof tienda.vendedorDni === 'string' 
                                                ? parseInt(tienda.vendedorDni) 
                                                : tienda.vendedorDni;
                                            const usuarioDni = typeof dniParaTienda === 'string' 
                                                ? parseInt(dniParaTienda) 
                                                : dniParaTienda;
                                            
                                            if (tiendaVendedorDni === usuarioDni) {
                                                setTiendaUsuario(tienda);
                                                setUserType('vendedor');
                                                localStorage.setItem("auth_userType", "vendedor");
                                            } else {
                                                setTiendaUsuario(null);
                                                localStorage.removeItem("auth_tienda");
                                            }
                                        } catch (e) {
                                            console.error("Error parseando tienda guardada:", e);
                                            setTiendaUsuario(null);
                                            localStorage.removeItem("auth_tienda");
                                        }
                                    } else {
                                        setTiendaUsuario(null);
                                        if (!userTypeGuardado) {
                                            setUserType('comprador');
                                            localStorage.setItem("auth_userType", "comprador");
                                        }
                                    }
                                }
                            });
                    }
                } catch (error) {
                    console.error("Error parseando usuario guardado:", error);
                    localStorage.removeItem("auth_user");
                }
            }
        }
        setLoading(false);
    }, []);

    const guardarUsuario = (usuarioData) => {
        localStorage.setItem("auth_user", JSON.stringify(usuarioData));
        setUsuario(usuarioData);
        
        // Siempre intentar obtener la tienda del servidor usando el DNI del vendedor
        // Esto asegura que siempre tengamos la versiÃ³n mÃ¡s actualizada
        if (usuarioData?.dni) {
            getTiendaByVendedor(usuarioData.dni)
                .then(tienda => {
                    if (tienda) {
                        setTiendaUsuario(tienda);
                        localStorage.setItem("auth_tienda", JSON.stringify(tienda));
                        setUserType('vendedor');
                        localStorage.setItem("auth_userType", "vendedor");
                    } else {
                        // El usuario no tiene tienda
                        setTiendaUsuario(null);
                        localStorage.removeItem("auth_tienda");
                        const tipoGuardado = localStorage.getItem("auth_userType");
                        if (!tipoGuardado) {
                            setUserType('comprador');
                            localStorage.setItem("auth_userType", "comprador");
                        }
                    }
                })
                .catch((error) => {
                    // Si el endpoint devuelve 404 o 403, el usuario no tiene tienda
                    if (error.response?.status === 404 || error.response?.status === 403) {
                        setTiendaUsuario(null);
                        localStorage.removeItem("auth_tienda");
                        const tipoGuardado = localStorage.getItem("auth_userType");
                        if (!tipoGuardado) {
                            setUserType('comprador');
                            localStorage.setItem("auth_userType", "comprador");
                        }
                    } else {
                        // Para otros errores (red, timeout, etc.), mantener el estado actual
                        // pero intentar usar localStorage como respaldo
                        const tiendaGuardada = localStorage.getItem("auth_tienda");
                        if (tiendaGuardada) {
                            try {
                                const tienda = JSON.parse(tiendaGuardada);
                                const tiendaVendedorDni = typeof tienda.vendedorDni === 'string' 
                                    ? parseInt(tienda.vendedorDni) 
                                    : tienda.vendedorDni;
                                const usuarioDni = typeof usuarioData.dni === 'string' 
                                    ? parseInt(usuarioData.dni) 
                                    : usuarioData.dni;
                                
                                if (tiendaVendedorDni === usuarioDni) {
                                    setTiendaUsuario(tienda);
                                    setUserType('vendedor');
                                    localStorage.setItem("auth_userType", "vendedor");
                                } else {
                                    setTiendaUsuario(null);
                                    localStorage.removeItem("auth_tienda");
                                }
                            } catch (e) {
                                console.error("Error parseando tienda guardada:", e);
                                setTiendaUsuario(null);
                                localStorage.removeItem("auth_tienda");
                            }
                        } else {
                            setTiendaUsuario(null);
                            const tipoGuardado = localStorage.getItem("auth_userType");
                            if (!tipoGuardado) {
                                setUserType('comprador');
                                localStorage.setItem("auth_userType", "comprador");
                            }
                        }
                    }
                });
        } else {
            // Si no hay DNI, el usuario no puede tener tienda
            setTiendaUsuario(null);
            const tipoGuardado = localStorage.getItem("auth_userType");
            if (!tipoGuardado) {
                setUserType('comprador');
                localStorage.setItem("auth_userType", "comprador");
            }
        }
    };

    const cargarUsuarioDesdeToken = async (tokenJWT) => {
        try {
            const payload = JSON.parse(atob(tokenJWT.split('.')[1]));
            // Intentar obtener el DNI de diferentes campos posibles
            const dni = payload.dni || payload.sub || payload.userId || payload.id;
            
            if (dni) {
                try {
                    const usuarioCompleto = await getUsuarioByDni(dni);
                    guardarUsuario(usuarioCompleto);
                } catch (error) {
                    // Si falla obtener el usuario, intentar usar el payload directamente
                    if (payload.email || payload.nombre) {
                        guardarUsuario({
                            dni: dni,
                            email: payload.email,
                            nombre: payload.nombre,
                            apellido: payload.apellido
                        });
                    }
                }
            }
        } catch (error) {
            console.error("Error cargando usuario desde token:", error);
        }
    };

    const procesarAutenticacion = async (token, dni = null) => {
        if (!token) {
            throw new Error("No se recibiÃ³ token del servidor");
        }

        localStorage.setItem("auth_token", token);
        setToken(token);

        // Si se proporciona el DNI, intentar obtener el usuario completo directamente
        if (dni) {
            try {
                const usuarioCompleto = await getUsuarioByDni(dni);
                guardarUsuario(usuarioCompleto);
                return; // Salir temprano si se obtuvo el usuario por DNI
            } catch (err) {
                // Si falla, intentar desde el token
            }
        }

        // Si no se proporcionÃ³ DNI o fallÃ³, intentar desde el token
        try {
            await cargarUsuarioDesdeToken(token);
        } catch (error) {
            console.error("Error cargando usuario desde token:", error);
            // Si tambiÃ©n falla y tenemos DNI, intentar una vez mÃ¡s
            if (dni) {
                try {
                    const usuarioCompleto = await getUsuarioByDni(dni);
                    guardarUsuario(usuarioCompleto);
                } catch (err) {
                    console.error("Error final cargando usuario:", err);
                }
            }
        }
    };

    const login = async (credenciales, dni = null) => {
        try {
            const response = await loginService(credenciales);
            
            // Primero guardar el token para que estÃ© disponible en las siguientes peticiones
            localStorage.setItem("auth_token", response.token);
            setToken(response.token);
            
            // Si se proporciona el DNI, validar que corresponda al email
            if (dni) {
                try {
                    // Ahora que el token estÃ¡ guardado, podemos obtener el usuario por DNI
                    const usuarioPorDni = await getUsuarioByDni(dni);
                    
                    // Normalizar emails para comparaciÃ³n (trim y case-insensitive)
                    const emailUsuario = (usuarioPorDni.email || '').trim().toLowerCase();
                    const emailLogin = (credenciales.email || '').trim().toLowerCase();
                    
                    // Verificar que el email del usuario obtenido por DNI coincida con el email usado para login
                    if (emailUsuario !== emailLogin) {
                        // Limpiar el token si la validaciÃ³n falla
                        localStorage.removeItem("auth_token");
                        setToken(null);
                        throw new Error("El DNI no corresponde al email ingresado. Verifique los datos.");
                    }
                    // Si coincide, procesar autenticaciÃ³n con el DNI correcto
                    await procesarAutenticacion(response.token, dni);
                } catch (error) {
                    // Limpiar el token si la validaciÃ³n falla
                    localStorage.removeItem("auth_token");
                    setToken(null);
                    
                    // Si el error ya es sobre email no coincidente, lanzarlo directamente
                    if (error.message && error.message.includes("no corresponde")) {
                        throw error;
                    }
                    // Si es un error 404 (usuario no encontrado), indicar que el DNI no es vÃ¡lido
                    if (error.response?.status === 404 || error.message?.includes('404')) {
                        throw new Error("El DNI ingresado no es vÃ¡lido. Verifique los datos.");
                    }
                    // Si es un error 403, puede ser que el DNI no corresponda o no tenga permisos
                    if (error.response?.status === 403 || error.message?.includes('403')) {
                        throw new Error("El DNI ingresado no es vÃ¡lido o no corresponde al email. Verifique los datos.");
                    }
                    // Si hay otro error, tambiÃ©n lanzar error
                    throw new Error("El DNI ingresado no es vÃ¡lido o no corresponde al email. Verifique los datos.");
                }
            } else {
                // Si no se proporciona DNI, procesar autenticaciÃ³n normalmente
                await procesarAutenticacion(response.token);
            }
            return { success: true };
        } catch (error) {
            console.error("Error en login:", error);
            throw error;
        }
    };

    const register = async (datos) => {
        try {
            const response = await registerService(datos);
            await procesarAutenticacion(response.token, datos.dni);
            return { success: true };
        } catch (error) {
            console.error("Error en registro:", error);
            throw error;
        }
    };

    /**
     * FunciÃ³n para cerrar sesiÃ³n
     */
    const logout = () => {
        localStorage.removeItem("auth_token");
        localStorage.removeItem("auth_user");
        localStorage.removeItem("auth_tienda");
        localStorage.removeItem("auth_userType");
        localStorage.removeItem("auth_tiendaActual");
        setToken(null);
        setUsuario(null);
        setTiendaUsuario(null);
        setUserType(null);
        setTiendaActual(null);
    };

    const value = {
        token,
        usuario,
        tiendaUsuario, // Tienda del usuario si es vendedor
        userType, // 'vendedor' | 'comprador' | null
        tiendaActual, // Tienda actual donde estÃ¡ el comprador
        isVendedor: !!tiendaUsuario || userType === 'vendedor', // Indica si el usuario es vendedor
        isComprador: userType === 'comprador', // Indica si el usuario es comprador
        loading,
        isAuthenticated: !!token,
        login,
        register,
        logout,
        setUsuario,
        setUserType, // FunciÃ³n para establecer el tipo de usuario manualmente
        setTiendaActual, // FunciÃ³n para establecer la tienda actual
        setTiendaUsuario, // FunciÃ³n para establecer la tienda del usuario
    };

    return (
        <AuthContext.Provider value={value}>
            {children}
        </AuthContext.Provider>
    );
}

export default AuthContext;

--- FILE: C:\Workspace\ecommerce-front\src\tienda\contexts\CarritoContext.jsx ---
import { createContext, useContext, useState, useEffect } from "react";
import { useAuth } from "./AuthContext";
import { useTienda } from "./TiendaContext";
import { agregarAlCarrito, obtenerCarrito, eliminarItemCarrito, actualizarCantidadCarrito } from "../services/carrito";
import { useNotifications } from "../../contexts/NotificationContext";

const CarritoContext = createContext(null);

/**
 * Hook personalizado para usar el contexto del carrito
 */
export function useCarrito() {
    const context = useContext(CarritoContext);
    if (!context) {
        throw new Error("useCarrito debe ser usado dentro de un CarritoProvider");
    }
    return context;
}

/**
 * Provider del contexto del carrito
 */
export function CarritoProvider({ children }) {
    const { isAuthenticated, usuario } = useAuth();
    const { tienda } = useTienda();
    const { error: showError, success: showSuccess } = useNotifications();
    const [items, setItems] = useState([]);
    const [loading, setLoading] = useState(false);

    // Cargar carrito al iniciar si el usuario estÃ¡ autenticado
    useEffect(() => {
        if (isAuthenticated && usuario?.dni && tienda?.nombreUrl) {
            cargarCarrito();
        } else {
            setItems([]);
        }
    }, [isAuthenticated, usuario?.dni, tienda?.nombreUrl]);

    /**
     * Carga el carrito del usuario desde la API
     */
    const cargarCarrito = async () => {
        if (!isAuthenticated || !usuario?.dni || !tienda?.nombreUrl) {
            return;
        }

        try {
            setLoading(true);
            const data = await obtenerCarrito(tienda.nombreUrl, usuario.dni);
            // Ordenar productos A-Z por nombre
            const itemsOrdenados = Array.isArray(data) 
                ? [...data].sort((a, b) => {
                    const nombreA = (a.nombreProducto || '').toLowerCase();
                    const nombreB = (b.nombreProducto || '').toLowerCase();
                    return nombreA.localeCompare(nombreB);
                })
                : [];
            setItems(itemsOrdenados);
        } catch (error) {
            console.error("Error cargando carrito:", error);
            setItems([]);
        } finally {
            setLoading(false);
        }
    };

    /**
     * Agrega un producto al carrito
     */
    const agregarProducto = async (productoId, cantidad = 1) => {
        if (!isAuthenticated || !usuario?.dni || !tienda?.nombreUrl) {
            showError("Error", "Debes iniciar sesiÃ³n para agregar productos al carrito");
            return;
        }

        // Validar que el usuario no sea el vendedor de la tienda
        if (tienda?.vendedorDni && usuario.dni === tienda.vendedorDni) {
            showError("AcciÃ³n no permitida", "No puedes comprar productos de tu propia tienda");
            return;
        }

        try {
            await agregarAlCarrito(tienda.nombreUrl, {
                usuarioDni: usuario.dni,
                productoId: productoId,
                cantidad: cantidad
            });
            
            // Recargar el carrito
            await cargarCarrito();
            showSuccess("Ã‰xito", "Producto agregado al carrito");
        } catch (error) {
            console.error("Error agregando al carrito:", error);
            const mensaje = error.response?.data?.message || "Error al agregar producto al carrito";
            showError("Error", mensaje);
        }
    };

    /**
     * Elimina un item del carrito
     */
    const eliminarItem = async (idItem) => {
        if (!tienda?.nombreUrl) return;

        try {
            await eliminarItemCarrito(tienda.nombreUrl, idItem);
            await cargarCarrito();
            showSuccess("Ã‰xito", "Producto eliminado del carrito");
        } catch (error) {
            console.error("Error eliminando item:", error);
            showError("Error", "Error al eliminar producto");
        }
    };

    /**
     * Actualiza la cantidad de un item del carrito
     */
    const actualizarCantidad = async (idItem, productoId, nuevaCantidad) => {
        if (!isAuthenticated || !usuario?.dni || !tienda?.nombreUrl) {
            return;
        }

        // Validar que la cantidad sea vÃ¡lida
        if (!nuevaCantidad || nuevaCantidad < 1) {
            showError("Error", "La cantidad debe ser al menos 1");
            // No recargar el carrito, solo mostrar el error
            return;
        }

        try {
            await actualizarCantidadCarrito(
                tienda.nombreUrl,
                idItem,
                productoId,
                usuario.dni,
                nuevaCantidad
            );
            await cargarCarrito();
        } catch (error) {
            console.error("Error actualizando cantidad:", error);
            const mensaje = error.response?.data?.message || "Error al actualizar la cantidad";
            showError("Error", mensaje);
            // No recargar el carrito automÃ¡ticamente, dejar que el componente maneje la restauraciÃ³n
            throw error; // Lanzar el error para que el componente pueda manejarlo
        }
    };

    /**
     * Calcula el total del carrito
     */
    const calcularTotal = () => {
        return items.reduce((total, item) => {
            // El backend puede enviar precioUnitario o precio, y tambiÃ©n puede enviar subtotal
            const precio = item.precioUnitario || item.precio || 0;
            const subtotal = item.subtotal || (precio * (item.cantidad || 1));
            return total + subtotal;
        }, 0);
    };

    /**
     * Obtiene la cantidad total de items en el carrito
     */
    const cantidadTotal = items.reduce((total, item) => total + item.cantidad, 0);

    return (
        <CarritoContext.Provider
            value={{
                items,
                loading,
                agregarProducto,
                eliminarItem,
                actualizarCantidad,
                cargarCarrito,
                calcularTotal,
                cantidadTotal
            }}
        >
            {children}
        </CarritoContext.Provider>
    );
}

--- FILE: C:\Workspace\ecommerce-front\src\tienda\contexts\TiendaContext.jsx ---
import { createContext, useContext, useState, useEffect } from "react";
import { getTiendaBySlug } from "../services/tiendas";

/**
 * Contexto de Tienda
 * 
 * Proporciona el estado y funciones relacionadas con la tienda actual.
 * Almacena el nombreTienda (slug) y la informaciÃ³n completa de la tienda.
 * 
 * Funcionalidades:
 * - Almacenar el nombreTienda actual (slug)
 * - Cargar informaciÃ³n de la tienda desde la API
 * - Proporcionar estado de carga y errores
 * - Actualizar la tienda cuando cambia el slug
 */

const TiendaContext = createContext(null);

/**
 * Hook personalizado para usar el contexto de tienda
 * @returns {Object} Objeto con el estado y funciones de la tienda
 * @throws {Error} Si se usa fuera del TiendaProvider
 */
export function useTienda() {
    const context = useContext(TiendaContext);
    if (!context) {
        throw new Error("useTienda debe ser usado dentro de un TiendaProvider");
    }
    return context;
}

/**
 * Provider del contexto de tienda
 * 
 * @param {Object} props - Props del componente
 * @param {React.ReactNode} props.children - Componentes hijos
 * @param {string} props.nombreTienda - El slug de la tienda actual (obtenido de la URL)
 */
export function TiendaProvider({ children, nombreTienda }) {
    // Estado de la informaciÃ³n de la tienda
    const [tienda, setTienda] = useState(null);
    
    // Estado de carga
    const [loading, setLoading] = useState(true);
    
    // Estado de errores
    const [error, setError] = useState(null);

    /**
     * Carga la informaciÃ³n de la tienda desde la API
     * @param {string} slug - El slug de la tienda a cargar
     */
    const cargarTienda = async (slug) => {
        if (!slug) {
            setLoading(false);
            return;
        }

        setLoading(true);
        setError(null);

        try {
            const datosTienda = await getTiendaBySlug(slug);
            setTienda(datosTienda);
        } catch (err) {
            console.error("Error cargando tienda:", err);
            setError(
                err.response?.status === 404
                    ? "Tienda no encontrada"
                    : `Error al cargar la tienda: ${err.message}`
            );
            setTienda(null);
        } finally {
            setLoading(false);
        }
    };

    /**
     * Efecto que carga la tienda cuando cambia el nombreTienda
     */
    useEffect(() => {
        if (nombreTienda) {
            cargarTienda(nombreTienda);
        } else {
            setTienda(null);
            setLoading(false);
            setError(null);
        }
    }, [nombreTienda]);

    /**
     * FunciÃ³n para recargar la tienda manualmente
     */
    const recargarTienda = () => {
        if (nombreTienda) {
            cargarTienda(nombreTienda);
        }
    };

    // Valor del contexto
    const value = {
        // Estado
        nombreTienda, // Slug de la tienda actual
        tienda, // InformaciÃ³n completa de la tienda
        loading, // Estado de carga
        error, // Mensaje de error si existe

        // Funciones
        recargarTienda, // FunciÃ³n para recargar la tienda
    };

    return (
        <TiendaContext.Provider value={value}>
            {children}
        </TiendaContext.Provider>
    );
}

export default TiendaContext;

--- FILE: C:\Workspace\ecommerce-front\src\tienda\contexts\TiendaWrapper.jsx ---
import { useParams, useLocation } from "react-router-dom";
import { TiendaProvider } from "./TiendaContext";

/**
 * Componente Wrapper para el TiendaProvider
 * 
 * Este componente obtiene el nombreTienda de la URL y lo pasa al TiendaProvider.
 * Detecta el nombreTienda de dos formas:
 * 1. Desde los parÃ¡metros de la ruta (cuando la ruta es /tienda/:nombreTienda/...)
 * 2. Desde la ubicaciÃ³n actual (para compatibilidad con rutas antiguas)
 * 
 * @param {React.ReactNode} children - Componentes hijos que necesitan acceso al contexto de tienda
 */
export function TiendaWrapper({ children }) {
    // Intenta obtener el nombreTienda de los parÃ¡metros de la ruta
    const { nombreTienda } = useParams();
    
    // Si no estÃ¡ en los params, intenta extraerlo de la URL
    const location = useLocation();
    let nombreTiendaFromUrl = nombreTienda;
    
    // Si no hay nombreTienda en params, intenta extraerlo de la ruta
    // Ejemplo: /tienda/laferreteria/catalogo -> nombreTienda = "laferreteria"
    if (!nombreTiendaFromUrl && location.pathname.startsWith("/tienda/")) {
        const pathParts = location.pathname.split("/");
        if (pathParts.length >= 3 && pathParts[1] === "tienda") {
            nombreTiendaFromUrl = pathParts[2];
        }
    }
    
    // Si aÃºn no hay nombreTienda, puede ser null (para rutas que no requieren tienda)
    // Por ejemplo: /login, /register, etc.

    return (
        <TiendaProvider nombreTienda={nombreTiendaFromUrl || null}>
            {children}
        </TiendaProvider>
    );
}

--- FILE: C:\Workspace\ecommerce-front\src\tienda\pages\Carrito.jsx ---
import { useState, useEffect, useRef } from "react";
import { useParams, useNavigate, Link } from "react-router-dom";
import { useAuth } from "../contexts/AuthContext";
import { useCarrito } from "../contexts/CarritoContext";
import { useNotifications } from "../../contexts/NotificationContext";
import { FaTrashCan } from "react-icons/fa6";
import { FaShoppingBasket } from "react-icons/fa";

import Footer_Landing from "../../landing/components/Footer_Landing.jsx";
import Header from "../components/Header.jsx";

import "../styles/Carrito.css";

/**
 * FunciÃ³n para acortar el nombre del producto
 * @param {string} nombre - Nombre completo del producto
 * @param {number} maxLength - Longitud mÃ¡xima (por defecto 25)
 * @returns {string} Nombre acortado con "..."
 */
function acortarNombre(nombre, maxLength = 25) {
    if (!nombre || nombre.length <= maxLength) {
        return nombre;
    }
    return nombre.substring(0, maxLength - 3) + "...";
}

/**
 * FunciÃ³n para formatear precios con puntos como separadores de miles
 * @param {number} precio - Precio a formatear
 * @returns {string} Precio formateado (ej: $1.000, $10.000)
 */
function formatearPrecio(precio) {
    const precioRedondeado = Math.round(precio || 0);
    return precioRedondeado.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
}

/**
 * FunciÃ³n para obtener la imagen del producto
 */
function obtenerImagen(item) {
    if (item.imagenProducto && item.imagenProducto.trim() !== "") {
        return item.imagenProducto;
    }
    return "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Crect fill='%23ddd' width='200' height='200'/%3E%3Ctext fill='%23999' font-family='sans-serif' font-size='14' dy='10.5' font-weight='bold' x='50%25' y='50%25' text-anchor='middle'%3ESin imagen%3C/text%3E%3C/svg%3E";
}

/**
* Componente Carrito
* 
* Muestra la pÃ¡gina del carrito de compras del usuario.
* Renderiza una lista de productos agregados al carrito y un botÃ³n
* para realizar la compra.
*/

function Carrito() {
    const { nombreTienda } = useParams();
    const navigate = useNavigate();
    const { items, loading, eliminarItem, actualizarCantidad, calcularTotal } = useCarrito();
    const { isAuthenticated } = useAuth();
    const { error: showError, success: showSuccess } = useNotifications();
    
    // Estado local para las cantidades de cada item (para actualizaciÃ³n visual inmediata)
    const [cantidadesLocales, setCantidadesLocales] = useState({});
    const timersRef = useRef({});

    // Sincronizar cantidades locales con items del carrito
    useEffect(() => {
        const nuevasCantidades = {};
        items.forEach(item => {
            nuevasCantidades[item.idItem] = item.cantidad;
        });
        setCantidadesLocales(nuevasCantidades);
    }, [items]);

    // FunciÃ³n para manejar la eliminaciÃ³n con confirmaciÃ³n
    const handleEliminarItem = async (idItem) => {
        if (!window.confirm("Â¿EstÃ¡s seguro de eliminar este producto?")) return;

        try {
            await eliminarItem(idItem);
            showSuccess("Eliminado", "Producto eliminado del carrito");
        } catch (error) {
            console.error("Error al eliminar item:", error);
            showError("Error", "No se pudo eliminar el producto.");
        }
    };

    // Si no estÃ¡ autenticado, mostrar mensaje
    if (!isAuthenticated) {
        return (
            <div>
                <Header />
                <div className="main-carrito" style={{ flexDirection: 'column', alignItems: 'center', textAlign: 'center' }}>
                    <h2>Inicia sesiÃ³n para ver tu carrito</h2>
                    <Link 
                        to={`/tienda/${nombreTienda}/login`} 
                        className="cart-btn" 
                        style={{ maxWidth: '200px', marginTop: '20px', textDecoration: 'none', display: 'inline-block' }}
                    >
                        Iniciar SesiÃ³n
                    </Link>
                </div>
                <Footer_Landing />
            </div>
        );
    }

    const total = calcularTotal();

    const handleCheckout = () => {
        // Validar que el carrito no estÃ© vacÃ­o antes de proceder
        if (items.length === 0) {
            showError("Carrito vacÃ­o", "Agrega productos antes de realizar la compra.");
            return;
        }
        
        if (nombreTienda) {
            navigate(`/tienda/${nombreTienda}/checkout`);
        }
    };

    // Actualizar cantidad local inmediatamente
    const handleCantidadInputChange = (idItem, valor) => {
        setCantidadesLocales(prev => ({
            ...prev,
            [idItem]: valor
        }));
    };

    // Aplicar cambio de cantidad al backend (con debounce)
    const handleCantidadChange = async (idItem, productoId, nuevaCantidad) => {
        // Limpiar timer anterior si existe
        if (timersRef.current[idItem]) {
            clearTimeout(timersRef.current[idItem]);
        }

        // Validar que sea un nÃºmero vÃ¡lido
        const cantidad = nuevaCantidad === '' ? null : parseInt(nuevaCantidad, 10);
        
        if (nuevaCantidad === '' || isNaN(cantidad)) {
            // Si estÃ¡ vacÃ­o o no es un nÃºmero, no hacer nada todavÃ­a
            return;
        }

        if (cantidad < 1) {
            // Restaurar valor anterior si es menor a 1
            setCantidadesLocales(prev => ({
                ...prev,
                [idItem]: items.find(i => i.idItem === idItem)?.cantidad || 1
            }));
            return;
        }

        // Usar debounce para esperar a que el usuario termine de escribir
        timersRef.current[idItem] = setTimeout(async () => {
            try {
                await actualizarCantidad(idItem, productoId, cantidad);
            } catch (error) {
                // Si hay error, restaurar el valor anterior
                const itemOriginal = items.find(i => i.idItem === idItem);
                if (itemOriginal) {
                    setCantidadesLocales(prev => ({
                        ...prev,
                        [idItem]: itemOriginal.cantidad
                    }));
                }
            }
        }, 500); // Esperar 500ms despuÃ©s de que el usuario deje de escribir
    };

    const handleIncrement = async (idItem, productoId, cantidadActual) => {
        const nuevaCantidad = cantidadActual + 1;
        setCantidadesLocales(prev => ({
            ...prev,
            [idItem]: nuevaCantidad
        }));
        await actualizarCantidad(idItem, productoId, nuevaCantidad);
    };

    const handleDecrement = async (idItem, productoId, cantidadActual) => {
        if (cantidadActual > 1) {
            const nuevaCantidad = cantidadActual - 1;
            setCantidadesLocales(prev => ({
                ...prev,
                [idItem]: nuevaCantidad
            }));
            await actualizarCantidad(idItem, productoId, nuevaCantidad);
        }
    };

    const handleCantidadBlur = async (idItem, productoId, valor) => {
        // Limpiar timer si existe
        if (timersRef.current[idItem]) {
            clearTimeout(timersRef.current[idItem]);
            delete timersRef.current[idItem];
        }

        const cantidad = valor === '' ? null : parseInt(valor, 10);
        
        if (valor === '' || isNaN(cantidad) || cantidad < 1) {
            // Restaurar valor original si es invÃ¡lido
            const itemOriginal = items.find(i => i.idItem === idItem);
            if (itemOriginal) {
                setCantidadesLocales(prev => ({
                    ...prev,
                    [idItem]: itemOriginal.cantidad
                }));
            }
            return;
        }

        // Aplicar cambio inmediatamente al hacer blur
        try {
            await actualizarCantidad(idItem, productoId, cantidad);
        } catch (error) {
            // Si hay error, restaurar el valor anterior
            const itemOriginal = items.find(i => i.idItem === idItem);
            if (itemOriginal) {
                setCantidadesLocales(prev => ({
                    ...prev,
                    [idItem]: itemOriginal.cantidad
                }));
            }
        }
    };

    return (
        <div>
            {/* Header de navegaciÃ³n de la aplicaciÃ³n */}
            <Header />

            {/* SecciÃ³n de los items del carrito */}
            <div className="main-carrito" style={{ minHeight: "100vh", display: "flex", justifyContent: "center", alignItems: "" }}>
                <div className="items-cart-cont" style={{ margin: "0 auto", padding: "0" }}>
                    <h1 style={{ fontSize: '1.5rem', marginBottom: '10px' }}>Tu Carrito</h1>
                    
                    {loading ? (
                        <div className="items-cart" style={{ display: "flex", justifyContent: "center", alignItems: "center" }}>
                            <p>Cargando carrito...</p>
                        </div>
                    ) : items.length === 0 ? (
                        <div className="items-cart" style={{ width: "100%", display: "flex", flexDirection: "row", justifyContent: "center", alignItems: "center", gap: "50px" }}>
                            <h2>Tu carrito estÃ¡ vacÃ­o</h2>
                            <p>Agrega productos para continuar.</p>
                        </div>
                    ) : (
                        items.map((item) => {
                            const precio = item.precioUnitario || item.precio || 0;
                            const subtotal = item.subtotal || (precio * (item.cantidad || 1));
                            
                            return (
                                <div key={item.idItem} className="items-cart">
                                    <img 
                                        src={obtenerImagen(item)} 
                                        alt={item.nombreProducto}
                                        onError={(e) => {
                                            if (!e.target.dataset.fallback) {
                                                e.target.dataset.fallback = "true";
                                                e.target.src = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Crect fill='%23ddd' width='200' height='200'/%3E%3Ctext fill='%23999' font-family='sans-serif' font-size='14' dy='10.5' font-weight='bold' x='50%25' y='50%25' text-anchor='middle'%3ESin imagen%3C/text%3E%3C/svg%3E";
                                            }
                                        }}
                                    />
                                    <div className="prod-cart-container">
                                        <div className="prod-cart-data-left">
                                            <h3 className="prod-cart-nombre">{item.nombreProducto}</h3>
                                            <div className="cantidad-controls">
                                                <label htmlFor={`cantidad-${item.idItem}`} className="cantidad-label">
                                                    Cantidad:
                                                </label>
                                                <div className="cantidad-input-group">
                                                    <button 
                                                        className="cantidad-btn cantidad-btn-decrement"
                                                        onClick={() => handleDecrement(item.idItem, item.productoId, item.cantidad)}
                                                        disabled={loading || item.cantidad <= 1}
                                                        type="button"
                                                    >
                                                        âˆ’
                                                    </button>
                                                    <input
                                                        id={`cantidad-${item.idItem}`}
                                                        type="number"
                                                        min="1"
                                                        value={cantidadesLocales[item.idItem] ?? item.cantidad}
                                                        onChange={(e) => {
                                                            handleCantidadInputChange(item.idItem, e.target.value);
                                                            handleCantidadChange(item.idItem, item.productoId, e.target.value);
                                                        }}
                                                        onBlur={(e) => {
                                                            handleCantidadBlur(item.idItem, item.productoId, e.target.value);
                                                        }}
                                                        required
                                                        disabled={loading}
                                                        className="prod-cart-cantidad-input"
                                                    />
                                                    <button 
                                                        className="cantidad-btn cantidad-btn-increment"
                                                        onClick={() => handleIncrement(item.idItem, item.productoId, item.cantidad)}
                                                        disabled={loading}
                                                        type="button"
                                                    >
                                                        +
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div className="prod-cart-data-right">
                                            <p className="prod-cart-precio">${formatearPrecio(precio)}</p>
                                            <p className="prod-cart-subtotal">
                                                Subtotal: ${formatearPrecio(subtotal)}
                                            </p>
                                        </div>
                                    </div>
                                    <button 
                                        onClick={() => handleEliminarItem(item.idItem)}
                                        style={{
                                            padding: "8px 12px",
                                            backgroundColor: "var(--red-500)",
                                            color: "white",
                                            border: "none",
                                            borderRadius: "0 var(--border-radius-lg) var(--border-radius-lg) 0",
                                            cursor: "pointer",
                                            fontSize: "17px",
                                        }}
                                    >
                                        <FaTrashCan />
                                    </button>
                                </div>
                            );
                        })
                    )}
                </div>  
            
                {/* SecciÃ³n de confirmaciÃ³n y botÃ³n para realizar compra */}
                {items.length > 0 && (
                    <div className="cart-confirm">
                        <h2 style={{ marginBottom: "20px" }}>Resumen de compra</h2>
                        
                        <div style={{ marginBottom: "20px" }}>
                            {items.map((item) => {
                                const precio = item.precioUnitario || item.precio || 0;
                                const subtotal = item.subtotal || (precio * (item.cantidad || 1));
                                const cantidad = item.cantidad || 1;
                                
                                return (
                                    <div 
                                        key={item.idItem}
                                        className="cart-item-summary"
                                    >
                                        <span className="cart-item-summary-name">
                                            {cantidad > 1 ? `${cantidad}x | ` : ""}{acortarNombre(item.nombreProducto)}
                                        </span>
                                        <span className="cart-item-summary-price">
                                            ${formatearPrecio(subtotal)}
                                        </span>
                                    </div>
                                );
                            })}
                        </div>

                        <div className="cart-total">
                            <span>Total</span>
                            <span>${formatearPrecio(total)}</span>
                        </div>

                        <button 
                            className="cart-btn"
                            onClick={handleCheckout}
                            disabled={items.length === 0}
                            style={{ 
                                marginTop: "20px",
                                opacity: items.length === 0 ? 0.6 : 1,
                                cursor: items.length === 0 ? "not-allowed" : "pointer"
                            }}
                        >
                            Confirmar compra
                        </button>
                        
                        <Link 
                            to={`/tienda/${nombreTienda}/catalogo`} 
                            style={{ 
                                display: "flex",
                                alignItems: "center",
                                justifyContent: "center",
                                textAlign: "center", 
                                marginTop: "15px", 
                                fontSize: "0.9rem", 
                                color: "#666",
                                gap: "5px",
                                textDecoration: "none",
                                width: "fit-content",
                                margin: "0 auto",
                            }}
                        >
                            <FaShoppingBasket /> Seguir comprando
                        </Link>
                    </div>
                )}
            </div>

            {/* Footer de la pÃ¡gina */}
            <Footer_Landing />
        </div>
    );
};

export default Carrito;
--- FILE: C:\Workspace\ecommerce-front\src\tienda\pages\Catalogo.jsx ---
import React, { useState, useEffect } from "react";
import { useParams, useSearchParams, useNavigate, useLocation } from "react-router-dom";
import { useCarrito } from "../contexts/CarritoContext";
import { useAuth } from "../contexts/AuthContext";
import { useNotifications } from "../../contexts/NotificationContext";
import { getProductosByTienda, buscarProductos } from "../services/productos.js";
import { MdOutlineAddShoppingCart } from "react-icons/md";
import Header from "../components/Header.jsx";
import Footer_Landing from "../../landing/components/Footer_Landing.jsx";
import "../styles/Productos.css";
import "../styles/Filtros.css";

/**
* Componente Catalogo
* * Renderiza la pÃ¡gina del catÃ¡logo de todos los productos
* Mustras su Imagen, nombre, stock, precio y descripcion.
*/

function Catalogo() {
    const { nombreTienda } = useParams();
    const [searchParams] = useSearchParams();
    const navigate = useNavigate();
    const location = useLocation();
    const terminoBusqueda = searchParams.get('q') || '';
    const { agregarProducto } = useCarrito();
    const { usuario, isAuthenticated } = useAuth();
    const { error: showError } = useNotifications();
    // Estado para almacenar los productos obtenidos de la API
    const [productos, setProductos] = useState([]);
    const [productosOriginales, setProductosOriginales] = useState([]);
    const [loading, setLoading] = useState(true);
    const [error, setError] = useState(null);
    const [filtroOrden, setFiltroOrden] = useState('nuevos');
    const [productosAgregados, setProductosAgregados] = useState(new Set());

    // --- FIX BACKEND: FunciÃ³n auxiliar para leer imagen ---
    const obtenerImagen = (prod) => {
        if (prod.imagenes && Array.isArray(prod.imagenes) && prod.imagenes.length > 0) return prod.imagenes[0];
        if (prod.imagen && typeof prod.imagen === 'string' && prod.imagen.trim() !== "") return prod.imagen;
        return "/default-product.png";
    };
    // -----------------------------------------------------

    /**
     * FunciÃ³n para formatear precios con puntos como separadores de miles
     */
    const formatearPrecio = (precio) => {
        const precioRedondeado = Math.round(precio || 0);
        return precioRedondeado.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
    };

    useEffect(() => {
        if (!nombreTienda) {
            setError("Nombre de tienda no disponible");
            setLoading(false);
            return;
        }

        setLoading(true);
        
        const cargarProductos = async () => {
            try {
                let data;
                
                // Si hay tÃ©rmino de bÃºsqueda, buscar productos
                if (terminoBusqueda && terminoBusqueda.trim() !== '') {
                    data = await buscarProductos(nombreTienda, terminoBusqueda.trim());
                } else {
                    // Si no, cargar todos los productos
                    data = await getProductosByTienda(nombreTienda);
                }
                
                // Normalizar datos
                let productosData = [];
                if (Array.isArray(data)) {
                    productosData = data;
                } else if (data && Array.isArray(data.content)) {
                    productosData = data.content;
                } else {
                    productosData = data || [];
                }
                
                // Guardar productos originales y aplicar orden inicial
                setProductosOriginales(productosData);
                aplicarFiltro(productosData, filtroOrden);
            } catch (err) {
                console.error(err);
                setError(`Error cargando productos: ${err.response?.status} ${err.response?.statusText || err.message}`);
            } finally {
                setLoading(false);
            }
        };
        
        cargarProductos();
    }, [nombreTienda, terminoBusqueda]);

    // FunciÃ³n para aplicar filtros de ordenamiento
    const aplicarFiltro = (productosData, tipoOrden) => {
        let productosOrdenados = [...productosData];
        
        switch(tipoOrden) {
            case 'a-z':
                productosOrdenados.sort((a, b) => {
                    const nombreA = (a.nombre || '').toLowerCase();
                    const nombreB = (b.nombre || '').toLowerCase();
                    return nombreA.localeCompare(nombreB);
                });
                break;
            case 'z-a':
                productosOrdenados.sort((a, b) => {
                    const nombreA = (a.nombre || '').toLowerCase();
                    const nombreB = (b.nombre || '').toLowerCase();
                    return nombreB.localeCompare(nombreA);
                });
                break;
            case 'precio-menor':
                productosOrdenados.sort((a, b) => (a.precio || 0) - (b.precio || 0));
                break;
            case 'precio-mayor':
                productosOrdenados.sort((a, b) => (b.precio || 0) - (a.precio || 0));
                break;
            case 'nuevos':
                productosOrdenados.sort((a, b) => (b.id || 0) - (a.id || 0));
                break;
            case 'viejos':
                productosOrdenados.sort((a, b) => (a.id || 0) - (b.id || 0));
                break;
            default:
                productosOrdenados.sort((a, b) => (b.id || 0) - (a.id || 0));
        }
        
        setProductos(productosOrdenados);
    };

    // Efecto para aplicar filtro cuando cambia
    useEffect(() => {
        if (productosOriginales.length > 0) {
            aplicarFiltro(productosOriginales, filtroOrden);
        }
        // eslint-disable-next-line react-hooks/exhaustive-deps
    }, [filtroOrden]);

    return (
        <div>
            {/* Header de navegaciÃ³n de la aplicaciÃ³n */}
            <Header />

            {/* Contenedor principal del catÃ¡logo */}
            <div className="main-catalogo" style={{ minHeight: "100vh", maxWidth: "1270px", margin: "0 auto", display: "flex", flexFlow: "column", alignItems: "center" }}>
              
                <div style={{ maxWidth: "1200px", width: "100%", padding: "10px 0px 10px 0px", borderBottom: "1px solid var(--gray-400)", display: "flex", justifyContent: "space-between", alignItems: "center", flexWrap: "wrap", gap: "15px" }}>
                    <h1 style={{ margin: "0px", fontSize: "var(--font-size-4xl)" }}>
                        {terminoBusqueda ? `CatÃ¡logo: "${terminoBusqueda}"` : "CatÃ¡logo"}
                    </h1>
                    <div className="filtros-container">
                        <label htmlFor="filtro-orden" style={{ marginRight: "10px", fontSize: "var(--font-size-base)" }}>
                            Ordenar por:
                        </label>
                        <select 
                            id="filtro-orden"
                            value={filtroOrden}
                            onChange={(e) => setFiltroOrden(e.target.value)}
                            className="filtro-select"
                        >
                            <option value="nuevos">MÃ¡s Nuevos</option>
                            <option value="viejos">MÃ¡s Viejos</option>
                            <option value="a-z">Nombre A-Z</option>
                            <option value="z-a">Nombre Z-A</option>
                            <option value="precio-menor">Precio: Menor a Mayor</option>
                            <option value="precio-mayor">Precio: Mayor a Menor</option>
                        </select>
                    </div>
                </div>
                <div className="grid-home-prod" style={{ marginTop: "20px" }}>
                    {loading && <p style={{ margin: "0", width: "100%", display: "flex", justifyContent: "center", alignItems: "center" }}>Cargando productos...</p>}
         
                    {error && <p style={{ color: "red" }}>{error}</p>}
                    {!loading && !error && productos.length === 0 && (
                        <p>No hay productos disponibles.</p>
                    )}

        
                    {/* Renderiza los productos obtenidos de la API */}
                    {productos.map((prod) => (
                        <div key={prod.id} className="prod-home-container">
                            {/* Imagen del producto 
                            */}
                            <img 
                                src={obtenerImagen(prod)} 
                                alt={prod.nombre} 
                                className="prod-home-image"
                                
                                onError={(e) => {
                                    // Si la imagen falla al cargar, evitar bucle infinito
                                    if (!e.target.dataset.fallback) {
               
                                        e.target.dataset.fallback = "true";
                                        // Usar una imagen placeholder SVG
                                        e.target.src = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Crect fill='%23ddd' width='200' height='200'/%3E%3Ctext fill='%23999' font-family='sans-serif' font-size='14' dy='10.5' font-weight='bold' x='50%25' y='50%25' text-anchor='middle'%3ESin imagen%3C/text%3E%3C/svg%3E";
                                    }
                                }}
                            />
                            {/* Nombre del producto */}
        
                            <h2 className="prod-home-nombre">{prod.nombre}</h2>
                            {/* Precio del producto */}
                            <p className="prod-home-precio">Precio: ${formatearPrecio(prod.precio)}</p>
                 
                            {/* Stock disponible del producto */}
                            <p className="prod-home-stock">Stock: {prod.stock}</p>
                            {/* DescripciÃ³n del producto */}
                      
                            <p className="prod-home-descripcion">DescripciÃ³n: {prod.descripcion}</p>
                            {/* BotÃ³n para agregar el producto al carrito */}
                            <button 
                                style={{ display: "flex", alignItems: "center", justifyContent: "center", gap: "10px" }}
                                className={`prod-home-btn-carrito ${productosAgregados.has(prod.id) ? 'agregado' : ''}`}
                                onClick={async () => {
                                    // Verificar si el usuario estÃ¡ autenticado
                                    if (!isAuthenticated || !usuario) {
                                        showError("AtenciÃ³n", "Debes iniciar sesiÃ³n para comprar");
                                        navigate(`/tienda/${nombreTienda}/login`, { state: { from: location.pathname } });
                                        return;
                                    }

                                    // Activar animaciÃ³n inmediatamente
                                    setProductosAgregados(prev => new Set(prev).add(prod.id));
                                    setTimeout(() => {
                                        setProductosAgregados(prev => {
                                            const nuevo = new Set(prev);
                                            nuevo.delete(prod.id);
                                            return nuevo;
                                        });
                                    }, 2000);
                                    // Llamar a la funciÃ³n de agregar (sin await para que sea instantÃ¡neo)
                                    agregarProducto(prod.id, 1);
                                }}
                            >
                                {productosAgregados.has(prod.id) ? 'âœ“ Agregado' : <><MdOutlineAddShoppingCart size={25}/> Agregar al carrito</>}
                            </button>
                        </div>
 
                    ))}
                </div>
            </div>
            {/* Footer de la pÃ¡gina */}
            <Footer_Landing />
        </div>
    );
}

export default Catalogo;
--- FILE: C:\Workspace\ecommerce-front\src\tienda\pages\Checkout.jsx ---
import { useState, useEffect } from "react";
import { useParams } from "react-router-dom";
import { useAuth } from "../contexts/AuthContext.jsx";
import { useTienda } from "../contexts/TiendaContext";
import { createPedido } from "../services/pedidos.js";
import { crearPreferenciaPago } from "../services/pagos.js";
import { getDireccionesByUsuario, createDireccion } from "../services/direcciones.js";
import { useNotifications } from "../../contexts/NotificationContext.jsx";
import Header from "../components/Header";
import Footer_Landing from "../../landing/components/Footer_Landing.jsx";
import "../styles/Carrito.css";

/**
* Componente Checkout
* Permite seleccionar direcciones guardadas, crear nuevas, 
* y ajusta el costo de envÃ­o segÃºn el mÃ©todo seleccionado.
*/
function Checkout() {
    const { nombreTienda } = useParams();
    const { usuario } = useAuth();
    const { tienda } = useTienda(); 
    const { error: showError, success: showSuccess } = useNotifications();

    const [loading, setLoading] = useState(false);
    
    // --- ESTADOS DE DIRECCIÃ“N ---
    const [direccionesGuardadas, setDireccionesGuardadas] = useState([]);
    const [selectedDireccionId, setSelectedDireccionId] = useState("nueva"); // "nueva" o ID de la direcciÃ³n
    const [guardarNuevaDireccion, setGuardarNuevaDireccion] = useState(false); // Checkbox para guardar

    // Estados del formulario manual (Nueva DirecciÃ³n)
    const [calle, setCalle] = useState("");
    const [numero, setNumero] = useState("");
    const [piso, setPiso] = useState("");
    const [depto, setDepto] = useState("");
    const [localidad, setLocalidad] = useState("");
    const [codigoPostal, setCodigoPostal] = useState("");
    const [provincia, setProvincia] = useState("");

    // --- ESTADOS DE ENVÃO ---
    const [metodoEnvio, setMetodoEnvio] = useState("EnvÃ­o a Domicilio");
    const [costoEnvioBase, setCostoEnvioBase] = useState(0); // El costo que define la tienda
    const [costoEnvioFinal, setCostoEnvioFinal] = useState(0); // El costo que paga el usuario (0 si es retiro)

    // 1. Cargar costo de envÃ­o base desde la tienda
    useEffect(() => {
        if (tienda && tienda.costoEnvio !== undefined) {
            const costo = Number(tienda.costoEnvio);
            setCostoEnvioBase(costo);
            setCostoEnvioFinal(costo); // Por defecto aplicamos el costo
        }
    }, [tienda]);

    // 2. Cargar direcciones guardadas del usuario
    useEffect(() => {
        if (usuario && usuario.dni) {
            getDireccionesByUsuario(usuario.dni)
                .then(data => {
                    setDireccionesGuardadas(data || []);
                    // Si tiene direcciones, seleccionamos la primera por defecto
                    if (data && data.length > 0) {
                        setSelectedDireccionId(data[0].id);
                    }
                })
                .catch(err => console.error("Error cargando direcciones:", err));
        }
    }, [usuario]);

    // 3. Manejar cambio de mÃ©todo de envÃ­o (LÃ³gica de costo 0)
    useEffect(() => {
        if (metodoEnvio === "Retiro en Tienda") {
            setCostoEnvioFinal(0);
        } else {
            setCostoEnvioFinal(costoEnvioBase);
        }
    }, [metodoEnvio, costoEnvioBase]);


    const handlePagar = async () => {
        if (!usuario || !usuario.dni) {
            showError("Error", "Usuario no identificado.");
            return;
        }

        let direccionString = "";

        // LÃ“GICA DE DIRECCIÃ“N
        if (metodoEnvio === "EnvÃ­o a Domicilio") {
            
            if (selectedDireccionId === "nueva") {
                // VALIDAR CAMPOS NUEVOS
                if (!calle.trim() || !numero.trim() || !localidad.trim() || !codigoPostal.trim() || !provincia.trim()) {
                    showError("Falta informaciÃ³n", "Por favor completa los campos obligatorios de la direcciÃ³n.");
                    return;
                }
                
                // Construir string
                direccionString = `${calle} ${numero}${piso ? `, Piso ${piso}` : ''}${depto ? ` Dpto ${depto}` : ''}, ${localidad}, ${provincia}, CP: ${codigoPostal}`;

                // GUARDAR DIRECCIÃ“N SI EL CHECKBOX ESTÃ ACTIVO
                if (guardarNuevaDireccion) {
                    try {
                        await createDireccion({
                            usuarioDni: usuario.dni,
                            calle, numero, piso, departamento: depto, localidad, provincia, codigoPostal
                        });
                        // No esperamos a recargar la lista, seguimos con el pago
                    } catch (err) {
                        console.error("No se pudo guardar la direcciÃ³n nueva:", err);
                        // No bloqueamos la compra si falla el guardado de direcciÃ³n
                    }
                }

            } else {
                // USAR DIRECCIÃ“N GUARDADA
                const dir = direccionesGuardadas.find(d => d.id === parseInt(selectedDireccionId));
                if (!dir) {
                    showError("Error", "La direcciÃ³n seleccionada no es vÃ¡lida.");
                    return;
                }
                direccionString = `${dir.calle} ${dir.numero}${dir.piso ? `, Piso ${dir.piso}` : ''}${dir.departamento ? ` Dpto ${dir.departamento}` : ''}, ${dir.localidad}, ${dir.provincia}, CP: ${dir.codigoPostal}`;
            }

        } else {
            // RETIRO EN TIENDA
            direccionString = "Retiro en Tienda - " + (tienda.nombreFantasia || nombreTienda);
        }

        setLoading(true);
        try {
            const pedidoData = {
                usuarioDni: usuario.dni,
                direccionEnvio: direccionString,
                metodoEnvio: metodoEnvio,
                costoEnvio: costoEnvioFinal,
                items: [] 
            };
            
            const pedidoCreado = await createPedido(nombreTienda, pedidoData);
            const respuestaPago = await crearPreferenciaPago(pedidoCreado.id);
            
            if (respuestaPago && respuestaPago.url) {
                window.location.href = respuestaPago.url;
            } else {
                throw new Error("No se recibiÃ³ la URL de pago.");
            }

        } catch (error) {
            console.error("Error en checkout:", error);
            const msg = error.response?.data?.message || "Hubo un error al procesar el pedido.";
            showError("Error", msg);
            setLoading(false);
        }
    };

    return (
        <div>
            <Header />
            <div className="main-carrito">
         
                {/* Columna izquierda: Datos */}
                <div className="items-cart-cont">
                    <div className="items-cart" style={{ flexDirection: 'column', alignItems: 'flex-start', height: 'auto', gap: '20px', padding: '30px' }}>
                       
                        <h2 style={{ margin: 0, color: 'var(--text-gray-1)' }}>Opciones de Entrega</h2>
                        
                        {/* 1. SELECCIONAR MÃ‰TODO DE ENVÃO */}
                        <div style={{ width: '100%' }}>
                            <label style={{ display: 'block', marginBottom: '8px', fontWeight: 'bold' }}>Â¿CÃ³mo quieres recibir tu compra?</label>
                            <select 
                                value={metodoEnvio}
                                onChange={(e) => setMetodoEnvio(e.target.value)}
                                style={selectStyle}
                            >
                                <option value="EnvÃ­o a Domicilio">EnvÃ­o a Domicilio {costoEnvioBase > 0 ? `($${costoEnvioBase})` : '(Gratis)'}</option>
                                <option value="Retiro en Tienda">Retiro en Tienda (Gratis)</option>
                            </select>
                        </div>

                        {/* 2. LÃ“GICA DE DIRECCIONES (Solo si es EnvÃ­o a Domicilio) */}
                        {metodoEnvio === "EnvÃ­o a Domicilio" && (
                            <div style={{ width: '100%', borderTop: '1px solid #eee', paddingTop: '20px' }}>
                                
                                <div style={{ marginBottom: '15px' }}>
                                    <label style={{ display: 'block', marginBottom: '8px', fontWeight: 'bold' }}>Selecciona una direcciÃ³n:</label>
                                    <select 
                                        value={selectedDireccionId}
                                        onChange={(e) => setSelectedDireccionId(e.target.value)}
                                        style={selectStyle}
                                    >
                                        {direccionesGuardadas.map(dir => (
                                            <option key={dir.id} value={dir.id}>
                                                {dir.calle} {dir.numero}, {dir.localidad} ({dir.provincia})
                                            </option>
                                        ))}
                                        <option value="nueva">+ Agregar Nueva DirecciÃ³n</option>
                                    </select>
                                </div>

                                {/* FORMULARIO PARA NUEVA DIRECCIÃ“N (Solo si seleccionÃ³ "nueva") */}
                                {selectedDireccionId === "nueva" && (
                                    <div style={{ backgroundColor: '#f9fafb', padding: '15px', borderRadius: '8px', border: '1px solid #e5e7eb' }}>
                                        <h4 style={{ marginTop: 0, marginBottom: '15px', color: '#4b5563' }}>Nueva DirecciÃ³n de EnvÃ­o</h4>
                                        
                                        <div style={{ display: 'flex', flexDirection: 'column', gap: '15px' }}>
                                            <div style={{ display: 'flex', gap: '15px' }}>
                                                <div style={{ flex: 3 }}>
                                                    <input type="text" value={calle} onChange={(e) => setCalle(e.target.value)} placeholder="Calle *" style={inputStyle} />
                                                </div>
                                                <div style={{ flex: 1 }}>
                                                    <input type="text" value={numero} onChange={(e) => setNumero(e.target.value)} placeholder="NÃºmero *" style={inputStyle} />
                                                </div>
                                            </div>

                                            <div style={{ display: 'flex', gap: '15px' }}>
                                                <div style={{ flex: 1 }}>
                                                    <input type="text" value={piso} onChange={(e) => setPiso(e.target.value)} placeholder="Piso" style={inputStyle} />
                                                </div>
                                                <div style={{ flex: 1 }}>
                                                    <input type="text" value={depto} onChange={(e) => setDepto(e.target.value)} placeholder="Depto" style={inputStyle} />
                                                </div>
                                            </div>

                                            <div style={{ display: 'flex', gap: '15px' }}>
                                                <div style={{ flex: 1 }}>
                                                    <input type="text" value={codigoPostal} onChange={(e) => setCodigoPostal(e.target.value)} placeholder="C. Postal *" style={inputStyle} />
                                                </div>
                                                <div style={{ flex: 2 }}>
                                                    <input type="text" value={localidad} onChange={(e) => setLocalidad(e.target.value)} placeholder="Localidad *" style={inputStyle} />
                                                </div>
                                            </div>

                                            <div>
                                                <input type="text" value={provincia} onChange={(e) => setProvincia(e.target.value)} placeholder="Provincia *" style={inputStyle} />
                                            </div>

                                            {/* CHECKBOX GUARDAR DIRECCIÃ“N */}
                                            <div style={{ display: 'flex', alignItems: 'center', gap: '10px', marginTop: '5px' }}>
                                                <input 
                                                    type="checkbox" 
                                                    id="guardarDir" 
                                                    checked={guardarNuevaDireccion}
                                                    onChange={(e) => setGuardarNuevaDireccion(e.target.checked)}
                                                    style={{ width: '18px', height: '18px', cursor: 'pointer' }}
                                                />
                                                <label htmlFor="guardarDir" style={{ cursor: 'pointer', fontSize: '0.9rem', color: '#4b5563' }}>Guardar esta direcciÃ³n para futuras compras</label>
                                            </div>
                                        </div>
                                    </div>
                                )}
                            </div>
                        )}

                        {metodoEnvio === "Retiro en Tienda" && (
                            <div style={{ width: '100%', padding: '15px', backgroundColor: '#eff6ff', borderRadius: '8px', border: '1px solid #bfdbfe', color: '#1e40af' }}>
                                <strong>Â¡Excelente!</strong> Te esperamos en nuestra tienda para entregar tu pedido. No tiene costo de envÃ­o.
                            </div>
                        )}

                    </div>
                </div>

                {/* Columna derecha: Resumen */}
                <div className="cart-confirm">
                    <h1>Resumen del Pedido</h1>
                    
                    <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '10px', color: '#666' }}>
                        <span>EnvÃ­o ({metodoEnvio === "Retiro en Tienda" ? "Retiro" : "Domicilio"}):</span>
                        <span style={{ fontWeight: 'bold', color: costoEnvioFinal === 0 ? 'green' : 'black' }}>
                            {costoEnvioFinal === 0 ? "GRATIS" : `$${costoEnvioFinal}`}
                        </span>
                    </div>

                    <div style={{ marginTop: '20px', borderTop: '1px solid #eee', paddingTop: '20px' }}>
                        <p style={{ fontSize: '0.9rem', color: '#666', lineHeight: '1.5', marginBottom: '20px' }}>
                            Al confirmar, serÃ¡s redirigido a Mercado Pago para completar tu compra de forma segura.
                        </p>
                        
                        <button 
                            className="cart-btn" 
                            onClick={handlePagar}
                            disabled={loading}
                            style={{ opacity: loading ? 0.7 : 1 }}
                        >
                            {loading ? "Procesando..." : "Ir a Pagar"}
                        </button>
                    </div>
                </div>
            </div>
            
            <Footer_Landing />
        </div>
    );
};

// Estilos auxiliares
const inputStyle = {
    width: '100%', 
    padding: '10px', 
    borderRadius: '5px', 
    border: '1px solid #ccc',
    fontSize: '0.95rem'
};

const selectStyle = {
    width: '100%', 
    padding: '12px', 
    borderRadius: '5px', 
    border: '1px solid #ccc',
    fontSize: '1rem',
    backgroundColor: 'white',
    cursor: 'pointer'
};

export default Checkout;
--- FILE: C:\Workspace\ecommerce-front\src\tienda\pages\EstadoPago.jsx ---
import { useEffect } from "react";
import { useSearchParams, useNavigate, Link } from "react-router-dom";
import Header from "../components/Header";
import Footer_Landing from "../../landing/components/Footer_Landing";
import "../styles/Carrito.css"; // Reutilizamos estilos para mantener consistencia

function EstadoPago({ estado }) {
    const [searchParams] = useSearchParams();
    const navigate = useNavigate();
    
    // Mercado Pago devuelve estos datos en la URL
    const paymentId = searchParams.get("payment_id");
    const status = searchParams.get("status");
    const externalReference = searchParams.get("external_reference"); // Este es el ID del pedido

    // Recuperar la Ãºltima tienda visitada para el botÃ³n de volver
    const ultimaTienda = localStorage.getItem("auth_tiendaActual");

    // TÃ­tulos y mensajes segÃºn el estado
    const config = {
        exito: {
            titulo: "Â¡Pago Exitoso!",
            mensaje: "Tu compra se procesÃ³ correctamente. Te enviamos un email con los detalles.",
            color: "#28a745",
            icono: "ðŸŽ‰"
        },
        fallo: {
            titulo: "Hubo un problema",
            mensaje: "El pago fue rechazado o cancelado. Por favor intenta nuevamente.",
            color: "#dc3545",
            icono: "âŒ"
        },
        pendiente: {
            titulo: "Pago Pendiente",
            mensaje: "Estamos procesando tu pago. Te avisaremos cuando se confirme.",
            color: "#ffc107",
            icono: "â³"
        }
    };

    const info = config[estado] || config.exito;

    return (
        <div>
            <Header />
            <div className="main-carrito" style={{ justifyContent: 'center', alignItems: 'center', minHeight: '60vh' }}>
                <div className="cart-confirm" style={{ width: '100%', maxWidth: '500px', textAlign: 'center', padding: '40px' }}>
                    <div style={{ fontSize: '4rem', marginBottom: '20px' }}>
                        {info.icono}
                    </div>
                    
                    <h1 style={{ color: info.color, marginBottom: '15px' }}>{info.titulo}</h1>
                    
                    <p style={{ fontSize: '1.1rem', color: '#666', marginBottom: '20px' }}>
                        {info.mensaje}
                    </p>

                    <div style={{ backgroundColor: '#f9f9f9', padding: '15px', borderRadius: '8px', marginBottom: '25px', textAlign: 'left' }}>
                        <p style={{ margin: '5px 0' }}><strong>ID de Pago:</strong> {paymentId || "-"}</p>
                        <p style={{ margin: '5px 0' }}><strong>NÂ° Pedido:</strong> {externalReference || "-"}</p>
                        <p style={{ margin: '5px 0' }}><strong>Estado:</strong> {status || estado}</p>
                    </div>

                    {ultimaTienda ? (
                        <Link to={`/tienda/${ultimaTienda}/catalogo`} className="cart-btn" style={{ textDecoration: 'none', display: 'inline-block' }}>
                            Volver a la Tienda
                        </Link>
                    ) : (
                        <Link to="/" className="cart-btn" style={{ textDecoration: 'none', display: 'inline-block' }}>
                            Volver al Inicio
                        </Link>
                    )}
                </div>
            </div>
            <Footer_Landing />
        </div>
    );
}

export default EstadoPago;
--- FILE: C:\Workspace\ecommerce-front\src\tienda\pages\Home.jsx ---
import { useTienda } from "../contexts/TiendaContext";
import { useCarrito } from "../contexts/CarritoContext";
import { useAuth } from "../contexts/AuthContext";
import { useNotifications } from "../../contexts/NotificationContext";
import { getProductosByTienda } from "../services/productos";
import { useState, useEffect } from "react";
import { useNavigate, useLocation } from "react-router-dom";

import { MdOutlineAddShoppingCart } from "react-icons/md";

import Header from "../components/Header.jsx";
import CarouselImg from "../components/CarouselImg.jsx"; // Importamos el carrusel
import Footer_Landing from "../../landing/components/Footer_Landing.jsx";

import "../styles/Home.css";
import "../styles/Productos.css";

/**
* Componente Home
* Renderiza la pÃ¡gina principal del ecommerce.
* Muestra un grid de productos utilizando el componente ProductoHome
* con diferentes IDs para cada producto.
* * Esta pÃ¡gina es pÃºblica - no requiere autenticaciÃ³n para ver la tienda.
*/
const homeImages = [
    "/img/slider1.jpg",
    "/img/slider2.jpg",
    "/img/slider3.jpg",
    "/img/slider4.jpg",
    "/img/slider5.jpg"
];

function Home() {
    const { tienda, loading, error } = useTienda();
    const { agregarProducto } = useCarrito();
    const { usuario, isAuthenticated } = useAuth();
    const { error: showError } = useNotifications();
    const navigate = useNavigate();
    const location = useLocation();
    const [productos, setProductos] = useState([]);
    const [cargandoProductos, setCargandoProductos] = useState(true);
    const [errorProductos, setErrorProductos] = useState(null);
    const [productosAgregados, setProductosAgregados] = useState(new Set());

    // --- FIX BACKEND: FunciÃ³n para obtener la imagen principal ---
    const obtenerImagen = (prod) => {
        // 1. Si viene una lista (nueva logica Java: List<String>)
        if (prod.imagenes && Array.isArray(prod.imagenes) && prod.imagenes.length > 0) {
            return prod.imagenes[0];
        }
        // 2. Si viene un string (logica vieja: String)
        if (prod.imagen && typeof prod.imagen === 'string' && prod.imagen.trim() !== "") {
            return prod.imagen;
        }
        // 3. Fallback
        return "/default-product.png";
    };
    
    // --- NUEVA FUNCIÃ“N: Obtener lista de imÃ¡genes o default ---
    const obtenerListaImagenes = (prod) => {
        if (prod.imagenes && Array.isArray(prod.imagenes) && prod.imagenes.length > 0) {
            return prod.imagenes;
        }
        if (prod.imagen && typeof prod.imagen === 'string' && prod.imagen.trim() !== "") {
            return [prod.imagen];
        }
        return ["/default-product.png"];
    };
    // -------------------------------------------------------------

    /**
     * FunciÃ³n para formatear precios con puntos como separadores de miles
     */
    const formatearPrecio = (precio) => {
        const precioRedondeado = Math.round(precio || 0);
        return precioRedondeado.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
    };

    // Cargar productos de la tienda
    useEffect(() => {
        if (!tienda?.nombreUrl) {
            setCargandoProductos(false);
            return;
        }

        const cargarProductos = async () => {
            try {
                setCargandoProductos(true);
                setErrorProductos(null);
                // Debug: verificar quÃ© se estÃ¡ cargando
                console.log("Cargando productos para tienda:", tienda.nombreUrl);
                const productosData = await getProductosByTienda(tienda.nombreUrl);
                console.log("Productos cargados:", productosData);
        
                // Ordenar productos de mÃ¡s nuevos a mÃ¡s viejos (por ID descendente)
                const productosOrdenados = Array.isArray(productosData)
                    ? [...productosData].sort((a, b) => (b.id || 0) - (a.id || 0))
                    : [];
                
                // Mostrar solo los primeros 6 productos en la home
                setProductos(productosOrdenados.slice(0, 6));
            } catch (err) {
                console.error("Error cargando productos:", err);
                setErrorProductos(err.message || "Error al cargar productos");
       
            } finally {
                setCargandoProductos(false);
            }
        };

        cargarProductos();
    }, [tienda?.nombreUrl]);

    // Mostrar estado de carga mientras se obtiene la tienda
    if (loading) {
        return (
            <>
                <Header />
                <main className="main-home-contenedor">
                    <p>Cargando tienda...</p>
         
                </main>
                <Footer_Landing />
            </>
        );
    }

    // Mostrar error si la tienda no se encuentra
    if (error) {
        return (
            <>
                <Header />
                <main className="main-home-contenedor">
                    <div style={{ textAlign: "center", padding: "40px" }}>
 
                        <h2>Tienda no encontrada</h2>
                        <p>{error}</p>
                    </div>
                </main>
                <Footer_Landing />
            </>
   
        );
    }

    // Si no hay tienda cargada, mostrar mensaje
    if (!tienda) {
        return (
            <>
                <Header />
                <main className="main-home-contenedor">
                    <div style={{ 
                        textAlign: "center", padding: "40px" }}>
                        <h2>Tienda no encontrada</h2>
                        <p>La tienda que buscas no existe o no estÃ¡ disponible.</p>
                    </div>
                </main>
                <Footer_Landing />
            </>
        );
    }

    // Determinar quÃ© banners mostrar: los de la tienda o los por defecto
    const bannersAMostrar = (tienda.banners && Array.isArray(tienda.banners) && tienda.banners.length > 0) 
        ? tienda.banners 
        : homeImages;

    return (
        <>
            {/* Header de navegaciÃ³n de la aplicaciÃ³n */}
            <Header />
            
            {/*Carousel*/}
            <CarouselImg images={bannersAMostrar} />
            
     
            {/* Grid principal que contiene todos los productos */}
            <main className="main-home-contenedor">
                {cargandoProductos ? (
                    <p>Cargando productos...</p>
                ) : errorProductos ? (
        
                    <p style={{ color: "red" }}>Error: {errorProductos}</p>
                ) : productos.length === 0 ? (
                    <p>No hay productos disponibles en esta tienda.</p>
                ) : (
                    <div className="grid-home-prod">
 
                        {productos.map((prod) => {
                            const imagenes = obtenerListaImagenes(prod);
                            return (
                                <div key={prod.id} className="prod-home-container">
                                    {/* IMAGEN: Usar Carrusel si hay mÃ¡s de una imagen, si no, usar <img> normal */}
                                    {imagenes.length > 1 ? (
                                        <div className="prod-home-image-wrapper"> {/* Nuevo contenedor para el carrusel */}
                                            <CarouselImg images={imagenes} isProduct={true} />
                                        </div>
                                    ) : (
                                        <img 
                                            src={imagenes[0]} 
                                            alt={prod.nombre} 
                                            className="prod-home-image"
                                            onError={(e) => {
                                                if (!e.target.dataset.fallback) {
                                                    e.target.dataset.fallback = "true";
                                                    // Usar una imagen placeholder SVG
                                                    e.target.src = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Crect fill='%23ddd' width='200' height='200'/%3E%3Ctext fill='%23999' font-family='sans-serif' font-size='14' dy='10.5' font-weight='bold' x='50%25' y='50%25' text-anchor='middle'%3ESin imagen%3C/text%3E%3C/svg%3E";
                                                }
                                            }}
                                        />
                                    )}
                                    
                                    {/* Nombre del producto */}
                                    <h2 className="prod-home-nombre">{prod.nombre}</h2>
                                
                                    {/* Precio del producto */}
                                
                                    <p className="prod-home-precio">Precio: ${formatearPrecio(prod.precio)}</p>
                                    {/* Stock disponible del producto */}
                                    <p className="prod-home-stock">Stock: {prod.stock}</p>
                        
                                    {/* DescripciÃ³n del producto - SE ELIMINA 'DescripciÃ³n: ' */}
                                    <p className="prod-home-descripcion">{prod.descripcion ||
                                    "Sin descripciÃ³n"}</p>
                                    {/* BotÃ³n para agregar el producto al carrito */}
                                    <button
                                        style={{ display: "flex", alignItems: "center", justifyContent: "center", gap: "10px" }}
                                        className={`prod-home-btn-carrito ${productosAgregados.has(prod.id) ? 'agregado' : ''}`}
                                        onClick={async () => {
                                            // Verificar si el usuario estÃ¡ autenticado
                                            if (!isAuthenticated || !usuario) {
                                                showError("AtenciÃ³n", "Debes iniciar sesiÃ³n para comprar");
                                                navigate(`/tienda/${tienda.nombreUrl}/login`, { state: { from: location.pathname } });
                                                return;
                                            }

                                            // Activar animaciÃ³n inmediatamente
                                            setProductosAgregados(prev => new Set(prev).add(prod.id));
                                            setTimeout(() => {
                                                setProductosAgregados(prev => {
                                                    const nuevo = new Set(prev);
                                                    nuevo.delete(prod.id);
                                                    return nuevo;
                                                });
                                            }, 2000);
                                            // Llamar a la funciÃ³n de agregar (sin await para que sea instantÃ¡neo)
                                            agregarProducto(prod.id, 1);
                                        }}
                                    >
                                        {productosAgregados.has(prod.id) ? 'âœ“ Agregado' : <><MdOutlineAddShoppingCart size={25}/> Agregar al carrito</>}
                                    </button>
                                        
                                </div>
                            );
                        })}
                    </div>
                )}
            </main>
            {/* Footer de la pÃ¡gina */}
       
            <Footer_Landing />
        </>
    );
}

export default Home;
--- FILE: C:\Workspace\ecommerce-front\src\tienda\pages\HomeCategoria.jsx ---
import { useState, useEffect } from "react";
import { useParams } from "react-router-dom";
import { getProductosByTienda, getProductosByCategoria } from "../services/productos";
import { getCategoriasByTienda } from "../services/categorias";
import { useTienda } from "../contexts/TiendaContext";
import { useCarrito } from "../contexts/CarritoContext";
import { MdOutlineAddShoppingCart } from "react-icons/md";
import Header from "../components/Header.jsx";
import Footer_Landing from "../../landing/components/Footer_Landing.jsx";
import "../styles/Productos.css";
import "../styles/Filtros.css";

/**
 * Convierte un nombre de categorÃ­a a un slug para la URL
 * Reemplaza espacios con guiones y normaliza el texto
 */

function categoriaToSlug(nombre) {
    return nombre
        .toLowerCase()
        .normalize("NFD")
        .replace(/[\u0300-\u036f]/g, "") // Eliminar acentos
        .replace(/[^a-z0-9]+/g, "-") // Reemplazar espacios y caracteres especiales con guiones
        .replace(/^-+|-+$/g, ""); // Eliminar guiones al inicio y final
}

/**
 * Componente HomeCategoria
 * 
 * Muestra productos filtrados por categorÃ­a
 */
function HomeCategoria() {
    const { nombreTienda, categoriaNombre } = useParams();
    const {tienda, loading: tiendaLoading } = useTienda();
    const { agregarProducto } = useCarrito();
    const [productos, setProductos] = useState([]);
    const [productosOriginales, setProductosOriginales] = useState([]);
    const [categorias, setCategorias] = useState([]);
    const [categoriaActual, setCategoriaActual] = useState(null);
    const [loading, setLoading] = useState(true);
    const [error, setError] = useState(null);
    const [filtroOrden, setFiltroOrden] = useState('nuevos');
    const [productosAgregados, setProductosAgregados] = useState(new Set());

    // FunciÃ³n para obtener la imagen principal (misma lÃ³gica que en Home.jsx)
    const obtenerImagen = (prod) => {
        // 1. Si viene una lista (nueva logica Java: List<String>)
        if (prod.imagenes && Array.isArray(prod.imagenes) && prod.imagenes.length > 0) {
            return prod.imagenes[0];
        }
        // 2. Si viene un string (logica vieja: String)
        if (prod.imagen && typeof prod.imagen === 'string' && prod.imagen.trim() !== "") {
            return prod.imagen;
        }
        // 3. Fallback
        return "/default-product.png";
    };

    /**
     * FunciÃ³n para formatear precios con puntos como separadores de miles
     */
    const formatearPrecio = (precio) => {
        const precioRedondeado = Math.round(precio || 0);
        return precioRedondeado.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
    };

    useEffect(() => {
        const cargarDatos = async () => {
            if (!nombreTienda) {
                setError("Nombre de tienda no disponible");
                setLoading(false);
                return;
            }

            try {
                setLoading(true);
                
                // Cargar categorÃ­as
                const categoriasData = await getCategoriasByTienda(nombreTienda);
                setCategorias(categoriasData);

                // Buscar la categorÃ­a comparando el slug de la URL con el slug del nombre de la categorÃ­a
                const categoriaSlug = categoriaNombre || "";
                const categoria = categoriasData.find(
                    cat => categoriaToSlug(cat.nombre) === categoriaSlug
                );

                if (categoria) {
                    setCategoriaActual(categoria);
                    // Cargar productos de esa categorÃ­a
                    const productosData = await getProductosByCategoria(nombreTienda, categoria.id);
                    const productosArray = Array.isArray(productosData) ? productosData : [];
                    // Guardar productos originales y aplicar orden inicial
                    setProductosOriginales(productosArray);
                    aplicarFiltro(productosArray, filtroOrden);
                } else {
                    setError("CategorÃ­a no encontrada");
                    setProductos([]);
                    setProductosOriginales([]);
                }
            } catch (err) {
                console.error(err);
                setError(`Error cargando productos: ${err.response?.status} ${err.response?.statusText || err.message}`);
            } finally {
                setLoading(false);
            }
        };

        cargarDatos();
    }, [nombreTienda, categoriaNombre]);

    // FunciÃ³n para aplicar filtros de ordenamiento
    const aplicarFiltro = (productosData, tipoOrden) => {
        let productosOrdenados = [...productosData];
        
        switch(tipoOrden) {
            case 'a-z':
                productosOrdenados.sort((a, b) => {
                    const nombreA = (a.nombre || '').toLowerCase();
                    const nombreB = (b.nombre || '').toLowerCase();
                    return nombreA.localeCompare(nombreB);
                });
                break;
            case 'z-a':
                productosOrdenados.sort((a, b) => {
                    const nombreA = (a.nombre || '').toLowerCase();
                    const nombreB = (b.nombre || '').toLowerCase();
                    return nombreB.localeCompare(nombreA);
                });
                break;
            case 'precio-menor':
                productosOrdenados.sort((a, b) => (a.precio || 0) - (b.precio || 0));
                break;
            case 'precio-mayor':
                productosOrdenados.sort((a, b) => (b.precio || 0) - (a.precio || 0));
                break;
            case 'nuevos':
                productosOrdenados.sort((a, b) => (b.id || 0) - (a.id || 0));
                break;
            case 'viejos':
                productosOrdenados.sort((a, b) => (a.id || 0) - (b.id || 0));
                break;
            default:
                productosOrdenados.sort((a, b) => (b.id || 0) - (a.id || 0));
        }
        
        setProductos(productosOrdenados);
    };

    // Efecto para aplicar filtro cuando cambia
    useEffect(() => {
        if (productosOriginales.length > 0) {
            aplicarFiltro(productosOriginales, filtroOrden);
        }
        // eslint-disable-next-line react-hooks/exhaustive-deps
    }, [filtroOrden]);

    if (tiendaLoading || loading) {
        return (
            <>
                <Header />
                <div className="main-catalogo" style={{ display: "flex", justifyContent: "center", alignItems: "center" }}>
                    <p>Cargando productos...</p>
                </div>
            </>
        );
    }

    if (error) {
        return (
            <>
                <Header />
                <div className="main-catalogo">
                    <p style={{ color: "red" }}>{error}</p>
                </div>
            </>
        );
    }

    return (
        <div>
            <Header />
            <div className="main-catalogo" style={{ minHeight: "100vh" }}>
                <div style={{ maxWidth: "1200px", width: "100%", padding: "10px 0px 10px 0px", borderBottom: "1px solid var(--gray-400)", display: "flex", justifyContent: "space-between", alignItems: "center", flexWrap: "wrap", gap: "15px" }}>
                    <h2 style={{ margin: "0px" }}>
                        {categoriaActual ? `CategorÃ­a: ${categoriaActual.nombre}` : "CategorÃ­a no encontrada"}
                    </h2>
                    {productos.length > 0 && (
                        <div className="filtros-container">
                            <label htmlFor="filtro-orden-categoria" style={{ fontSize: "var(--font-size-base)" }}>
                                Ordenar por:
                            </label>
                            <select 
                                id="filtro-orden-categoria"
                                value={filtroOrden}
                                onChange={(e) => setFiltroOrden(e.target.value)}
                                className="filtro-select"
                            >
                                <option value="nuevos">MÃ¡s Nuevos</option>
                                <option value="viejos">MÃ¡s Viejos</option>
                                <option value="a-z">Nombre A-Z</option>
                                <option value="z-a">Nombre Z-A</option>
                                <option value="precio-menor">Precio: Menor a Mayor</option>
                                <option value="precio-mayor">Precio: Mayor a Menor</option>
                            </select>
                        </div>
                    )}
                </div>
                {productos.length === 0 ? (
                    <p>No hay productos disponibles en esta categorÃ­a.</p>
                ) : (
                    <div className="grid-home-prod" style={{ marginTop: "20px" }}>
                        {productos.map((prod) => (
                            <div key={prod.id} className="prod-home-container">
                                <img 
                                    src={obtenerImagen(prod)} 
                                    alt={prod.nombre} 
                                    className="prod-home-image"
                                    onError={(e) => {
                                        // Si la imagen falla al cargar, evitar bucle infinito
                                        if (!e.target.dataset.fallback) {
                                            e.target.dataset.fallback = "true";
                                            // Usar una imagen placeholder SVG
                                            e.target.src = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Crect fill='%23ddd' width='200' height='200'/%3E%3Ctext fill='%23999' font-family='sans-serif' font-size='14' dy='10.5' font-weight='bold' x='50%25' y='50%25' text-anchor='middle'%3ESin imagen%3C/text%3E%3C/svg%3E";
                                        }
                                    }}
                                />
                                <h2 className="prod-home-nombre">{prod.nombre}</h2>
                                <p className="prod-home-precio">Precio: ${formatearPrecio(prod.precio)}</p>
                                <p className="prod-home-stock">Stock: {prod.stock}</p>
                                <p className="prod-home-descripcion">DescripciÃ³n: {prod.descripcion}</p>
                                <button 
                                    style={{ display: "flex", alignItems: "center", justifyContent: "center", gap: "10px" }}
                                    className={`prod-home-btn-carrito ${productosAgregados.has(prod.id) ? 'agregado' : ''}`}
                                    onClick={() => {
                                        // Activar animaciÃ³n inmediatamente
                                        setProductosAgregados(prev => new Set(prev).add(prod.id));
                                        setTimeout(() => {
                                            setProductosAgregados(prev => {
                                                const nuevo = new Set(prev);
                                                nuevo.delete(prod.id);
                                                return nuevo;
                                            });
                                        }, 2000);
                                        // Llamar a la funciÃ³n de agregar (sin await para que sea instantÃ¡neo)
                                        agregarProducto(prod.id, 1);
                                    }}
                                >
                                    {productosAgregados.has(prod.id) ? 'âœ“ Agregado' : <><MdOutlineAddShoppingCart size={25}/> Agregar al carrito</>}
                                </button>
                            </div>
                        ))}
                    </div>
                )}
            </div>
            {/* Footer de la pÃ¡gina */}
            <Footer_Landing />
        </div>
    );
}

export default HomeCategoria;

--- FILE: C:\Workspace\ecommerce-front\src\tienda\pages\LoginComprador.jsx ---
import { useState, useEffect } from "react";
import { Link, useNavigate, useParams, useLocation } from "react-router-dom";
import { useAuth } from "../../tienda/contexts/AuthContext.jsx";
import { useNotifications } from "../../contexts/NotificationContext.jsx";
import Header from "../components/Header.jsx";
import "../../landing/styles/Login.css";
import "../../landing/styles/Landing.css";
import "../../MainStyles.css";
import { IoPerson } from "react-icons/io5";
import { FaLock } from "react-icons/fa";
import { IoMail } from "react-icons/io5";
import { FaAddressCard } from "react-icons/fa6";

import Footer_Landing from "../../landing/components/Footer_Landing.jsx";

/**
 * Componente Login Unificado
 * 
 * Componente Ãºnico que maneja tanto login de vendedores como de compradores.
 * Detecta automÃ¡ticamente el contexto segÃºn la ruta:
 * - /login -> vendedor (redirige a /admin/{nombreTienda})
 * - /tienda/:nombreTienda/login -> comprador (permanece en la tienda)
 * 
 * Mantiene el diseÃ±o y funcionalidad original del Login.jsx
 */
function LoginComprador() {
    const { login, register: registerUser, setUserType, isAuthenticated, tiendaUsuario } = useAuth();
    const { success: showSuccess, error: showError } = useNotifications();
    const navigate = useNavigate();
    const location = useLocation();
    const { nombreTienda } = useParams();
    
    // Detectar automÃ¡ticamente el tipo de usuario segÃºn la ruta
    const isComprador = location.pathname.includes('/tienda/') && nombreTienda;
    const userType = isComprador ? 'comprador' : 'vendedor';
    
    const [isRegisterActive, setIsRegisterActive] = useState(false);
    const [showLoginPassword, setShowLoginPassword] = useState(false);
    const [showRegisterPassword, setShowRegisterPassword] = useState(false);
    
    // Estados para el formulario de login
    const [loginForm, setLoginForm] = useState({
        email: '',
        password: ''
    });
    const [loginError, setLoginError] = useState(null);
    const [loginLoading, setLoginLoading] = useState(false);
    
    // Estados para el formulario de registro
    const [registerForm, setRegisterForm] = useState({
        dni: '',
        nombre: '',
        apellido: '',
        email: '',
        password: '',
        confirmPassword: ''
    });
    const [registerError, setRegisterError] = useState(null);
    const [registerSuccess, setRegisterSuccess] = useState(false);
    const [registerLoading, setRegisterLoading] = useState(false);

    // Redirigir si ya estÃ¡ autenticado
    useEffect(() => {
        if (isAuthenticated) {
            if (userType === 'vendedor') {
                // Vendedor: redirigir al admin
                if (tiendaUsuario) {
                    const nombreTiendaAdmin = tiendaUsuario.nombreUrl || tiendaUsuario.nombreTienda;
                    if (nombreTiendaAdmin) {
                        navigate(`/admin/${nombreTiendaAdmin}`, { replace: true });
                    } else {
                        navigate("/admin/dashboard", { replace: true });
                    }
                } else {
                    navigate("/admin/dashboard", { replace: true });
                }
            } else if (userType === 'comprador' && nombreTienda) {
                // Comprador dentro de una tienda: volver a donde estaba o al catÃ¡logo
                const returnPath = location.state?.from || `/tienda/${nombreTienda}/catalogo`;
                navigate(returnPath, { replace: true });
            } else if (userType === 'comprador' && !nombreTienda) {
                // Comprador en /login: redirigir al landing
                navigate("/", { replace: true });
            } else {
                // Si estÃ¡ autenticado pero no tiene tipo definido, redirigir al landing
                navigate("/", { replace: true });
            }
        }
    }, [isAuthenticated, userType, tiendaUsuario, nombreTienda, navigate, location]);

    // Manejador para los cambios en los inputs del login
    const handleLoginChange = (e) => {
        const { name, value } = e.target;
        setLoginForm(prev => ({
            ...prev,
            [name]: value
        }));
    };

    // Manejador para el envÃ­o del formulario de login
    const handleLogin = async (e) => {
        e.preventDefault();
        setLoginError(null);
        setLoginLoading(true);
        
        try {
            // Validaciones bÃ¡sicas
            if (!loginForm.email || !loginForm.email.includes('@')) {
                throw new Error("Email invÃ¡lido");
            }
            if (!loginForm.password || loginForm.password.length < 6) {
                throw new Error("La contraseÃ±a debe tener al menos 6 caracteres");
            }

            // Guardar tipo de usuario
            if (setUserType) {
                setUserType(userType);
            }
            localStorage.setItem("auth_userType", userType);
            
            // Preparar datos de login (solo email y password para la API)
            const credencialesLogin = {
                email: loginForm.email,
                password: loginForm.password
            };
            
            // Llamada al contexto de autenticaciÃ³n (sin DNI para compradores)
            const dniParaLogin = null;
            await login(credencialesLogin, dniParaLogin);
            
            // Mostrar notificaciÃ³n de Ã©xito (persistirÃ¡ entre navegaciones)
            showSuccess('Inicio de sesiÃ³n exitoso', 'Â¡Bienvenido de nuevo!');
            
            // RedirecciÃ³n segÃºn tipo de usuario
            setTimeout(() => {
                if (userType === 'vendedor') {
                    // Para vendedores: redirigir al admin de su tienda
                    const tiendaGuardada = localStorage.getItem("auth_tienda");
                    if (tiendaGuardada) {
                        try {
                            const tienda = JSON.parse(tiendaGuardada);
                            const nombreTiendaAdmin = tienda.nombreUrl || tienda.nombreTienda;
                            navigate(`/admin/${nombreTiendaAdmin}`, { replace: true });
                        } catch {
                            navigate("/admin/dashboard", { replace: true });
                        }
                    } else {
                        navigate("/admin/dashboard", { replace: true });
                    }
                } else if (userType === 'comprador') {
                    // Para compradores: volver a donde estaban o a la tienda
                    if (nombreTienda) {
                        localStorage.setItem("auth_tiendaActual", nombreTienda);
                        const returnPath = location.state?.from || `/tienda/${nombreTienda}/catalogo`;
                        navigate(returnPath, { replace: true });
                    } else {
                        navigate("/", { replace: true });
                    }
                }
            }, 500);
            
        } catch (error) {
            console.error("Error en login:", error);
            
            // Mensajes de error mÃ¡s especÃ­ficos
            let errorMessage = "Error al iniciar sesiÃ³n. Verifica tus credenciales.";
            
            if (error.message) {
                if (error.message.includes('timeout') || error.message.includes('tardÃ³ demasiado')) {
                    errorMessage = "La peticiÃ³n tardÃ³ demasiado. Verifica tu conexiÃ³n a internet.";
                } else if (error.message.includes('conexiÃ³n') || error.message.includes('Network Error')) {
                    errorMessage = "Error de conexiÃ³n. Verifica que el servidor estÃ© disponible o tu conexiÃ³n a internet.";
                } else if (error.message.includes('401') || error.message.includes('403')) {
                    errorMessage = "Credenciales incorrectas. Verifica tu email y contraseÃ±a.";
                } else {
                    errorMessage = error.message;
                }
            } else if (error.response?.data?.message) {
                errorMessage = error.response.data.message;
            } else if (error.response?.status === 401 || error.response?.status === 403) {
                errorMessage = "Credenciales incorrectas. Verifica tu email y contraseÃ±a.";
            } else if (error.response?.status >= 500) {
                errorMessage = "Error del servidor. Intenta nuevamente mÃ¡s tarde.";
            }
            
            setLoginError(errorMessage);
            
            // Mostrar notificaciÃ³n de error (persistirÃ¡ entre navegaciones)
            showError('Error al iniciar sesiÃ³n', errorMessage);
        } finally {
            setLoginLoading(false);
        }
    };

    // Manejador para los cambios en los inputs del registro
    const handleRegisterChange = (e) => {
        const { name, value } = e.target;
        setRegisterForm(prev => ({
            ...prev,
            [name]: value
        }));
    };

    // Manejador para el envÃ­o del formulario de registro
    const handleRegister = async (e) => {
        e.preventDefault();
        setRegisterError(null);
        setRegisterLoading(true);
        
        try {
            // Validaciones bÃ¡sicas
            if (!registerForm.dni || registerForm.dni.length < 7) {
                throw new Error("DNI invÃ¡lido (debe tener al menos 7 dÃ­gitos)");
            }
            if (!registerForm.nombre || registerForm.nombre.trim().length === 0) {
                throw new Error("El nombre es requerido");
            }
            if (!registerForm.apellido || registerForm.apellido.trim().length === 0) {
                throw new Error("El apellido es requerido");
            }
            if (!registerForm.email || !registerForm.email.includes('@')) {
                throw new Error("Email invÃ¡lido");
            }
            // ValidaciÃ³n de contraseÃ±a: mÃ­nimo 6 caracteres, al menos una mayÃºscula y un nÃºmero
            if (registerForm.password.length < 6) {
                throw new Error("La contraseÃ±a debe tener al menos 6 caracteres");
            }
            if (!/[A-Z]/.test(registerForm.password)) {
                throw new Error("La contraseÃ±a debe contener al menos una letra mayÃºscula");
            }
            if (!/[0-9]/.test(registerForm.password)) {
                throw new Error("La contraseÃ±a debe contener al menos un nÃºmero");
            }
            
            // Validar que las contraseÃ±as coincidan
            if (registerForm.password !== registerForm.confirmPassword) {
                throw new Error("Las contraseÃ±as no coinciden");
            }

            // Convertir DNI a nÃºmero
            const datosRegistro = {
                ...registerForm,
                dni: parseInt(registerForm.dni)
            };

            // Guardar tipo de usuario
            if (setUserType) {
                setUserType(userType);
            }
            localStorage.setItem("auth_userType", userType);
            
            if (userType === 'comprador' && nombreTienda) {
                localStorage.setItem("auth_tiendaActual", nombreTienda);
            }

            // Llamada al contexto de autenticaciÃ³n
            await registerUser(datosRegistro);
            
            // Mostrar notificaciÃ³n de Ã©xito (persistirÃ¡ entre navegaciones)
            showSuccess(
                'Cuenta creada con Ã©xito',
                userType === 'vendedor' 
                    ? 'Â¡Bienvenido! Redirigiendo al dashboard...' 
                    : 'Â¡Bienvenido! Redirigiendo...'
            );
            
            // RedirecciÃ³n segÃºn tipo de usuario
            if (userType === 'vendedor') {
                // Para vendedores: redirigir al dashboard despuÃ©s de 2 segundos
                setRegisterSuccess(true);
                setRegisterForm({
                    dni: '',
                    nombre: '',
                    apellido: '',
                    email: '',
                    password: '',
                    confirmPassword: ''
                });
                
                setTimeout(() => {
                    setIsRegisterActive(false);
                    setRegisterSuccess(false);
                    navigate("/admin/dashboard", { replace: true });
                }, 2000);
            } else if (userType === 'comprador') {
                // Para compradores: redirigir al catÃ¡logo despuÃ©s de 2 segundos
                setRegisterSuccess(true);
                setRegisterForm({
                    dni: '',
                    nombre: '',
                    apellido: '',
                    email: '',
                    password: '',
                    confirmPassword: ''
                });
                
                setTimeout(() => {
                    setIsRegisterActive(false);
                    setRegisterSuccess(false);
                    if (nombreTienda) {
                        navigate(`/tienda/${nombreTienda}/catalogo`, { replace: true });
                    } else {
                        navigate("/", { replace: true });
                    }
                }, 2000);
            } else {
                // Por defecto: cambiar al formulario de login
                setRegisterSuccess(true);
                setRegisterForm({
                    dni: '',
                    nombre: '',
                    apellido: '',
                    email: '',
                    password: '',
                    confirmPassword: ''
                });
                
                setTimeout(() => {
                    setIsRegisterActive(false);
                    setRegisterSuccess(false);
                }, 2000);
            }

        } catch (error) {
            console.error("Error en registro:", error);
            const errorMessage = error.response?.data?.message || 
                error.message || 
                "Error al registrar usuario";
            
            setRegisterError(errorMessage);
            
            // Mostrar notificaciÃ³n de error (persistirÃ¡ entre navegaciones)
            showError('Error al registrar', errorMessage);
        } finally {
            setRegisterLoading(false);
        }
    };

    // Textos personalizados segÃºn el tipo de usuario
    const getWelcomeText = () => {
        if (userType === 'comprador') {
            return {
                register: {
                    title: "Â¡Bienvenido!",
                    message: `Â¿AÃºn no tienes una cuenta en ${nombreTienda || 'esta tienda'}? RegÃ­strate y comienza a comprar.`,
                    button: "RegÃ­strate"
                },
                login: {
                    title: "Â¡Nos alegra verte de nuevo!",
                    message: "Â¿Ya tienes una cuenta?",
                    button: "Inicia sesiÃ³n"
                }
            };
        } else {
            return {
                register: {
                    title: "Â¡Bienvenido!",
                    message: "Â¿AÃºn no tienes una cuenta? RegÃ­strate y comienza tu experiencia como vendedor.",
                    button: "RegÃ­strate"
                },
                login: {
                    title: "Â¡Nos alegra verte de nuevo!",
                    message: "Â¿Ya tienes una cuenta?",
                    button: "Inicia sesiÃ³n"
                }
            };
        }
    };

    const welcomeTexts = getWelcomeText();

    return (
        <div>
            {/* Header de navegaciÃ³n */}
            <Header />

            {/* Contenedor principal del login */}
            <div className="main-login-tienda">
                <div className={`all-login-container ${isRegisterActive ? "active" : ""}`}>

                    {/* FORM LOGIN */}
                    <div className="login-box">
                        <form onSubmit={handleLogin}>
                            <h2>Iniciar SesiÃ³n</h2>
                            <div className="input-box-tienda">
                                <span className="icon">
                                    <IoMail name="mail-outline" size={20}/>
                                </span>
                                <input 
                                    type="email" 
                                    name="email"
                                    value={loginForm.email}
                                    onChange={handleLoginChange}
                                    required 
                                />
                                <label>Email</label>
                            </div>
                            <div className="input-box-tienda">
                                <span className="icon">
                                    <FaLock name="lock-closed-outline" size={18}/>
                                </span>
                                <input 
                                    type={showLoginPassword ? "text" : "password"}
                                    name="password"
                                    value={loginForm.password}
                                    onChange={handleLoginChange}
                                    required 
                                />
                                <label>ContraseÃ±a</label>
                            </div>
                            <div className="password-details">
                                <label>
                                    <input 
                                        type="checkbox"
                                        checked={showLoginPassword}
                                        onChange={(e) => setShowLoginPassword(e.target.checked)}
                                    />
                                    Mostrar contraseÃ±a
                                </label>
                            </div>
                            <div className="submit-button-contenedor-tienda">
                                <button type="submit" disabled={loginLoading}>
                                    {loginLoading ? "Iniciando sesiÃ³n..." : "Iniciar SesiÃ³n"}
                                </button>
                                {loginError && (
                                    <div className="error-message" style={{ color: 'red', marginTop: '10px', textAlign: 'center' }}>
                                        {loginError}
                                    </div>
                                )}
                            </div>
                                <Link to="/forgot-password" className="password-forgot-tienda">
                                Â¿Olvidaste tu contraseÃ±a?
                                </Link>
                        </form>
                    </div>

                    {/* FORM REGISTRO */}
                    <div className="register-box">
                        <form onSubmit={handleRegister}>
                            <h2>Registrarse</h2>
                            <div className="input-box-tienda">
                                <span className="icon">
                                    <FaAddressCard name="dni-outline" size={20}/>
                                </span>
                                <input 
                                    type="text" 
                                    name="dni"
                                    value={registerForm.dni}
                                    onChange={handleRegisterChange}
                                    pattern="^[0-9]{7,8}$" 
                                    inputMode="numeric" 
                                    maxLength="8"
                                    title="Ingrese un DNI vÃ¡lido (solo nÃºmeros, entre 7 y 8 dÃ­gitos)"
                                    required 
                                />
                                <label>DNI</label>
                            </div>
                            <div className="input-box-tienda">
                                <span className="icon">
                                    <IoPerson name="mail-outline" size={20}/>
                                </span>
                                <input 
                                    type="text" 
                                    name="nombre"
                                    value={registerForm.nombre}
                                    onChange={handleRegisterChange}
                                    required
                                />
                                <label>Nombre</label>
                            </div>
                            <div className="input-box-tienda">
                                <span className="icon">
                                    <IoPerson name="mail-outline" size={20}/>
                                </span>
                                <input 
                                    type="text" 
                                    name="apellido"
                                    value={registerForm.apellido}
                                    onChange={handleRegisterChange}
                                    required
                                />
                                <label>Apellido</label>
                            </div>
                            <div className="input-box-tienda">
                                <span className="icon">
                                    <IoMail name="mail-outline" size={20}/>
                                </span>
                                <input 
                                    type="email" 
                                    name="email"
                                    value={registerForm.email}
                                    onChange={handleRegisterChange}
                                    required 
                                />
                                <label>Email</label>
                            </div>
                            <div className="input-box-tienda">
                                <span className="icon">
                                    <FaLock name="lock-closed-outline" size={18}/>
                                </span>
                                <input 
                                    type={showRegisterPassword ? "text" : "password"}
                                    name="password"
                                    value={registerForm.password}
                                    onChange={handleRegisterChange}
                                    required 
                                />
                                <label>ContraseÃ±a</label>
                            </div>
                            <div className="input-box-tienda">
                                <span className="icon">
                                    <FaLock name="lock-closed-outline" size={18}/>
                                </span>
                                <input 
                                    type={showRegisterPassword ? "text" : "password"}
                                    name="confirmPassword"
                                    value={registerForm.confirmPassword}
                                    onChange={handleRegisterChange}
                                    required 
                                />
                                <label>Confirmar ContraseÃ±a</label>
                            </div>
                            <div className="password-details">
                                <label>
                                    <input 
                                        type="checkbox"
                                        checked={showRegisterPassword}
                                        onChange={(e) => setShowRegisterPassword(e.target.checked)}
                                    />
                                    Mostrar contraseÃ±a
                                </label>
                            </div>
                            <small style={{ color: '#666', fontSize: '0.85rem', marginTop: '-10px', marginBottom: '10px', display: 'block' }}>
                                La contraseÃ±a debe tener mÃ­nimo 6 caracteres, al menos una letra mayÃºscula y un nÃºmero.
                            </small>
                            <div className="submit-button-contenedor-tienda">
                                <button type="submit" disabled={registerLoading}>
                                    {registerLoading ? "Registrando..." : "Registrarse"}
                                </button>

                                {registerError && (
                                    <div className="error-message" style={{ color: 'red', marginTop: '10px', textAlign: 'center' }}>
                                        {registerError}
                                    </div>
                                )}
                                {registerSuccess && (
                                    <div className="success-message" style={{ color: 'green', marginTop: '10px', textAlign: 'center' }}>
                                        Â¡Registro exitoso! {userType === 'vendedor' ? 'Redirigiendo al dashboard...' : 'Redirigiendo...'}
                                    </div>
                                )}
                            </div>
                        </form>
                    </div>

                    {/* CONTENEDOR DE BIENVENIDA */}
                    <div className="container-welcome-tienda">
                        {/* Panel para el registro */}
                        <div className={`welcome-panel-tienda welcome-register ${isRegisterActive ? "hidden" : "visible"}`} aria-hidden={isRegisterActive}>
                            <h2>{welcomeTexts.register.title}</h2>
                            <p>{welcomeTexts.register.message}</p>
                            <button type="button" className="welcome-btn-tienda" onClick={() => setIsRegisterActive(true)}>
                                {welcomeTexts.register.button}
                            </button>
                        </div>
                        {/* Panel para el login */}
                        <div className={`welcome-panel-tienda welcome-login ${isRegisterActive ? "visible" : "hidden"}`} aria-hidden={!isRegisterActive}>
                            <h2>{welcomeTexts.login.title}</h2>
                            <p>{welcomeTexts.login.message}</p>
                            <button type="button" className="welcome-btn-tienda" onClick={() => setIsRegisterActive(false)}>
                                {welcomeTexts.login.button}
                            </button>
                        </div>
                    </div>
                </div>

                {/* BotÃ³n mÃ³vil para cambiar entre login y registro (fuera del contenedor) */}
                <div className="mobile-toggle-btn-container">
                    <p className="mobile-toggle-text">
                        {isRegisterActive ? welcomeTexts.login.message : welcomeTexts.register.message}
                    </p>
                    <button 
                        type="button" 
                        className="mobile-toggle-btn-tienda"
                        onClick={() => setIsRegisterActive(!isRegisterActive)}
                    >
                        {isRegisterActive ? welcomeTexts.login.button : welcomeTexts.register.button}
                    </button>
                </div>
            </div>
            <Footer_Landing />
        </div>
    );
}

export default LoginComprador;

--- FILE: C:\Workspace\ecommerce-front\src\tienda\pages\VerUsuarios.jsx ---
import { useState, useEffect } from "react";
import { getUsuarios } from "../services/usuarios";
import Header from "../components/Header.jsx";

/**
 * Componente para ver todos los usuarios registrados
 * Ãštil para verificar que el registro funciona correctamente
 */
function VerUsuarios() {
    const [usuarios, setUsuarios] = useState([]);
    const [loading, setLoading] = useState(true);
    const [error, setError] = useState(null);

    useEffect(() => {
        cargarUsuarios();
    }, []);

    const cargarUsuarios = async () => {
        setLoading(true);
        setError(null);
        try {
            const datos = await getUsuarios();
            setUsuarios(Array.isArray(datos) ? datos : []);
        } catch (err) {
            console.error("Error cargando usuarios:", err);
            setError(err.response?.data?.message || err.message || "Error al cargar usuarios");
        } finally {
            setLoading(false);
        }
    };

    return (
        <div>
            <Header />
            <div style={{ padding: "20px", maxWidth: "1200px", margin: "0 auto" }}>
                <h1>Usuarios Registrados</h1>
                <button 
                    onClick={cargarUsuarios} 
                    style={{ 
                        marginBottom: "20px", 
                        padding: "10px 20px",
                        backgroundColor: "#007bff",
                        color: "white",
                        border: "none",
                        borderRadius: "5px",
                        cursor: "pointer"
                    }}
                >
                    Actualizar Lista
                </button>

                {loading && <p>Cargando usuarios...</p>}
                
                {error && (
                    <div style={{ color: "red", marginBottom: "20px" }}>
                        Error: {error}
                    </div>
                )}

                {!loading && !error && (
                    <>
                        <p style={{ marginBottom: "20px" }}>
                            Total de usuarios: <strong>{usuarios.length}</strong>
                        </p>
                        
                        {usuarios.length === 0 ? (
                            <p>No hay usuarios registrados.</p>
                        ) : (
                            <table style={{ 
                                width: "100%", 
                                borderCollapse: "collapse",
                                border: "1px solid #ddd"
                            }}>
                                <thead>
                                    <tr style={{ backgroundColor: "#f2f2f2" }}>
                                        <th style={{ padding: "12px", border: "1px solid #ddd", textAlign: "left" }}>DNI</th>
                                        <th style={{ padding: "12px", border: "1px solid #ddd", textAlign: "left" }}>Nombre</th>
                                        <th style={{ padding: "12px", border: "1px solid #ddd", textAlign: "left" }}>Apellido</th>
                                        <th style={{ padding: "12px", border: "1px solid #ddd", textAlign: "left" }}>Email</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {usuarios.map((usuario) => (
                                        <tr key={usuario.dni}>
                                            <td style={{ padding: "12px", border: "1px solid #ddd" }}>{usuario.dni}</td>
                                            <td style={{ padding: "12px", border: "1px solid #ddd" }}>{usuario.nombre}</td>
                                            <td style={{ padding: "12px", border: "1px solid #ddd" }}>{usuario.apellido}</td>
                                            <td style={{ padding: "12px", border: "1px solid #ddd" }}>{usuario.email}</td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        )}
                    </>
                )}
            </div>
        </div>
    );
}

export default VerUsuarios;

--- FILE: C:\Workspace\ecommerce-front\src\tienda\services\api.js ---
import axios from "axios";

/**
 * ConfiguraciÃ³n base de Axios para la API
 * 
 * Incluye interceptores para:
 * - Agregar automÃ¡ticamente el token JWT en el header Authorization
 * - Manejar errores 401/403 (token invÃ¡lido o expirado)
 */

// FunciÃ³n para normalizar la URL y asegurar que termine en /api/
function normalizeBaseURL(url) {
    if (!url) return null;
    if (url.endsWith('/api/')) return url;
    if (url.endsWith('/api')) return url + '/';
    if (url.endsWith('/')) return url + 'api/';
    return url + '/api/';
}

// URL de producciÃ³n por defecto
const PROD_API_URL = 'https://ecommerce-back-1018928649112.us-central1.run.app/';

let baseURL;
if (import.meta.env.VITE_API_URL) {
    // Si hay VITE_API_URL definida, usarla (tiene prioridad)
    baseURL = normalizeBaseURL(import.meta.env.VITE_API_URL);
} else if (import.meta.env.DEV) {
    // En desarrollo: usar proxy solo si VITE_USE_PROXY=true, sino usar producciÃ³n
    const useProxy = import.meta.env.VITE_USE_PROXY === 'true';
    baseURL = useProxy ? '/api/' : normalizeBaseURL(PROD_API_URL);
} else {
    // En producciÃ³n: usar URL de producciÃ³n
    baseURL = normalizeBaseURL(PROD_API_URL);
}

const api = axios.create({
    baseURL: baseURL,
    timeout: 30000, // 30 segundos de timeout
    headers: {
        'Content-Type': 'application/json',
    },
});

// Interceptor: Agrega token JWT automÃ¡ticamente
api.interceptors.request.use((config) => {
    const token = localStorage.getItem("auth_token");
    if (token) {
        config.headers.Authorization = `Bearer ${token}`;
    }
    
    // Asegurar que Content-Type sea application/json si no estÃ¡ definido y no es FormData
    // Para mÃ©todos POST, PUT, PATCH que envÃ­an datos
    // NO establecer Content-Type para FormData - Axios lo maneja automÃ¡ticamente con el boundary
    if (!(config.data instanceof FormData)) {
        if (['post', 'put', 'patch'].includes(config.method?.toLowerCase())) {
            // Solo establecer Content-Type si no estÃ¡ ya definido explÃ­citamente
            if (!config.headers['Content-Type']) {
                config.headers['Content-Type'] = 'application/json';
            }
        }
    } else {
        // Para FormData, eliminar Content-Type para que Axios lo establezca automÃ¡ticamente con boundary
        delete config.headers['Content-Type'];
    }
    
    return config;
});

/**
 * Interceptor de response: Maneja errores de autenticaciÃ³n
 * Si recibe 401 o 403, elimina el token y redirige al login
 */
api.interceptors.response.use(
    (response) => response,
    (error) => {
        // Log bÃ¡sico de errores (solo en desarrollo)
        if (import.meta.env.DEV && error.response) {
            console.error(`[API Error] ${error.response.status} ${error.config?.url}:`, 
                error.response?.data?.message || error.message);
        }

        // Manejar timeout
        if (error.code === 'ECONNABORTED' || error.message === 'timeout of 30000ms exceeded') {
            error.message = 'La peticiÃ³n tardÃ³ demasiado. Verifica tu conexiÃ³n a internet.';
        }

        // Manejar errores de red
        if (error.code === 'ERR_NETWORK' || !error.response) {
            error.message = 'Error de conexiÃ³n. Verifica que el servidor estÃ© disponible.';
        }

        if (error.response?.status === 401 || error.response?.status === 403) {
            // Eliminar el token del localStorage
            localStorage.removeItem("auth_token");
            localStorage.removeItem("auth_user");
            
            // Redirigir al login solo si:
            // 1. No estamos ya en la pÃ¡gina de login
            // 2. No estamos en una ruta pÃºblica de tienda (las tiendas son pÃºblicas para ver)
            // 3. No estamos en la landing page
            const currentPath = window.location.pathname;
            const isPublicRoute = currentPath === "/login" || 
                                  currentPath === "/" ||
                                  currentPath.startsWith("/tienda/");
            
            if (!isPublicRoute) {
                window.location.href = "/login";
            }
        }
        return Promise.reject(error);
    }
);

export default api;
--- FILE: C:\Workspace\ecommerce-front\src\tienda\services\auth.js ---
import api from "./api";

/**
 * Servicios de autenticaciÃ³n
 * 
 * Maneja el registro y login de usuarios, devolviendo tokens JWT
 * segÃºn la documentaciÃ³n de la API v3
 */

/**
 * Registra un nuevo usuario y devuelve el token JWT
 * @param {Object} datos - Datos del usuario a registrar
 * @param {number} datos.dni - DNI del usuario
 * @param {string} datos.nombre - Nombre del usuario
 * @param {string} datos.apellido - Apellido del usuario
 * @param {string} datos.email - Email del usuario
 * @param {string} datos.password - ContraseÃ±a del usuario
 * @returns {Promise<Object>} Promesa que resuelve con { token: string }
 */
export async function register(datos) {
    const res = await api.post("auth/register", datos);
    return res.data; // Devuelve { token: "..." }
}

/**
 * Inicia sesiÃ³n y devuelve el token JWT
 * @param {Object} credenciales - Credenciales de login
 * @param {string} credenciales.email - Email del usuario
 * @param {string} credenciales.password - ContraseÃ±a del usuario
 * @returns {Promise<Object>} Promesa que resuelve con { token: string }
 */
export async function login(credenciales) {
    const res = await api.post("auth/login", credenciales);
    return res.data; // Devuelve { token: "..." }
}

/**
 * Verifica la cuenta de usuario mediante un cÃ³digo
 * @param {string} codigo - CÃ³digo de verificaciÃ³n
 * @returns {Promise<string>} Promesa que resuelve con un mensaje de confirmaciÃ³n
 */
export async function verifyAccount(codigo) {
    const res = await api.get(`auth/verify?code=${codigo}`);
    return res.data;
}

/**
 * Solicita la recuperaciÃ³n de contraseÃ±a
 * @param {Object} datos - Datos para recuperar contraseÃ±a
 * @param {number} datos.dni - DNI del usuario
 * @param {string} datos.email - Email del usuario
 * @returns {Promise<Object>} Promesa que resuelve con un mensaje de confirmaciÃ³n
 */
export async function forgotPassword(datos) {
    const res = await api.post("auth/forgot-password", datos);
    return res.data;
}

/**
 * Restablece la contraseÃ±a usando un token
 * @param {Object} datos - Datos para restablecer contraseÃ±a
 * @param {string} datos.token - Token de recuperaciÃ³n
 * @param {string} datos.newPassword - Nueva contraseÃ±a
 * @returns {Promise<Object>} Promesa que resuelve con un mensaje de confirmaciÃ³n
 */
export async function resetPassword(datos) {
    const res = await api.post("auth/reset-password", datos);
    return res.data;
}

/**
 * Cambia la contraseÃ±a desde el perfil (requiere contraseÃ±a actual)
 * @param {Object} datos - Datos para cambiar contraseÃ±a
 * @param {string} datos.currentPassword - ContraseÃ±a actual
 * @param {string} datos.newPassword - Nueva contraseÃ±a
 * @returns {Promise<Object>} Promesa que resuelve con un mensaje de confirmaciÃ³n
 */
export async function changePassword(datos) {
    const res = await api.post("auth/change-password", datos);
    return res.data;
}

--- FILE: C:\Workspace\ecommerce-front\src\tienda\services\carrito.js ---
import api from "./api";

/**
 * Servicios para interactuar con el endpoint de carrito de la API
 * Todas las operaciones de carrito requieren el nombreUrl (slug) de la tienda
 */

/**
 * Agrega un producto al carrito
 * @param {string} nombreTienda - El slug o identificador Ãºnico de la tienda
 * @param {Object} request - Objeto con usuarioDni, productoId y cantidad
 * @returns {Promise} Promesa que resuelve con el item del carrito agregado
 */
export async function agregarAlCarrito(nombreTienda, request) {
    const res = await api.post(`tiendas/${nombreTienda}/carrito/agregar`, request);
    return res.data;
}

/**
 * Obtiene el carrito completo de un usuario
 * @param {string} nombreTienda - El slug de la tienda
 * @param {number} usuarioDni - DNI del usuario
 * @returns {Promise} Promesa que resuelve con la lista de items del carrito
 */
export async function obtenerCarrito(nombreTienda, usuarioDni) {
    const res = await api.get(`tiendas/${nombreTienda}/carrito/${usuarioDni}`);
    return res.data;
}

/**
 * Elimina un item especÃ­fico del carrito
 * @param {string} nombreTienda - El slug de la tienda
 * @param {number} idItem - ID del item a eliminar
 * @returns {Promise} Promesa que se resuelve cuando el item es eliminado
 */
export async function eliminarItemCarrito(nombreTienda, idItem) {
    await api.delete(`tiendas/${nombreTienda}/carrito/item/${idItem}`);
}

/**
 * VacÃ­a completamente el carrito de un usuario
 * @param {string} nombreTienda - El slug de la tienda
 * @param {number} usuarioDni - DNI del usuario
 * @returns {Promise} Promesa que se resuelve cuando el carrito es vaciado
 */
export async function vaciarCarrito(nombreTienda, usuarioDni) {
    await api.delete(`tiendas/${nombreTienda}/carrito/vaciar/${usuarioDni}`);
}

/**
 * Actualiza la cantidad de un item del carrito
 * Nota: Como el backend no tiene un endpoint especÃ­fico para actualizar,
 * se elimina el item y se agrega uno nuevo con la cantidad actualizada
 * @param {string} nombreTienda - El slug de la tienda
 * @param {number} idItem - ID del item a actualizar
 * @param {number} productoId - ID del producto
 * @param {number} usuarioDni - DNI del usuario
 * @param {number} nuevaCantidad - Nueva cantidad del producto
 * @returns {Promise} Promesa que resuelve con el item actualizado
 */
export async function actualizarCantidadCarrito(nombreTienda, idItem, productoId, usuarioDni, nuevaCantidad) {
    // Eliminar el item actual
    await eliminarItemCarrito(nombreTienda, idItem);
    
    // Agregar uno nuevo con la cantidad actualizada
    return await agregarAlCarrito(nombreTienda, {
        usuarioDni: usuarioDni,
        productoId: productoId,
        cantidad: nuevaCantidad
    });
}

--- FILE: C:\Workspace\ecommerce-front\src\tienda\services\categorias.js ---
import api from "./api";

/**
 * Servicios para interactuar con el endpoint de categorÃ­as de la API
 * 
 * Todas las operaciones de categorÃ­as requieren el nombreUrl (slug) de la tienda
 */

/**
 * Obtiene todas las categorÃ­as de una tienda
 * @param {string} nombreTienda - El slug o identificador Ãºnico de la tienda
 * @returns {Promise} Promesa que resuelve con la lista de categorÃ­as
 */
export async function getCategoriasByTienda(nombreTienda) {
    const res = await api.get(`tiendas/${nombreTienda}/categorias`);
    return res.data;
}

/**
 * Obtiene una categorÃ­a por su ID
 * @param {string} nombreTienda - El slug de la tienda
 * @param {number} id - ID de la categorÃ­a
 * @returns {Promise} Promesa que resuelve con los datos de la categorÃ­a
 */
export async function getCategoriaById(nombreTienda, id) {
    const res = await api.get(`tiendas/${nombreTienda}/categorias/${id}`);
    return res.data;
}

/**
 * Crea una nueva categorÃ­a
 * @param {string} nombreTienda - El slug de la tienda
 * @param {Object} data - Datos de la categorÃ­a (debe incluir 'nombre')
 * @returns {Promise} Promesa que resuelve con los datos de la categorÃ­a creada
 */
export async function createCategoria(nombreTienda, data) {
    const res = await api.post(`tiendas/${nombreTienda}/categorias`, data);
    return res.data;
}

/**
 * Actualiza una categorÃ­a existente
 * @param {string} nombreTienda - El slug de la tienda
 * @param {number} id - ID de la categorÃ­a a actualizar
 * @param {Object} data - Datos de la categorÃ­a a actualizar
 * @returns {Promise} Promesa que resuelve con los datos de la categorÃ­a actualizada
 */
export async function updateCategoria(nombreTienda, id, data) {
    const res = await api.patch(`tiendas/${nombreTienda}/categorias/${id}`, data);
    return res.data;
}

/**
 * Elimina una categorÃ­a
 * @param {string} nombreTienda - El slug de la tienda
 * @param {number} id - ID de la categorÃ­a a eliminar
 * @returns {Promise} Promesa que se resuelve cuando la categorÃ­a es eliminada
 */
export async function deleteCategoria(nombreTienda, id) {
    await api.delete(`tiendas/${nombreTienda}/categorias/${id}`);
}
--- FILE: C:\Workspace\ecommerce-front\src\tienda\services\direcciones.js ---
import api from "./api";

/**
 * Obtiene todas las direcciones guardadas de un usuario
 */
export async function getDireccionesByUsuario(dni) {
    const res = await api.get(`usuarios/direcciones/${dni}`);
    return res.data;
}

/**
 * Guarda una nueva direcciÃ³n para el usuario
 */
export async function createDireccion(data) {
    const res = await api.post(`usuarios/direcciones`, data);
    return res.data;
}
--- FILE: C:\Workspace\ecommerce-front\src\tienda\services\pagos.js ---
import api from "./api";

/**
 * Servicios para interactuar con el endpoint de pagos (Mercado Pago)
 */

/**
 * Crea una preferencia de pago en Mercado Pago para un pedido existente
 * @param {number} pedidoId - ID del pedido creado
 * @returns {Promise<Object>} Objeto con la URL de pago { url: "..." }
 */
export async function crearPreferenciaPago(pedidoId) {
    const res = await api.post(`pagos/crear/${pedidoId}`);
    return res.data; 
}
--- FILE: C:\Workspace\ecommerce-front\src\tienda\services\pedidos.js ---
import api from "./api";

/**
 * Servicios para interactuar con el endpoint de pedidos de la API
 */

/**
 * Crea un nuevo pedido
 * @param {string} nombreTienda - Slug de la tienda
 * @param {Object} data - Datos del pedido (usuarioDni, direccionEnvio, items, etc)
 */
export async function createPedido(nombreTienda, data) {
    // MODIFICADO: Se agrega nombreTienda a la URL para coincidir con el backend
    const res = await api.post(`tiendas/${nombreTienda}/pedidos`, data);
    return res.data;
}

/**
 * Obtiene todos los pedidos de una tienda
 * @param {string} nombreTienda - Slug de la tienda
 * @returns {Promise<Array>} Lista de pedidos
 */
export async function getPedidosByTienda(nombreTienda) {
    const res = await api.get(`tiendas/${nombreTienda}/pedidos`);
    return res.data;
}

export async function getPedidoById(nombreTienda, id) {
    const res = await api.get(`tiendas/${nombreTienda}/pedidos/${id}`);
    return res.data;
}

/**
 * Actualiza un pedido existente
 * @param {string} nombreTienda - Slug de la tienda
 * @param {number} id - ID del pedido
 * @param {Object} data - Datos del pedido a actualizar (ej: { estado: 'NUEVO_ESTADO' })
 * @returns {Promise<Object>} Pedido actualizado
 */
export async function updatePedido(nombreTienda, id, data) {
    const res = await api.patch(`tiendas/${nombreTienda}/pedidos/${id}`, data);
    return res.data;
}

export async function deletePedido(nombreTienda, id) {
    await api.delete(`tiendas/${nombreTienda}/pedidos/${id}`);
}

export async function getPedidosByUsuario(nombreTienda, dni) {
    const res = await api.get(`tiendas/${nombreTienda}/pedidos/usuario/${dni}`);
    return res.data;
}

/**
 * Obtiene todos los pedidos realizados por un usuario (Historial global sin importar tienda)
 * @param {number} dni - DNI del usuario
 * @returns {Promise<Array>} Lista de pedidos
 */
export async function getPedidosGlobalesUsuario(dni) {
    const res = await api.get(`usuarios/${dni}/pedidos`);
    return res.data;
}
--- FILE: C:\Workspace\ecommerce-front\src\tienda\services\productos.js ---
import api from "./api";

/**
 * Servicios para interactuar con el endpoint de productos de la API
 * * Todas las operaciones de productos requieren el nombreUrl (slug) de la tienda
 */

/**
 * Obtiene todos los productos de una tienda
 * @param {string} nombreTienda - El slug o identificador Ãºnico de la tienda
 * @param {string} sort - Ordenamiento opcional (ej: "precio", "nombre")
 * @returns {Promise} Promesa que resuelve con la lista de productos
 */
export async function getProductosByTienda(nombreTienda, sort = null) {
    const params = sort ? { sort } : {};
    const res = await api.get(`tiendas/${nombreTienda}/productos`, { params });
    return res.data;
}

/**
 * Obtiene un producto por su ID
 * @param {string} nombreTienda - El slug de la tienda
 * @param {number} id - ID del producto
 * @returns {Promise} Promesa que resuelve con los datos del producto
 */
export async function getProductoById(nombreTienda, id) {
    const res = await api.get(`tiendas/${nombreTienda}/productos/${id}`);
    return res.data;
}

/**
 * Crea un nuevo producto (requiere multipart/form-data)
 * @param {string} nombreTienda - El slug de la tienda
 * @param {FormData} formData - FormData con los campos 'producto' (JSON string) y 'files' (lista de imagenes)
 * @returns {Promise} Promesa que resuelve con los datos del producto creado
 */
export async function createProducto(nombreTienda, formData) {
    const res = await api.post(`tiendas/${nombreTienda}/productos`, formData, {
        headers: {
            "Content-Type": "multipart/form-data",
        },
    });
    return res.data;
}

/**
 * Actualiza un producto existente
 * @param {string} nombreTienda - El slug de la tienda
 * @param {number} id - ID del producto a actualizar
 * @param {FormData} formData - Datos del producto a actualizar (FormData para soportar imÃ¡genes)
 * @returns {Promise} Promesa que resuelve con los datos del producto actualizado
 */
export async function updateProducto(nombreTienda, id, formData) {
    const res = await api.patch(`tiendas/${nombreTienda}/productos/${id}`, formData, {
        headers: {
            "Content-Type": "multipart/form-data",
        },
    });
    return res.data;
}

/**
 * Elimina un producto
 * @param {string} nombreTienda - El slug de la tienda
 * @param {number} id - ID del producto a eliminar
 * @returns {Promise} Promesa que se resuelve cuando el producto es eliminado
 */
export async function deleteProducto(nombreTienda, id) {
    await api.delete(`tiendas/${nombreTienda}/productos/${id}`);
}

/**
 * Busca productos por nombre
 * @param {string} nombreTienda - El slug de la tienda
 * @param {string} termino - TÃ©rmino de bÃºsqueda
 * @returns {Promise} Promesa que resuelve con la lista de productos encontrados
 */
export async function buscarProductos(nombreTienda, termino) {
    const res = await api.get(`tiendas/${nombreTienda}/productos/buscar`, {
        params: { q: termino }
    });
    return res.data;
}

/**
 * Obtiene productos por categorÃ­a
 * @param {string} nombreTienda - El slug de la tienda
 * @param {number} categoriaId - ID de la categorÃ­a
 * @returns {Promise} Promesa que resuelve con la lista de productos de la categorÃ­a
 */
export async function getProductosByCategoria(nombreTienda, categoriaId) {
    const res = await api.get(`tiendas/${nombreTienda}/productos/categoria/${categoriaId}`);
    return res.data;
}
--- FILE: C:\Workspace\ecommerce-front\src\tienda\services\tiendas.js ---
import api from "./api";

/**
 * Servicios para interactuar con el endpoint de tiendas de la API
 * Todas las operaciones de tiendas requieren el nombreUrl (slug) de la tienda
 */

/**
 * Obtiene todas las tiendas registradas (Para la pÃ¡gina Explorar)
 * @returns {Promise} Promesa que resuelve con la lista de todas las tiendas
 */
export async function getAllTiendas() {
    const res = await api.get("tiendas");
    return res.data;
}

/**
 * Obtiene una tienda por su nombreUrl (slug)
 * @param {string} nombreUrl - El slug o identificador Ãºnico de la tienda
 * @returns {Promise} Promesa que resuelve con los datos de la tienda
 */
export async function getTiendaBySlug(nombreUrl) {
    const res = await api.get(`tiendas/${nombreUrl}`);
    return res.data;
}

/**
 * Crea una nueva tienda (requiere multipart/form-data)
 * @param {FormData} formData - FormData con los campos 'tienda' (JSON string), 'file' (logo) y 'banners' (lista)
 * @returns {Promise} Promesa que resuelve con los datos de la tienda creada
 */
export async function createTienda(formData) {
    const res = await api.post("tiendas", formData, {
        headers: {
            "Content-Type": "multipart/form-data",
        },
    });
    return res.data;
}

/**
 * Actualiza una tienda existente (requiere multipart/form-data)
 * @param {string} nombreUrl - El slug de la tienda a actualizar
 * @param {FormData} formData - FormData con los campos 'tienda', 'file', 'banners'
 * @returns {Promise} Promesa que resuelve con los datos de la tienda actualizada
 */
export async function updateTienda(nombreUrl, formData) {
    const res = await api.patch(`tiendas/${nombreUrl}`, formData, {
        headers: {
            "Content-Type": "multipart/form-data",
        },
    });
    return res.data;
}

/**
 * Obtiene la tienda de un vendedor por su DNI
 * Requiere estar autenticado y que el DNI coincida con el usuario logueado
 * @param {number} vendedorDni - DNI del vendedor
 * @returns {Promise<Object|null>} Promesa que resuelve con la tienda o null
 */
export async function getTiendaByVendedor(vendedorDni) {
    try {
        const res = await api.get(`tiendas/vendedor/${vendedorDni}`);
        return res.data;
    } catch (error) {
        // Si el endpoint no existe o el usuario no tiene tienda, retornar null
        if (error.response?.status === 404 || error.response?.status === 403) {
            return null;
        }
        // Si es un error de red o timeout, tambiÃ©n retornar null para no bloquear
        if (!error.response) {
            console.warn("Error de red al obtener tienda por vendedor:", error.message);
            return null;
        }
        throw error;
    }
}

/**
 * Elimina una tienda y todo su contenido (productos, categorÃ­as, etc.)
 * @param {string} nombreUrl - El slug de la tienda a eliminar
 * @returns {Promise<void>} Promesa que se resuelve cuando la tienda es eliminada
 */
export async function deleteTienda(nombreUrl) {
    await api.delete(`tiendas/${nombreUrl}`);
}
--- FILE: C:\Workspace\ecommerce-front\src\tienda\services\usuarios.js ---
import api from "./api";

/**
 * Servicios para interactuar con el endpoint de usuarios de la API
 */

export async function getUsuarios() {
    const res = await api.get("usuarios");
    return res.data;
}

export async function getUsuarioByDni(dni) {
    const res = await api.get(`usuarios/${dni}`);
    return res.data;
}

export async function createUsuario(data) {
    const res = await api.post("usuarios", data);
    return res.data;
}

export async function updateUsuario(dni, data) {
    const res = await api.patch(`usuarios/${dni}`, data);
    return res.data;
}

export async function deleteUsuario(dni) {
    await api.delete(`usuarios/${dni}`);
}
--- FILE: C:\Workspace\ecommerce-front\src\tienda\styles\CarouselImg.css ---
/* Base container style */
.carousel-container {
    width: 100%;
    position: relative;
    overflow: hidden;
    background-color: #fff;
}

/* === ESTILO PARA BANNER PRINCIPAL (HOME) === */
.carousel-container.banner-mode {
    max-width: 1270px;
    height: 380px;
    /* FIX MARGEN: Reducido margen inferior de 20px a 5px */
    margin: 20px auto 5px auto;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

/* === ESTILO PARA IMÃGENES DE PRODUCTOS (CARDS) === */
.carousel-container.product-mode {
    height: 100%;
    min-height: 220px;
    margin: 0;
    border-radius: 8px;
    box-shadow: none;
}

.carousel-track {
    display: flex;
    width: 100%;
    height: 100%;
    transition: transform 0.5s ease-in-out;
}

.carousel-slide {
    min-width: 100%;
    width: 100%;
    height: 100%;
    flex-shrink: 0;
    position: relative;
    overflow: hidden;
}

.carousel-slide img {
    width: 100%;
    height: 100%;
    display: block;
    image-rendering: -webkit-optimize-contrast;
}

/* Botones */
.carousel-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(0,0,0,0.3);
    border: none;
    padding: 10px;
    color: white;
    font-size: 20px;
    cursor: pointer;
    border-radius: 50%;
    transition: 0.3s;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 2;
    width: 40px;
    height: 40px;
}

.carousel-btn:hover {
    background: rgba(0,0,0,0.7);
}

.carousel-btn.left {
    left: 10px;
}

.carousel-btn.right {
    right: 10px;
}

/* Indicadores */
.carousel-indicators {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
    z-index: 2;
}

.indicator {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.5);
    cursor: pointer;
    transition: background-color 0.3s;
}

.indicator.active {
    background-color: white;
    transform: scale(1.2);
}

/* ==================================  RESPONSIVE  =========================================================== */

@media screen and (max-width: 768px) {
    .carousel-container.banner-mode {
        height: 220px;
        margin: 15px auto 5px auto; /* Menos margen en tablets tambiÃ©n */
        width: 95%;
    }
}

@media screen and (max-width: 480px) {
    .carousel-container.banner-mode {
        height: 160px;
        margin: 10px auto 5px auto;
        border-radius: 8px;
        width: 95%;
    }

    .carousel-btn {
        width: 30px;
        height: 30px;
        font-size: 16px;
        background: rgba(0,0,0,0.2);
    }
}
--- FILE: C:\Workspace\ecommerce-front\src\tienda\styles\Carrito.css ---
.main-carrito {
    margin: 0px auto;
    padding: 20px;
    max-width: 1270px;
    display: flex;
    gap: 30px;
    /* RESPONSIVE: Envolver si no hay espacio */
    flex-wrap: wrap; 
}

.items-cart-cont {
    width: 70%;
    display: flex;
    flex-direction: column;
    gap: 10px;    
}

.items-cart {
    background-color: #fff;
    border: var(--border-width-sm) solid var(--border-color-dark);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-sm);
    height: 140px;
    display: flex;
    gap: 10px;
    transition: var(--transition-normal);
    overflow: hidden; /* Evitar desbordes */
}

.items-cart:hover{
    box-shadow: var(--shadow-lg);
    transform: translateY(-2px);
}

/* Imagenes de los productos en el carrito */
.items-cart img {
    margin: 10px 0px 10px 5px;
    padding: 0;
    width: 120px; /* Reducido un poco */
    height: 120px;
    object-fit: contain;
    border-radius: var(--border-radius);
    align-self: center;
    flex-shrink: 0; /* Evitar que se aplaste */
} 

/* Productos en el carrito */
.prod-cart-container {
    margin: 10px 10px 10px 5px;
    display: flex;
    flex-direction: row;
    flex: 1;
    min-width: 0; /* Permite que el texto se trunque si es necesario */
}

/* Datos del producto en el carrito */
.prod-cart-nombre, .prod-cart-cantidad, .prod-cart-precio, .prod-cart-subtotal {
    margin: 0;
    padding: 0;
}

.prod-cart-data-left {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    min-width: 0;
}

.prod-cart-data-right {
    display: flex;
    flex-direction: column;
    gap: 5px;
    justify-content: space-between;
    align-items: end;
    margin-left: 10px;
}

.prod-cart-nombre {
    font-size: var(--font-size-lg); /* Un poco mÃ¡s chico para mÃ³vil */
    font-weight: 600;
    color: var(--text-gray-3);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100%;
}

.prod-cart-precio {
    font-size: 1.4rem;
    font-weight: bold;
    color: var(--green-800);
}

.prod-cart-subtotal {
    font-size: var(--font-size-base);
    color: var(--text-gray-3);
}

/* ------------------ Controles de cantidad -------------------------- */
.cantidad-controls {
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.cantidad-label {
    font-size: var(--font-size-sm);
    color: var(--text-gray-2);
    font-weight: 500;
    margin: 0;
}

.cantidad-input-group {
    display: flex;
    align-items: center;
    gap: 0;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    width: fit-content;
    overflow: hidden;
    background-color: #fff;
}

.cantidad-btn {
    background-color: var(--green-650);
    color: #fff;
    border: none;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 18px;
    font-weight: bold;
    padding: 0;
}

.prod-cart-cantidad-input {
    width: 45px;
    height: 32px;
    border: none;
    border-left: 1px solid var(--border-color);
    border-right: 1px solid var(--border-color);
    text-align: center;
    font-size: var(--font-size-base);
    font-weight: 600;
    color: var(--text-primary);
    padding: 0;
    margin: 0;
}

/* ----------------------------Seccion Confirmar compra---------------------------- */
.cart-confirm {
    background-color: #fff;
    border: var(--border-width-sm) solid var(--border-color-dark);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-md);
    width: 28%; /* Ancho fijo para desktop */
    padding: 25px;
    gap: 15px;
    display: flex;
    height: fit-content;
    flex-direction: column;
}

.cart-confirm h2 {
    margin: 0 0 20px 0;
    font-size: var(--font-size-2xl);
    color: var(--text-primary);
    border-bottom: var(--border-width-sm) solid var(--border-color-dark);
}

.cart-item-summary {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
    padding-bottom: 10px;
    border-bottom: 1px solid #e0e0e0;
}

.cart-item-summary-name {
    flex: 1;
    margin-right: 10px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    font-size: 0.9rem;
}

.cart-item-summary-price {
    font-weight: bold;
    white-space: nowrap;
}

.cart-total {
    display: flex;
    justify-content: space-between;
    margin-top: 20px;
    padding-top: 20px;
    border-top: 2px solid #333;
    font-weight: bold;
    font-size: 1.5em;
}

.cart-btn {
    width: 100%;
    padding: 12px 20px;
    background-color: var(--green-650);
    color: #fff;
    border: none;
    border-radius: var(--border-radius);
    font-size: var(--font-size-lg);
    cursor: pointer;
    transition: var(--transition-normal);
}

.cart-btn:hover {
    background-color: var(--green-800);
    transform: scale(1.02);
}

/* ==================================  RESPONSIVE  =========================================================== */

@media screen and (max-width: 900px) {
    .main-carrito {
        flex-direction: column; /* Apilar verticalmente */
        padding: 15px;
        gap: 20px;
    }

    .items-cart-cont {
        width: 100%; /* Ocupar todo el ancho */
    }

    .cart-confirm {
        width: 100%; /* Ocupar todo el ancho */
        order: -1; /* Opcional: Si quieres que el resumen aparezca ARRIBA en mÃ³viles, descomenta esto. Si no, dÃ©jalo comentado */
        /* order: 2; */
    }
    
    .items-cart {
        height: auto; /* Altura flexible */
        flex-direction: row;
        padding: 10px;
        align-items: center;
    }
    
    .items-cart img {
        width: 90px;
        height: 90px;
    }
    
    .prod-cart-precio {
        font-size: 1.2rem;
    }
}

@media screen and (max-width: 480px) {
    .items-cart {
        flex-direction: column; /* Apilar imagen y datos en pantallas MUY chicas */
        height: auto;
        text-align: center;
        padding-bottom: 15px;
    }
    
    .prod-cart-container {
        flex-direction: column;
        width: 100%;
        gap: 15px;
    }
    
    .prod-cart-data-right {
        align-items: center;
        margin: 0;
    }
    
    .cantidad-controls {
        align-items: center;
    }
    
    /* Ajuste para el botÃ³n de eliminar (basura) */
    .items-cart > button { 
        width: 100%;
        border-radius: 0 0 var(--border-radius-lg) var(--border-radius-lg) !important;
    }
}
--- FILE: C:\Workspace\ecommerce-front\src\tienda\styles\Filtros.css ---
/* Estilos para los filtros de ordenamiento */

.filtros-container {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
}

.filtro-select {
    padding: 8px 12px;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    background-color: #fff;
    font-size: var(--font-size-base);
    font-family: var(--font-family-Teachers);
    color: var(--text-primary);
    cursor: pointer;
    transition: var(--transition-normal);
    min-width: 200px;
}

.filtro-select:hover {
    border-color: var(--green-650);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.filtro-select:focus {
    outline: none;
    border-color: var(--green-650);
    box-shadow: 0 0 0 2px rgba(71, 150, 89, 0.2);
}

.filtro-select option {
    padding: 8px;
}

/* Responsive */
@media screen and (max-width: 768px) {
    .filtros-container {
        width: 100%;
        margin-top: 10px;
    }
    
    .filtro-select {
        flex: 1;
        min-width: auto;
    }
}

--- FILE: C:\Workspace\ecommerce-front\src\tienda\styles\Header.css ---
.link-logo,
.link-login,
.link-carrito{
    text-decoration: none;
    color: var(--text-gray-2)
}
a{
    text-decoration: none;
    color: var(--text-gray-2)
}

.header-all-contenedor {
    top: 0;
    left: 0;
    width: 100%;
    z-index: 1000;
    /* Asegura que estÃ© siempre encima de los productos */
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    /* Sombrita para separar del fondo */
    border-bottom: 2px solid var(--green-900);
    background-color: var(--green-650);
    display: flex;
    justify-content: center;
    align-items: center;
}

.header {
    background-color: var(--green-650);
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    max-width: 1270px;
    height: 70px; /* Altura base para desktop */
    gap: var(--gap-md);
    padding: 0 var(--padding-md);
    flex-wrap: wrap; /* Importante para responsive */
}

.cart-icon {
    display: flex;
    align-items: center;
    border-radius: var(--border-radius);
    padding: 0.75rem;
    text-decoration: none;
    border:none;
    background-color: var(--green-650);
    margin: 0;
}
.cuenta-box {
    display: flex;
    gap: var(--gap-sm);
    padding: var(--padding-sm);
    border-radius: var(--border-radius);
    background-color: var(--green-650);
    border: none;
    cursor: pointer;
    margin: 0;
    align-items: center;
    color: var(--text-gray-2); /* Asegurar contraste */
}


.cuenta-box:hover, 
.cart-icon:hover 
{
    cursor: pointer;
    background-color: rgba(71, 150, 89, 0.6);
    transition: var(--transition-normal);
}

.header-logo, 
.header-search, 
.header-right 
{
    display: flex;
    gap: var(--gap-md);
    align-items: center;
    flex-shrink: 0;
}

.header-right {
    display: flex;
    align-items: center;
    gap: var(--gap-xl);
}

.header-search {
    flex-grow: 1;
    display: flex;
    align-items: center;    
    max-width: 450px;
}

/*agrego left para poner logo*/
.header-left {
    display: flex;
    align-items: center;
    gap: var(--gap-lg);
}

/* LOGO */
.logo-img {
    height: 42px;
    width: auto;
    object-fit: contain;
}

.header-logo {
    display: flex;
    align-items: center;
    gap: var(--gap-sm);
    padding: var(--padding-xs) 0; /* Padding ajustado */
    border-radius: var(--border-radius);
    transition: all 0.3s ease;
    cursor: pointer;
}

.header-logo-container {
    display: flex;
    align-items: center;
    gap: var(--gap-sm);
}

.header-logo-img {
    height: 50px;
    width: 50px;
    object-fit: contain;
    border-radius: var(--border-radius);
    padding: 4px;
}

.header-logo-text {
    margin: 0;
    font-size: 1.5rem;
    color: var(--text-gray-2);
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
    letter-spacing: 0.5px;
    transition: color 0.3s ease;
    font-weight:  900;
    font-style: normal;
    font-family: var(--font-family-CinzelDecorative);
}


.link-logo {
    text-decoration: none;
    color: inherit;
}

.search-box {
    border: 2px solid var(--green-900);
    background-color: #EDEDED;
    border-radius: var(--border-radius-md);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0px 10px;
    width: 100%;
    max-width: 100%;
    height: 37px;
}

.buscador {
    min-width: 0;
}

.search-box input {
    width: 100%;
    height: 100%;
    flex: 1;
    border: none;
    outline: none;
    background: none;
    font-size: 1rem; /* Ajustado para evitar zoom en iOS */
    padding: 0;
    margin: 0;
    font-family: var(--font-family-Teachers);
}

.search-clear-btn {
    background: none;
    border: none;
    cursor: pointer;
    padding: 4px 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--green-900);
    font-size: 14px;
    transition: var(--transition-normal);
    margin-left: 5px;
}

.search-clear-btn:hover {
    color: var(--green-800);
    transform: scale(1.1);
}

.search-clear-btn:active {
    transform: scale(0.95);
}

.search-box .lupa {
    color: var(--green-900);
}

/* ==================================  RESPONSIVE  =========================================================== */

/* Tablets y MÃ³viles (Hasta 850px) */
@media screen and (max-width: 850px) {
    .header {
        height: auto; /* Permitir que crezca */
        padding: 10px 15px;
        flex-direction: row; /* Mantener fila para logo e iconos */
        flex-wrap: wrap; /* Permitir que los elementos bajen */
        justify-content: space-between;
    }
    
    .header-logo {
        order: 1; /* Logo primero */
        flex: 1; /* Ocupar espacio disponible */
    }

    .header-right {
        order: 2; /* Iconos a la derecha del logo */
        gap: 15px;
    }

    .header-search {
        order: 3; /* Buscador baja a una nueva lÃ­nea */
        width: 100%;
        max-width: 100%;
        margin-top: 10px;
        padding: 0;
    }
    
    .cuenta-box span {
        display: none; /* Ocultar texto "Mi Cuenta" en mÃ³vil para ahorrar espacio */
    }
    
    .header-logo-text {
        font-size: 1.2rem; /* Achicar un poco el tÃ­tulo */
    }
}

/* MÃ³viles muy pequeÃ±os */
@media screen and (max-width: 480px) {
    .header-logo-img {
        height: 40px;
        width: 40px;
    }
}
--- FILE: C:\Workspace\ecommerce-front\src\tienda\styles\Home.css ---
* {
    box-sizing:  border-box;
}

body {
    color: var(--text-gray-2);
    background-color: #EDEDED;
    font-family: "Teachers", sans-serif;
    margin: 0;
}
--- FILE: C:\Workspace\ecommerce-front\src\tienda\styles\Nav_Category.css ---
.main-nav {
    background-color: var(--green-650);
    margin: 0 auto;
    display: flex;
    justify-content: center;
    align-items: center;
    align-content: center;
    gap: var(--gap-md);
    position: relative; /* Necesario para posicionamiento absoluto */
}

.nav-cont-categ {
    background-color: var(--green-650);
    width: 100%;
    max-width: 1270px;
    padding: 0;
    display: flex;
    flex-flow: row nowrap;
    gap: 20px;
    margin: 0;
    justify-content: flex-start;
    align-items: center;
    padding-left: 1rem;
    color: white;
    font-weight: 500;
    font-family: var(--font-family-Teachers);
    height: 50px; /* Altura fija para la barra */
}

/* Contenedor de categorÃ­as visibles en desktop */
.desktop-categories {
    display: flex;
    gap: 10px;
    overflow: hidden; /* Evita desbordes */
}

.categoria-link {
    text-decoration: none;
}

.categoria-item {
    cursor: pointer;
    border-radius: var(--border-radius);
    color: #fff;
    padding: 7px 15px;
    white-space: nowrap;
    transition: var(--transition-normal);
}

.categoria-item:hover {
    background-color: rgba(71, 150, 89, 0.7);
}

/* ===================================  MENU DESPLEGABLE  ========================================= */
.nav-menu {
    display: flex;
    align-items: center;
    flex-shrink: 0;
    position: relative;
    padding: 0;
    margin: 0;
    border-radius: var(--border-radius);
    height: 100%;
}

.faBar-icon {
    display: flex;
    align-items: center;
    border-radius: var(--border-radius);
    margin: 0;
    background-color: var(--green-650);
    color: #fff;
    gap: var(--gap-xs);    
    padding: 7px 15px;
    cursor: pointer;
    transition: var(--transition-normal);
    user-select: none; /* Evita selecciÃ³n de texto al hacer clic rÃ¡pido */
    font-weight: 600;
}

.nav-menu:hover .faBar-icon, 
.faBar-icon:active {
    background-color: rgba(71, 150, 89, 0.6);
}

/* Overlay invisible para detectar clics fuera del menÃº */
.menu-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: transparent;
    z-index: 999; /* Justo debajo del menÃº */
}

/* Estilos para el menÃº desplegable */
.menu-desplegable {
    background-color: rgb(124, 202, 142); /* Color base verde claro */
    position: absolute;
    top: 100%; /* Justo debajo del botÃ³n */
    left: 0;
    border-bottom-right-radius: 4px;
    border-bottom-left-radius: 4px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.15);
    min-width: 220px;
    z-index: 1000; /* Encima de todo */
    margin-top: 5px;
    display: flex;
    flex-direction: column;
    padding-bottom: 5px;
}

.menu-item {
    padding: 12px 15px;
    display: flex;
    align-items: center;
    color: #333;
    text-decoration: none;
    transition: background-color 0.2s;
    font-size: 0.95rem;
    border-left: 3px solid transparent;
}

.menu-item:hover {
    background-color: rgb(193, 200, 193);
    color: rgb(0, 0, 0);
    border-left: 3px solid rgb(32, 105, 67);
}

/* Primera opciÃ³n "Todas las categorÃ­as" */
.menu-desplegable .menu-item:first-child {
    font-weight: 700;
    border-bottom: 1px solid rgba(0,0,0,0.05);
}

.categoria {
    font-weight: 500;
}

.menu-error {
    padding: 12px 16px;
    color: red;
    font-size: 0.9em;
}

/* ==================================  RESPONSIVE  =========================================================== */

/* En tablets y mÃ³viles */
@media screen and (max-width: 768px) {
    /* Ocultamos la lista horizontal de categorÃ­as */
    .desktop-categories {
        display: none;
    }

    /* El contenedor ahora solo tiene el botÃ³n de menÃº */
    .nav-cont-categ {
        justify-content: flex-start;
        padding-left: 10px;
    }

    /* El menÃº desplegable se hace un poco mÃ¡s ancho para facilitar el toque */
    .menu-desplegable {
        width: 260px;
    }
    
    .menu-item {
        padding: 15px; /* MÃ¡s Ã¡rea de toque */
        font-size: 1rem;
    }
}
--- FILE: C:\Workspace\ecommerce-front\src\tienda\styles\Productos.css ---
/* =========================================
   CONTENEDORES PRINCIPALES
   ========================================= */

.main-home-contenedor {
    display: flex;
    justify-content: center;
    width: 100%;
    /* FIX MARGEN: Reducido de 50px a 10px para acercar productos al banner */
    margin-top: 10px; 
    min-height: 100vh;
    padding: 0 20px;
    box-sizing: border-box; 
    flex-direction: column;
    align-items: center;
}

.main-catalogo {
    max-width: 1270px;
    margin: 0 auto;
    display: flex;
    flex-flow: column;
    align-items: center;
    padding: 0 20px;
    width: 100%;
    box-sizing: border-box;
}

@media screen and (max-width: 768px) {
    .main-home-contenedor {
        margin-top: 10px;
        padding: 0 15px;
    }
}

/* =========================================
   GRILLA DE PRODUCTOS
   ========================================= */

.grid-home-prod {
    width: 100%;
    max-width: 1200px;
    display: flex;
    flex-flow: row wrap;
    justify-content: center;
    gap: 30px;
    /* FIX MARGEN: Reducido margen superior a 20px */
    margin: 20px auto 40px auto; 
    align-items: flex-start;
}

/* =========================================
   TARJETA DE PRODUCTO (CARD)
   ========================================= */

.prod-home-container {
    background-color: white;
    border: 1px solid #e0e0e0;
    border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.05);
    padding: 20px;
    display: flex;
    flex-direction: column;
    
    /* RESPONSIVE CARD WIDTH */
    width: 300px; 
    max-width: 100%;
    
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    cursor: pointer;
    box-sizing: border-box;
    overflow: hidden; 
}

.prod-home-container:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.12);
    border-color: var(--green-650);
}

/* --- IMAGEN --- */
.prod-home-image {
    width: 100%;
    height: 220px;
    object-fit: contain; 
    background-color: #fff;
    border-radius: 8px;
    margin-bottom: 15px;
    flex-shrink: 0;
}

/* --- TÃTULO --- */
.prod-home-nombre {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--text-gray-2);
    margin: 0 0 10px 0;
    line-height: 1.3;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    height: 2.6em; 
}

/* --- PRECIO Y STOCK --- */
.prod-home-precio {
    font-size: 1.4rem;
    font-weight: 800;
    color: var(--green-650);
    margin: 5px 0;
}

.prod-home-stock {
    font-size: 0.9rem;
    color: var(--text-gray-4);
    font-weight: 600;
    margin-bottom: 10px;
}

/* --- DESCRIPCIÃ“N --- */
.prod-home-descripcion {
    font-size: 0.9rem;
    color: var(--text-gray-5);
    line-height: 1.5;
    margin-bottom: 20px;
    min-height: 60px;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis; 
    flex-grow: 1;
}

/* --- BOTÃ“N --- */
.prod-home-btn-carrito {
    width: 100%;
    padding: 12px;
    background-color: var(--green-650);
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 8px;
}

.prod-home-btn-carrito:hover {
    background-color: var(--green-800);
    transform: translateY(-2px);
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

.prod-home-btn-carrito:active {
    transform: scale(0.98);
}

.prod-home-btn-carrito.agregado {
    background-color: var(--green-800);
    cursor: default;
    transform: none;
}

/* ==================================  RESPONSIVE  =========================================================== */

@media screen and (max-width: 768px) {
    .grid-home-prod {
        gap: 20px;
        display: grid;
        grid-template-columns: 1fr; 
        justify-items: center;
        /* En mÃ³vil reducimos aÃºn mÃ¡s el margen entre items */
        margin-top: 10px;
    }

    .prod-home-container {
        width: 100%; 
        max-width: 400px;
    }
}

@media screen and (min-width: 550px) and (max-width: 900px) {
    .grid-home-prod {
        grid-template-columns: repeat(2, 1fr);
    }
    .prod-home-container {
        width: 100%;
    }
}
--- FILE: C:\Workspace\ecommerce-front\src\tienda\utils\imageHelper.js ---
export const getImagenPrincipal = (producto) => {
    if (producto.imagenes && Array.isArray(producto.imagenes) && producto.imagenes.length > 0) {
        return producto.imagenes[0]; 
    }
    
    if (producto.images && Array.isArray(producto.images) && producto.images.length > 0) {
        return producto.images[0];
    }

    if (producto.imagen && typeof producto.imagen === 'string' && producto.imagen.trim() !== "") {
        return producto.imagen;
    }

    return "/default-product.png";
};
--- FILE: C:\Workspace\ecommerce-front\src\App.jsx ---
import { BrowserRouter as Router, Routes, Route } from "react-router-dom";
import { AuthProvider } from "./tienda/contexts/AuthContext";
import { TiendaWrapper } from "./tienda/contexts/TiendaWrapper";
import { CarritoProvider } from "./tienda/contexts/CarritoContext";
import { NotificationProvider } from "./contexts/NotificationContext";

// Rutas de protected
import ProtectedRoute from "./components/ProtectedRoute";

// Rutas de landing
import Landing from "./landing/pages/Landing.jsx";
import Login from "./landing/pages/Login.jsx";
import ExplorarTiendas from "./landing/pages/ExplorarTiendas.jsx";
import SolicitarRecuperacion from "./landing/pages/SolicitarRecuperacion.jsx";
import RestablecerContrasenia from "./landing/pages/RestablecerContrasenia.jsx";
import InfoPages from "./landing/pages/InfoPages.jsx";

// Rutas de comprador (AsegÃºrate de que estos archivos existan en estas carpetas)
import BuyerLayout from "./landing/components/BuyerLayout.jsx";
import BuyerCompras from "./landing/pages/BuyerCompras.jsx";
import PerfilSeguridad from "./components/PerfilSeguridad.jsx";

// Rutas de admin
import AdminLayout from "./admin/layouts/AdminLayout.jsx";
import AdminDashboard from "./admin/pages/AdminDashboard.jsx";
import AdminConfiguracion from "./admin/pages/AdminConfiguracion.jsx";
import AdminCrearProductos from "./admin/pages/AdminCrearProductos.jsx";
import AdminEditarProductos from "./admin/pages/AdminEditarProductos.jsx";
import AdminPedidos from "./admin/pages/AdminPedidos.jsx";
import AdminCategorias from "./admin/pages/AdminCategorias.jsx";

// Rutas de tienda
import Home from "./tienda/pages/Home.jsx";
import HomeCategoria from "./tienda/pages/HomeCategoria.jsx";
import Catalogo from "./tienda/pages/Catalogo.jsx";
import Carrito from "./tienda/pages/Carrito.jsx";
import Checkout from "./tienda/pages/Checkout.jsx";
import VerUsuarios from "./tienda/pages/VerUsuarios.jsx";
import LoginComprador from "./tienda/pages/LoginComprador.jsx";
import EstadoPago from "./tienda/pages/EstadoPago.jsx";

/**
 * Componente App
 * * Componente principal de la aplicaciÃ³n que configura el enrutamiento.
 * Define todas las rutas disponibles en la aplicaciÃ³n utilizando React Router.
 * Cada ruta estÃ¡ asociada a un componente de pÃ¡gina especÃ­fico.
 * * Contextos proporcionados:
 * - AuthProvider: Gestiona la autenticaciÃ³n y el token JWT
 * - TiendaWrapper: Proporciona el contexto de tienda, detectando automÃ¡ticamente el nombreTienda de la URL
 * * Rutas disponibles:
 * - "/" - PÃ¡gina principal (Home)
 * - "/login" - PÃ¡gina de inicio de sesiÃ³n
 * - "/catalogo" - CatÃ¡logo de productos
 * - "/carrito" - Carrito de compras
 * - "/checkout" - Proceso de finalizaciÃ³n de compra
 */
function App() {
  return (
    // Router principal que habilita el enrutamiento en toda la aplicaciÃ³n
    <Router>
      {/* Provider de notificaciones: Gestiona notificaciones globales */}
      <NotificationProvider>
        {/* Provider de autenticaciÃ³n: Gestiona token JWT y usuario autenticado */}
        <AuthProvider>
          {/* Wrapper que proporciona el contexto de tienda a toda la aplicaciÃ³n */}
          <TiendaWrapper>
            {/* Provider del carrito: Gestiona el carrito de compras */}
            <CarritoProvider>
              {/* Contenedor de todas las rutas definidas */}
              <Routes>
                
                {/* --- RUTAS PÃšBLICAS Y DE SISTEMA (PRIORIDAD ALTA) --- */}
                {/* Estas deben ir PRIMERO para evitar conflictos con rutas dinÃ¡micas */}
                
                {/* Ruta raÃ­z: Landing page */}
                <Route path="/" element={<Landing />} />
                <Route path="/info/:pagina" element={<InfoPages />} />
                
                {/* Ruta para explorar tiendas */}
                <Route path="/tiendas" element={<ExplorarTiendas />} />
                
                {/* Rutas de autenticaciÃ³n */}
                <Route path="/login" element={<Login />} />
                <Route path="/forgot-password" element={<SolicitarRecuperacion />} />
                <Route path="/reset-password" element={<RestablecerContrasenia />} />

                {/* Rutas de Estado de Pago (Mercado Pago) */}
                {/* Esto soluciona el problema de "volver a tienda" mostrando error */}
                <Route path="/compra-exitosa" element={<EstadoPago estado="exito" />} />
                <Route path="/compra-fallida" element={<EstadoPago estado="fallo" />} />
                <Route path="/compra-pendiente" element={<EstadoPago estado="pendiente" />} />

                {/* --- NUEVAS RUTAS: Panel de Comprador --- */}
                <Route path="/perfil" element={
                  <ProtectedRoute>
                    <BuyerLayout />
                  </ProtectedRoute>
                }>
                  {/* Por defecto ir a compras */}
                  <Route index element={<BuyerCompras />} />
                  <Route path="compras" element={<BuyerCompras />} />
                  <Route path="seguridad" element={<PerfilSeguridad />} />
                </Route>

                {/* --- RUTAS DE ADMINISTRACIÃ“N --- */}
                <Route path="/admin/:nombreTienda" element={
                  <ProtectedRoute requireVendedor={true}>
                    <AdminLayout />
                  </ProtectedRoute>
                }>
                  <Route index element={<AdminDashboard />} />
                  <Route path="dashboard" element={<AdminDashboard />} />
                  <Route path="configuracion" element={<AdminConfiguracion />} />
                  <Route path="productos/crear" element={<AdminCrearProductos />} />
                  <Route path="productos/editar" element={<AdminEditarProductos />} />
                  <Route path="pedidos" element={<AdminPedidos />} />
                  <Route path="categorias" element={<AdminCategorias />} />
                  <Route path="seguridad" element={<PerfilSeguridad />} />
                </Route>

                {/* Ruta fallback admin */}
                <Route path="/admin/*" element={
                  <ProtectedRoute requireVendedor={true}>
                    <AdminLayout />
                  </ProtectedRoute>
                }>
                  <Route path="dashboard" element={<AdminDashboard />} />
                  <Route path="seguridad" element={<PerfilSeguridad />} />
                </Route>

                {/* --- RUTAS DE TIENDA --- */}
                {/* Rutas de tienda con nombreTienda (para compradores) */}
                <Route path="/tienda/:nombreTienda/home" element={<Home />} />
                <Route path="/tienda/:nombreTienda/categoria/:categoriaNombre" element={<HomeCategoria />} />
                <Route path="/tienda/:nombreTienda/login" element={<LoginComprador />} />
                <Route path="/tienda/:nombreTienda/catalogo" element={<Catalogo />} />
                <Route path="/tienda/:nombreTienda/carrito" element={<Carrito />} />
                <Route path="/tienda/:nombreTienda/checkout" element={<Checkout />} />
                <Route path="/tienda/:nombreTienda/usuarios" element={<VerUsuarios />} />

              </Routes>
            </CarritoProvider>
          </TiendaWrapper>
        </AuthProvider>
      </NotificationProvider>
    </Router>
  );
}

export default App;
--- FILE: C:\Workspace\ecommerce-front\src\main.jsx ---
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import App from './App.jsx'
import './MainStyles.css'

/**
* Punto de entrada principal de la aplicaciÃ³n React
* 
* Crea el root de React y renderiza la aplicaciÃ³n dentro del elemento
* con id "root" del HTML. Utiliza StrictMode para detectar problemas
* potenciales durante el desarrollo.
* 
* El componente App contiene toda la configuraciÃ³n de rutas y estructura
* principal de la aplicaciÃ³n.
*/
// StrictMode ayuda a identificar problemas durante el desarrollo
// Componente principal de la aplicaciÃ³n con configuraciÃ³n de rutas

createRoot(document.getElementById('root')).render(
  <StrictMode>
    <App />
  </StrictMode>,
)
--- FILE: C:\Workspace\ecommerce-front\src\MainStyles.css ---
/* ============================================
   VARIABLES CSS GLOBALES - SISTEMA DE DISEÃ‘O
   ============================================ */

:root {
    /* ============================================
       PALETAS DE COLORES
       ============================================ */
   
   /* Colores Pricipales */
   --white: #ffffff;
   --black: #000000;

    /* --- AZULES --- */
    --blue-50: #eff6ff;
    --blue-100: #dbeafe;
    --blue-200: #bfdbfe;
    --blue-300: #93c5fd;
    --blue-350: #7fb3f6;
    --blue-400: #60a5fa;
    --blue-500: #3b82f6;
    --blue-600: #2563eb;
    --blue-700: #1d4ed8;
    --blue-800: #1e40af;
    --blue-900: #1e3a8a;
    --blue-950: #172554;
    
    /* --- VERDES --- */
    --green-50: #f0fcf0;
    --green-100: #dcfcdd;
    --green-200: #bbf7c1;
    --green-300: #5ee86a;
    --green-350: #66d48b;
    --green-400: #42bb42;
    --green-500: #33aa39;
    --green-600: #16a31b;
    --green-650: #29843b;
    --green-700: #1a8015;
    --green-800: #16651b;
    --green-900: #14531a;
    --green-950: #052e09;
    
    /* --- NARANJAS --- */
    --orange-50: #fff7ed;
    --orange-100: #ffedd5;
    --orange-200: #fed7aa;
    --orange-300: #fdba74;
    --orange-350: #fb923c;
    --orange-400: #fb923c;
    --orange-500: #f97316;
    --orange-600: #ea580c;
    --orange-700: #c2410c;
    --orange-800: #9a3412;
    --orange-900: #7c2d12;
    --orange-950: #431407;
    
    /* --- CELESTES --- */
    --cyan-50: #ecfeff;
    --cyan-100: #cffafe;
    --cyan-200: #a5f3fc;
    --cyan-300: #67e8f9;
    --cyan-350: #5eead4;
    --cyan-400: #22d3ee;
    --cyan-500: #06b6d4;
    --cyan-600: #0891b2;
    --cyan-700: #0e7490;
    --cyan-800: #155e75;
    --cyan-900: #164e63;
    --cyan-950: #083344;

    /* --- VIOLETAS --- */
    --violet-50: #f5f3ff;
    --violet-100: #ede9fe;
    --violet-200: #ddd6fe;
    --violet-300: #c4b5fd;
    --violet-350: #b78cf8;
    --violet-400: #a78bfa;
    --violet-500: #8b5cf6;
    --violet-600: #7c3aed;
    --violet-700: #6d28d9;
    --violet-800: #5b21b6;
    --violet-900: #4c1d95;
    --violet-950: #2e1065;
    
    /* --- ROJOS --- */
    --red-50: #fef2f2;
    --red-100: #fee2e2;
    --red-200: #fecaca;
    --red-300: #fca5a5;
    --red-350: #f87171;
    --red-400: #f87171;
    --red-500: #ef4444;
    --red-600: #dc2626;
    --red-700: #b91c1c;
    --red-800: #991b1b;
    --red-900: #7f1d1d;
    --red-950: #450a0a;
    
    /* --- GRISES Y NEUTROS --- */
    --gray-50: #f9fafb;
    --gray-100: #f3f4f6;
    --gray-200: #e5e7eb;
    --gray-300: #d1d5db;
    --gray-350: #b1b5bd;
    --gray-400: #9ca3af;
    --gray-500: #6b7280;
    --gray-600: #4b5563;
    --gray-700: #374151;
    --gray-800: #1f2937;
    --gray-900: #111827;
    --gray-950: #030712;

    
    /* ============================================
       FONDOS Y DIVS
       ============================================ */
    
    /* Fondos principales -blancos a negros-*/
    /* Blancos */
    --bg-light-primary: #ffffff;
    --bg-light-secondary: var(--gray-50);
    --bg-light-tertiary: var(--gray-100);

    /* Negros */
    --bg-dark-primary: var(--gray-950);
    --bg-dark-secondary: var(--gray-900);
    --bg-dark-tertiary: var(--gray-800);

    
    /* Fondos con colores de paleta */
    --bg-blue: var(--blue-50);
    --bg-green: var(--green-50);
    --bg-orange: var(--orange-50);
    --bg-cyan: var(--cyan-50);
    --bg-red: var(--red-50);
    --bg-violet: var(--violet-50);
    
    /* Overlays Principal*/
    --bg-overlay: rgba(0, 0, 0, 0.5);

    /* Overlays de colores de paleta */
    --bg-overlay-blue: rgba(37, 99, 235, 0.1);
    --bg-overlay-green: rgba(34, 197, 94, 0.1);
    --bg-overlay-orange: rgba(249, 115, 22, 0.1);
    --bg-overlay-cyan: rgba(6, 182, 212, 0.1);
    --bg-overlay-red: rgba(239, 68, 68, 0.256);
    --bg-overlay-violet: rgba(139, 92, 246, 0.1);

    /* Fondos con degradado (gradients) */
    /* Degradados azules */
    --gradient-blue: linear-gradient(135deg, var(--blue-500) 0%, var(--blue-700) 100%);
    --gradient-blue-light: linear-gradient(135deg, var(--blue-400) 0%, var(--blue-600) 100%);
    --gradient-blue-dark: linear-gradient(135deg, var(--blue-700) 0%, var(--blue-900) 100%);
    --gradient-blue-soft: linear-gradient(135deg, var(--blue-100) 0%, var(--blue-300) 100%);
    --gradient-blue-vertical: linear-gradient(180deg, var(--blue-500) 0%, var(--blue-700) 100%);
    --gradient-blue-vertical-soft: linear-gradient(180deg, var(--blue-100) 0%, var(--blue-300) 100%);
    --gradient-blue-vertical-soft-2: linear-gradient(180deg, var(--blue-300) 0%, var(--blue-100) 100%);
    --gradient-blue-horizontal: linear-gradient(90deg, var(--blue-500) 0%, var(--blue-700) 100%);
    
    /* Degradados verdes */
    --gradient-green: linear-gradient(135deg, var(--green-500) 0%, var(--green-700) 100%);
    --gradient-green-light: linear-gradient(135deg, var(--green-400) 0%, var(--green-600) 100%);
    --gradient-green-dark: linear-gradient(135deg, var(--green-700) 0%, var(--green-900) 100%);
    --gradient-green-soft: linear-gradient(135deg, var(--green-100) 0%, var(--green-300) 100%);
    --gradient-green-soft-2: linear-gradient(135deg, var(--green-300) 0%, var(--green-100) 100%);
    --gradient-green-vertical: linear-gradient(180deg, var(--green-500) 0%, var(--green-700) 100%);
    --gradient-green-vertical-soft: linear-gradient(180deg, var(--green-100) 0%, var(--green-400) 100%);
    --gradient-green-vertical-soft-2: linear-gradient(180deg, var(--green-400) 0%, var(--green-100) 100%);
    --gradient-green-horizontal: linear-gradient(90deg, var(--green-500) 0%, var(--green-700) 100%);
    
    /* Degradados naranjas */
    --gradient-orange: linear-gradient(135deg, var(--orange-500) 0%, var(--orange-700) 100%);
    --gradient-orange-light: linear-gradient(135deg, var(--orange-400) 0%, var(--orange-600) 100%);
    --gradient-orange-dark: linear-gradient(135deg, var(--orange-700) 0%, var(--orange-900) 100%);
    --gradient-orange-soft: linear-gradient(135deg, var(--orange-100) 0%, var(--orange-300) 100%);
    --gradient-orange-vertical: linear-gradient(180deg, var(--orange-500) 0%, var(--orange-700) 100%);
    --gradient-orange-vertical-soft: linear-gradient(180deg, var(--orange-100) 0%, var(--orange-300) 100%);
    --gradient-orange-vertical-soft-2: linear-gradient(180deg, var(--orange-300) 0%, var(--orange-100) 100%);
    --gradient-orange-horizontal: linear-gradient(90deg, var(--orange-500) 0%, var(--orange-700) 100%);
    
    /* Degradados celestes */
    --gradient-cyan: linear-gradient(135deg, var(--cyan-500) 0%, var(--cyan-700) 100%);
    --gradient-cyan-light: linear-gradient(135deg, var(--cyan-400) 0%, var(--cyan-600) 100%);
    --gradient-cyan-dark: linear-gradient(135deg, var(--cyan-700) 0%, var(--cyan-900) 100%);
    --gradient-cyan-soft: linear-gradient(135deg, var(--cyan-100) 0%, var(--cyan-300) 100%);
    --gradient-cyan-vertical: linear-gradient(180deg, var(--cyan-500) 0%, var(--cyan-700) 100%);
    --gradient-cyan-vertical-soft: linear-gradient(180deg, var(--cyan-100) 0%, var(--cyan-300) 100%);
    --gradient-cyan-vertical-soft-2: linear-gradient(180deg, var(--cyan-300) 0%, var(--cyan-100) 100%);
    --gradient-cyan-horizontal: linear-gradient(90deg, var(--cyan-500) 0%, var(--cyan-700) 100%);
    
    /* Degradados rojos */
    --gradient-red: linear-gradient(135deg, var(--red-500) 0%, var(--red-700) 100%);
    --gradient-red-light: linear-gradient(135deg, var(--red-400) 0%, var(--red-600) 100%);
    --gradient-red-dark: linear-gradient(135deg, var(--red-700) 0%, var(--red-900) 100%);
    --gradient-red-soft: linear-gradient(135deg, var(--red-100) 0%, var(--red-300) 100%);
    --gradient-red-vertical: linear-gradient(180deg, var(--red-500) 0%, var(--red-700) 100%);
    --gradient-red-vertical-soft: linear-gradient(180deg, var(--red-100) 0%, var(--red-300) 100%);
    --gradient-red-vertical-soft-2: linear-gradient(180deg, var(--red-300) 0%, var(--red-100) 100%);
    --gradient-red-horizontal: linear-gradient(90deg, var(--red-500) 0%, var(--red-700) 100%);

    /* Degradados violetas */
    --gradient-violet: linear-gradient(135deg, var(--violet-500) 0%, var(--violet-700) 100%);
    --gradient-violet-light: linear-gradient(135deg, var(--violet-400) 0%, var(--violet-600) 100%);
    --gradient-violet-dark: linear-gradient(135deg, var(--violet-700) 0%, var(--violet-900) 100%);
    --gradient-violet-soft: linear-gradient(135deg, var(--violet-100) 0%, var(--violet-300) 100%);
    --gradient-violet-vertical: linear-gradient(180deg, var(--violet-500) 0%, var(--violet-700) 100%);
    --gradient-violet-vertical-soft: linear-gradient(180deg, var(--violet-100) 0%, var(--violet-300) 100%);
    --gradient-violet-vertical-soft-2: linear-gradient(180deg, var(--violet-300) 0%, var(--violet-100) 100%);
    --gradient-violet-horizontal: linear-gradient(90deg, var(--violet-500) 0%, var(--violet-700) 100%);

    /* Degradados combinados (multicolor) */
    --gradient-blue-green: linear-gradient(135deg, var(--blue-500) 0%, var(--green-500) 100%);
    --gradient-blue-cyan: linear-gradient(135deg, var(--blue-500) 0%, var(--cyan-500) 100%);
    --gradient-orange-red: linear-gradient(135deg, var(--orange-500) 0%, var(--red-500) 100%);
    --gradient-cyan-green: linear-gradient(135deg, var(--cyan-500) 0%, var(--green-500) 100%);
    --gradient-purple-blue: linear-gradient(135deg, #667eea 0%, var(--blue-500) 100%);
    --gradient-purple-pink: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --gradient-rainbow: linear-gradient(135deg, var(--red-500) 0%, var(--orange-500) 25%, var(--green-500) 50%, var(--cyan-500) 75%, var(--blue-500) 100%);
    --gradient-violet-blue: linear-gradient(135deg, var(--violet-500) 0%, var(--blue-500) 100%);
    --gradient-violet-blue: linear-gradient(135deg, var(--violet-500) 0%, var(--blue-500) 100%);
    --gradient-vertical-violet-blue: linear-gradient(180deg, var(--blue-100) 0%, var(--violet-300) 100%);

    /* Degradados con grises */
    --gradient-gray: linear-gradient(135deg, var(--gray-400) 0%, var(--gray-600) 100%);
    --gradient-gray-light: linear-gradient(135deg, var(--gray-200) 0%, var(--gray-400) 100%);
    --gradient-gray-dark: linear-gradient(135deg, var(--gray-700) 0%, var(--gray-900) 100%);
    --gradient-white-gray: linear-gradient(135deg, #ffffff 0%, var(--gray-100) 100%);
    --gradient-gray-white: linear-gradient(135deg, var(--gray-100) 0%, #ffffff 100%);
    
    /* Degradados radiales */
    --gradient-radial-blue: radial-gradient(circle, var(--blue-400) 0%, var(--blue-700) 100%);
    --gradient-radial-green: radial-gradient(circle, var(--green-400) 0%, var(--green-700) 100%);
    --gradient-radial-orange: radial-gradient(circle, var(--orange-400) 0%, var(--orange-700) 100%);
    --gradient-radial-cyan: radial-gradient(circle, var(--cyan-400) 0%, var(--cyan-700) 100%);
    --gradient-radial-red: radial-gradient(circle, var(--red-400) 0%, var(--red-700) 100%);
    --gradient-radial-gray: radial-gradient(circle, var(--gray-300) 0%, var(--gray-600) 100%);
    --gradient-radial-violet: radial-gradient(circle, var(--violet-400) 0%, var(--violet-700) 100%);
    
    /* Degradados con transparencia */
    --gradient-blue-transparent: linear-gradient(135deg, rgba(59, 130, 246, 0.9) 0%, rgba(29, 78, 216, 0.9) 100%);
    --gradient-green-transparent: linear-gradient(135deg, rgba(34, 197, 94, 0.9) 0%, rgba(21, 128, 61, 0.9) 100%);
    --gradient-orange-transparent: linear-gradient(135deg, rgba(249, 115, 22, 0.9) 0%, rgba(194, 65, 12, 0.9) 100%);
    --gradient-cyan-transparent: linear-gradient(135deg, rgba(6, 182, 212, 0.9) 0%, rgba(14, 116, 144, 0.9) 100%);
    --gradient-red-transparent: linear-gradient(135deg, rgba(239, 68, 68, 0.9) 0%, rgba(185, 28, 28, 0.9) 100%);
    --gradient-violet-transparent: linear-gradient(135deg, rgba(139, 92, 246, 0.9) 0%, rgba(109, 40, 217, 0.9) 100%);
    
    /* Degradados suaves (pastel) */
    --gradient-pastel-blue: linear-gradient(135deg, var(--blue-100) 0%, var(--blue-200) 100%);
    --gradient-pastel-green: linear-gradient(135deg, var(--green-100) 0%, var(--green-200) 100%);
    --gradient-pastel-orange: linear-gradient(135deg, var(--orange-100) 0%, var(--orange-200) 100%);
    --gradient-pastel-cyan: linear-gradient(135deg, var(--cyan-100) 0%, var(--cyan-200) 100%);
    --gradient-pastel-red: linear-gradient(135deg, var(--red-100) 0%, var(--red-200) 100%);
    --gradient-pastel-violet: linear-gradient(135deg, var(--violet-100) 0%, var(--violet-200) 100%);

    /* Degradados especiales */
    --gradient-sunset: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    --gradient-ocean: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --gradient-forest: linear-gradient(135deg, var(--green-600) 0%, var(--green-800) 100%);
    --gradient-fire: linear-gradient(135deg, var(--orange-500) 0%, var(--red-500) 100%);
    --gradient-sky: linear-gradient(135deg, var(--cyan-400) 0%, var(--blue-500) 100%);
    --gradient-midnight: linear-gradient(135deg, var(--gray-800) 0%, var(--gray-900) 100%);
    --gradient-violet-gradient: linear-gradient(135deg, var(--violet-500) 0%, var(--violet-700) 100%);

    /* ============================================
       BORDES
       ============================================ */
    
    /* Colores de bordes */
    --border-color: var(--gray-200);
    --border-color-light: var(--gray-100);
    --border-color-dark: var(--gray-300);
    --border-color-blue: var(--blue-500);
    --border-color-green: var(--green-500);
    --border-color-orange: var(--orange-500);
    --border-color-cyan: var(--cyan-500);
    --border-color-red: var(--red-500);
    --border-color-violet: var(--violet-500);
    
    /* TamaÃ±os de radio (border-radius) */
    --border-radius-none: 0;
    --border-radius-xs: 2px;
    --border-radius-sm: 4px;
    --border-radius-md: 6px;
    --border-radius: 8px;
    --border-radius-lg: 12px;
    --border-radius-xl: 16px;
    --border-radius-2xl: 20px;
    --border-radius-3xl: 24px;
    --border-radius-full: 9999px;
    
    /* Anchos de bordes */
    --border-width-none: 0;
    --border-width-sm: 1px;
    --border-width: 2px;
    --border-width-xl: 3px;
    --border-width-2xl: 4px;
    
    /* ============================================
       ESPACIADOS
       ============================================ */
    
    /* Padding */
    --padding-none: 0;
    --padding-xs: 0.25rem;      /* 4px */
    --padding-sm: 0.5rem;       /* 8px */
    --padding-md: 0.75rem;      /* 12px */
    --padding: 1rem;            /* 16px */
    --padding-lg: 1.5rem;       /* 24px */
    --padding-xl: 2rem;         /* 32px */
    --padding-2xl: 2.5rem;      /* 40px */
    --padding-3xl: 3rem;        /* 48px */
    --padding-4xl: 4rem;        /* 64px */
    
    /* Margin */
    --margin-none: 0;
    --margin-xs: 0.25rem;        /* 4px */
    --margin-sm: 0.5rem;         /* 8px */
    --margin-md: 0.75rem;        /* 12px */
    --margin: 1rem;             /* 16px */
    --margin-lg: 1.5rem;         /* 24px */
    --margin-xl: 2rem;           /* 32px */
    --margin-2xl: 2.5rem;        /* 40px */
    --margin-3xl: 3rem;          /* 48px */
    --margin-4xl: 4rem;          /* 64px */
    
    /* Gap (para flexbox y grid) */
    --gap-none: 0;
    --gap-xs: 0.25rem;
    --gap-sm: 0.5rem;
    --gap-md: 0.75rem;
    --gap: 1rem;
    --gap-lg: 1.5rem;
    --gap-xl: 2rem;
    --gap-2xl: 3rem;
    
    /* ============================================
       SOMBRAS
       ============================================ */
    
    /* Sombras estÃ¡ndar */
    --shadow-none: none;
    --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
    --shadow-inner: inset 0 2px 4px 0 rgb(0 0 0 / 0.05);
    
    /* Sombras coloreadas */
    --shadow-blue: 0 10px 15px -3px rgba(37, 99, 235, 0.3), 0 4px 6px -4px rgba(37, 99, 235, 0.2);
    --shadow-green: 0 10px 15px -3px rgba(34, 197, 94, 0.3), 0 4px 6px -4px rgba(34, 197, 94, 0.2);
    --shadow-orange: 0 10px 15px -3px rgba(249, 115, 22, 0.3), 0 4px 6px -4px rgba(249, 115, 22, 0.2);
    --shadow-cyan: 0 10px 15px -3px rgba(6, 182, 212, 0.3), 0 4px 6px -4px rgba(6, 182, 212, 0.2);
    --shadow-red: 0 10px 15px -3px rgba(239, 68, 68, 0.3), 0 4px 6px -4px rgba(239, 68, 68, 0.2);
    
    /* ============================================
       TEXTO
       ============================================ */
    
    /* Colores de texto */
    --text-gray-1: var(--gray-900);
    --text-gray-2: var(--gray-800);
    --text-gray-3: var(--gray-700);
    --text-gray-4: var(--gray-600);
    --text-gray-5: var(--gray-500);
    --text-white: #ffffff;
    --text-black: #000000;
    
    /* Colores de texto con paleta */
    --text-blue: var(--blue-600);
    --text-blue-light: var(--blue-500);
    --text-blue-light-2: var(--blue-350);
    --text-blue-dark: var(--blue-800);
    
    --text-green: var(--green-600);
    --text-green-light: var(--green-500);
    --text-green-light-2: var(--green-350);
    --text-green-dark: var(--green-800);
    
    --text-orange: var(--orange-600);
    --text-orange-light: var(--orange-500);
    --text-orange-light-2: var(--orange-350);
    --text-orange-dark: var(--orange-800);
    
    --text-cyan: var(--cyan-600);
    --text-cyan-light: var(--cyan-500);
    --text-cyan-light-2: var(--cyan-350);
    --text-cyan-dark: var(--cyan-800);
    
    --text-red: var(--red-600);
    --text-red-light: var(--red-500);
    --text-red-light-2: var(--red-350);
    --text-red-dark: var(--red-800);

    --text-violet: var(--violet-600);
    --text-violet-light: var(--violet-500);
    --text-violet-light-2: var(--violet-350);
    --text-violet-dark: var(--violet-800);

    /* TamaÃ±os de fuente */
    --font-size-xs: 0.75rem;      /* 12px */
    --font-size-sm: 0.875rem;     /* 14px */
    --font-size-base: 1rem;       /* 16px */
    --font-size-lg: 1.125rem;     /* 18px */
    --font-size-xl: 1.25rem;      /* 20px */
    --font-size-2xl: 1.5rem;      /* 24px */
    --font-size-3xl: 1.875rem;    /* 30px */
    --font-size-4xl: 2.25rem;     /* 36px */
    --font-size-5xl: 3rem;        /* 48px */
    --font-size-6xl: 3.75rem;     /* 60px */
    
    /* Pesos de fuente (negrita) */
    --font-weight-thin: 100;
    --font-weight-extralight: 200;
    --font-weight-light: 300;
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --font-weight-extrabold: 800;
    --font-weight-black: 900;
    
    /* Estilos de fuente */
    --font-family-Inter: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    --font-family-Orbitron: "Orbitron", sans-serif;
    --font-family-Cinzel: "Cinzel", serif;
    --font-family-CinzelDecorative: "Cinzel Decorative", serif;
    --font-family-Graduate: "Graduate", serif;
    --font-family-UnicaOne: "Unica One", sans-serif;
    --font-family-Teachers: "Teachers", sans-serif;
    
    /* Altura de lÃ­nea */
    --line-height-none: 1;
    --line-height-tight: 1.25;
    --line-height-snug: 1.375;
    --line-height-normal: 1.5;
    --line-height-relaxed: 1.625;
    --line-height-loose: 2;
    
    /* Espaciado de letras */
    --letter-spacing-xs: -0.05em;
    --letter-spacing-sm: -0.025em;
    --letter-spacing-md: 0;
    --letter-spacing-lg: 0.025em;
    --letter-spacing-xl: 0.05em;
    --letter-spacing-2xl: 0.1em;
    
    /* ============================================
       ICONOS
       ============================================ */
    
    /* TamaÃ±os de iconos */
    --icon-size-xs: 0.75rem;      /* 12px */
    --icon-size-sm: 1rem;         /* 16px */
    --icon-size-md: 1.25rem;      /* 20px */
    --icon-size: 1.5rem;          /* 24px */
    --icon-size-lg: 2rem;         /* 32px */
    --icon-size-xl: 2.5rem;       /* 40px */
    --icon-size-2xl: 3rem;        /* 48px */
    --icon-size-3xl: 4rem;        /* 64px */
    
    /* Colores de iconos */
    --icon-gray-1: var(--gray-900);
    --icon-gray-2: var(--gray-500);
    --icon-gray-3: var(--gray-700);
    --icon-color-blue: var(--blue-600);
    --icon-color-green: var(--green-600);
    --icon-color-orange: var(--orange-600);
    --icon-color-cyan: var(--cyan-600);
    --icon-color-red: var(--red-600);
    --icon-color-violet: var(--violet-600);
    --icon-color-white: #ffffff;
    
    /* ============================================
       TRANSICIONES
       ============================================ */
    
    /* Tiempos de transiciÃ³n */
    --transition-instant: 0ms;
    --transition-fastest: 50ms;
    --transition-faster: 100ms;
    --transition-fast: 150ms;
    --transition-normal: 300ms;
    --transition-slow: 500ms;
    --transition-slower: 750ms;
    --transition-slowest: 1000ms;
    
    /* Funciones de timing */
    --ease-linear: linear;
    --ease-in: ease-in;
    --ease-out: ease-out;
    --ease-in-out: ease-in-out;
    --ease-back: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
    
    /* Transiciones predefinidas */
    --main-transition-fast: var(--transition-fast) var(--ease-in-out);
    --main-transition-normal: var(--transition-normal) var(--ease-in-out);
    --main-transition-slow: var(--transition-slow) var(--ease-in-out);
    --main-transition-all-fast: all var(--transition-fast) var(--ease-in-out);
    --main-transition-all-normal: all var(--transition-normal) var(--ease-in-out);
    --main-transition-all-slow: all var(--transition-slow) var(--ease-in-out);
    
    /* ============================================
       Z-INDEX
       ============================================ */
    
    --z-base: 0;
    --z-dropdown: 1000;
    --z-sticky: 1020;
    --z-fixed: 1030;
    --z-modal-backdrop: 1040;
    --z-modal: 1050;
    --z-popover: 1060;
    --z-tooltip: 1070;
    --z-notification: 1080;
    --z-max: 9999;
}

/* ============================================
   UTILIDADES GLOBALES
   ============================================ */

* {
   box-sizing: border-box;
}

body {
   font-family: var(--font-family);
   color: var(--text-primary);
   background-color: var(--bg-light-primary);
   line-height: var(--line-height-normal);
   -webkit-font-smoothing: antialiased;
   -moz-osx-font-smoothing: grayscale;
}

/* Clases de utilidad para colores de texto */
.text-blue { color: var(--text-blue); }
.text-green { color: var(--text-green); }
.text-orange { color: var(--text-orange); }
.text-cyan { color: var(--text-cyan); }
.text-red { color: var(--text-red); }
.text-violet { color: var(--text-violet); }

/* Clases de utilidad para fondos */
.bg-blue { background-color: var(--bg-blue); }
.bg-green { background-color: var(--bg-green); }
.bg-orange { background-color: var(--bg-orange); }
.bg-cyan { background-color: var(--bg-cyan); }
.bg-red { background-color: var(--bg-red); }
.bg-violet { background-color: var(--bg-violet); }

/* Clases de utilidad para degradados */
.gradient-blue { background: var(--gradient-blue); }
.gradient-blue-light { background: var(--gradient-blue-light); }
.gradient-blue-dark { background: var(--gradient-blue-dark); }
.gradient-blue-soft { background: var(--gradient-blue-soft); }
.gradient-blue-vertical-soft { background: var(--gradient-blue-vertical-soft); }
.gradient-blue-vertical-soft-2 { background: var(--gradient-blue-vertical-soft-2); }
.gradient-blue-horizontal { background: var(--gradient-blue-horizontal); }

.gradient-green { background: var(--gradient-green); }
.gradient-green-light { background: var(--gradient-green-light); }
.gradient-green-dark { background: var(--gradient-green-dark); }
.gradient-green-soft { background: var(--gradient-green-soft); }
.gradient-green-vertical-soft { background: var(--gradient-green-vertical-soft); }
.gradient-green-vertical-soft-2 { background: var(--gradient-green-vertical-soft-2); }
.gradient-green-horizontal { background: var(--gradient-green-horizontal); }

.gradient-orange { background: var(--gradient-orange); }
.gradient-orange-light { background: var(--gradient-orange-light); }
.gradient-orange-dark { background: var(--gradient-orange-dark); }
.gradient-orange-soft { background: var(--gradient-orange-soft); }
.gradient-orange-vertical-soft { background: var(--gradient-orange-vertical-soft); }
.gradient-orange-vertical-soft-2 { background: var(--gradient-orange-vertical-soft-2); }
.gradient-orange-horizontal { background: var(--gradient-orange-horizontal); }

.gradient-cyan { background: var(--gradient-cyan); }
.gradient-cyan-light { background: var(--gradient-cyan-light); }
.gradient-cyan-dark { background: var(--gradient-cyan-dark); }
.gradient-cyan-soft { background: var(--gradient-cyan-soft); }
.gradient-cyan-vertical-soft { background: var(--gradient-cyan-vertical-soft); }
.gradient-cyan-vertical-soft-2 { background: var(--gradient-cyan-vertical-soft-2); }
.gradient-cyan-horizontal { background: var(--gradient-cyan-horizontal); }

.gradient-red { background: var(--gradient-red); }
.gradient-red-light { background: var(--gradient-red-light); }
.gradient-red-dark { background: var(--gradient-red-dark); }
.gradient-red-soft { background: var(--gradient-red-soft); }
.gradient-red-vertical-soft { background: var(--gradient-red-vertical-soft); }
.gradient-red-vertical-soft-2 { background: var(--gradient-red-vertical-soft-2); }
.gradient-red-horizontal { background: var(--gradient-red-horizontal); }

.gradient-blue-green { background: var(--gradient-blue-green); }
.gradient-blue-cyan { background: var(--gradient-blue-cyan); }
.gradient-orange-red { background: var(--gradient-orange-red); }
.gradient-cyan-green { background: var(--gradient-cyan-green); }
.gradient-purple-blue { background: var(--gradient-purple-blue); }
.gradient-purple-pink { background: var(--gradient-purple-pink); }
.gradient-rainbow { background: var(--gradient-rainbow); }
.gradient-violet-blue { background: var(--gradient-violet-blue); }

.gradient-sunset { background: var(--gradient-sunset); }
.gradient-ocean { background: var(--gradient-ocean); }
.gradient-forest { background: var(--gradient-forest); }
.gradient-fire { background: var(--gradient-fire); }
.gradient-sky { background: var(--gradient-sky); }
.gradient-midnight { background: var(--gradient-midnight); }
.gradient-violet-gradient { background: var(--gradient-violet-gradient); }
